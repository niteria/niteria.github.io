<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998
-}</span><span>
</span><a name="line-5"></a><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE CPP, DeriveDataTypeable, ScopedTypeVariables #-}</span><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><a name="line-8"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span> </span><span class="hs-comment">-- Note [Pass sensitive types]</span><span>
</span><a name="line-10"></a><span>                                      </span><span class="hs-comment">-- in module PlaceHolder</span><span>
</span><a name="line-11"></a><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><a name="line-12"></a><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><a name="line-13"></a><span>
</span><a name="line-14"></a><span class="hs-comment">-- | Abstract Haskell syntax for expressions.</span><span>
</span><a name="line-15"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">HsExpr</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-16"></a><span>
</span><a name="line-17"></a><span class="hs-cpp">#include &quot;HsVersions.h&quot;</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-comment">-- friends:</span><span>
</span><a name="line-20"></a><span class="hs-keyword">import</span><span> </span><a href="HsDecls.html"><span class="hs-identifier">HsDecls</span></a><span>
</span><a name="line-21"></a><span class="hs-keyword">import</span><span> </span><a href="HsPat.html"><span class="hs-identifier">HsPat</span></a><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span> </span><a href="HsLit.html"><span class="hs-identifier">HsLit</span></a><span>
</span><a name="line-23"></a><span class="hs-keyword">import</span><span> </span><a href="PlaceHolder.html"><span class="hs-identifier">PlaceHolder</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span class="hs-special">,</span><a href="PlaceHolder.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span class="hs-special">,</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-24"></a><span class="hs-keyword">import</span><span> </span><a href="HsTypes.html"><span class="hs-identifier">HsTypes</span></a><span>
</span><a name="line-25"></a><span class="hs-keyword">import</span><span> </span><a href="HsBinds.html"><span class="hs-identifier">HsBinds</span></a><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span class="hs-comment">-- others:</span><span>
</span><a name="line-28"></a><span class="hs-keyword">import</span><span> </span><a href="TcEvidence.html"><span class="hs-identifier">TcEvidence</span></a><span>
</span><a name="line-29"></a><span class="hs-keyword">import</span><span> </span><a href="CoreSyn.html"><span class="hs-identifier">CoreSyn</span></a><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span> </span><a href="Var.html"><span class="hs-identifier">Var</span></a><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span> </span><a href="DynFlags.html"><span class="hs-identifier">DynFlags</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a><span class="hs-special">,</span><span> </span><a href="DynFlags.html#GeneralFlag"><span class="hs-identifier hs-type">GeneralFlag</span></a><span class="hs-special">(</span><a href="DynFlags.html#Opt_PrintExplicitCoercions"><span class="hs-identifier hs-var">Opt_PrintExplicitCoercions</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span> </span><a href="Name.html"><span class="hs-identifier">Name</span></a><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span> </span><a href="RdrName.html"><span class="hs-identifier">RdrName</span></a><span>  </span><span class="hs-special">(</span><span> </span><a href="RdrName.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-34"></a><span class="hs-keyword">import</span><span> </span><a href="BasicTypes.html"><span class="hs-identifier">BasicTypes</span></a><span>
</span><a name="line-35"></a><span class="hs-keyword">import</span><span> </span><a href="ConLike.html"><span class="hs-identifier">ConLike</span></a><span>
</span><a name="line-36"></a><span class="hs-keyword">import</span><span> </span><a href="SrcLoc.html"><span class="hs-identifier">SrcLoc</span></a><span>
</span><a name="line-37"></a><span class="hs-keyword">import</span><span> </span><a href="Util.html"><span class="hs-identifier">Util</span></a><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span> </span><a href="StaticFlags.html"><span class="hs-identifier">StaticFlags</span></a><span class="hs-special">(</span><span> </span><a href="StaticFlags.html#opt_PprStyle_Debug"><span class="hs-identifier hs-var">opt_PprStyle_Debug</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span> </span><a href="Outputable.html"><span class="hs-identifier">Outputable</span></a><span>
</span><a name="line-40"></a><span class="hs-keyword">import</span><span> </span><a href="FastString.html"><span class="hs-identifier">FastString</span></a><span>
</span><a name="line-41"></a><span class="hs-keyword">import</span><span> </span><a href="Type.html"><span class="hs-identifier">Type</span></a><span>
</span><a name="line-42"></a><span>
</span><a name="line-43"></a><span class="hs-comment">-- libraries:</span><span>
</span><a name="line-44"></a><span class="hs-keyword">import</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Data</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">)</span><span>
</span><a name="line-45"></a><span class="hs-keyword">import</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a><span class="hs-special">)</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Expressions proper}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-54"></a><span>
</span><a name="line-55"></a><span class="hs-comment">-- * Expressions proper</span><span>
</span><a name="line-56"></a><span>
</span><a name="line-57"></a><span class="hs-keyword">type</span><span> </span><a name="LHsExpr"><a href="HsExpr.html#LHsExpr"><span class="hs-identifier">LHsExpr</span></a></a><span> </span><a name="local-1627825075"><a href="#local-1627825075"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825075"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-58"></a><span>  </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnComma' when</span><span>
</span><a name="line-59"></a><span>  </span><span class="hs-comment">--   in a list</span><span>
</span><a name="line-60"></a><span>
</span><a name="line-61"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-62"></a><span>
</span><a name="line-63"></a><span class="hs-comment">-------------------------</span><span>
</span><a name="line-64"></a><span class="hs-comment">-- | PostTcExpr is an evidence expression attached to the syntax tree by the</span><span>
</span><a name="line-65"></a><span class="hs-comment">-- type checker (c.f. postTcType).</span><span>
</span><a name="line-66"></a><span class="hs-keyword">type</span><span> </span><a name="PostTcExpr"><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier">PostTcExpr</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span>
</span><a name="line-67"></a><span class="hs-comment">-- | We use a PostTcTable where there are a bunch of pieces of evidence, more</span><span>
</span><a name="line-68"></a><span class="hs-comment">-- than is convenient to keep individually.</span><span>
</span><a name="line-69"></a><span class="hs-keyword">type</span><span> </span><a name="PostTcTable"><a href="HsExpr.html#PostTcTable"><span class="hs-identifier">PostTcTable</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span class="hs-identifier">noPostTcExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span>
</span><a name="line-72"></a><a name="noPostTcExpr"><a href="HsExpr.html#noPostTcExpr"><span class="hs-identifier">noPostTcExpr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a><span> </span><span class="hs-special">(</span><a href="HsLit.html#HsString"><span class="hs-identifier hs-var">HsString</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-special">(</span><a href="FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a><span> </span><span class="hs-string">&quot;noPostTcExpr&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-73"></a><span>
</span><a name="line-74"></a><span class="hs-identifier">noPostTcTable</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#PostTcTable"><span class="hs-identifier hs-type">PostTcTable</span></a><span>
</span><a name="line-75"></a><a name="noPostTcTable"><a href="HsExpr.html#noPostTcTable"><span class="hs-identifier">noPostTcTable</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-76"></a><span>
</span><a name="line-77"></a><span class="hs-comment">-------------------------</span><span>
</span><a name="line-78"></a><span class="hs-comment">-- | SyntaxExpr is like 'PostTcExpr', but it's filled in a little earlier,</span><span>
</span><a name="line-79"></a><span class="hs-comment">-- by the renamer.  It's used for rebindable syntax.</span><span>
</span><a name="line-80"></a><span class="hs-comment">--</span><span>
</span><a name="line-81"></a><span class="hs-comment">-- E.g. @(&gt;&gt;=)@ is filled in before the renamer by the appropriate 'Name' for</span><span>
</span><a name="line-82"></a><span class="hs-comment">--      @(&gt;&gt;=)@, and then instantiated by the type checker with its type args</span><span>
</span><a name="line-83"></a><span class="hs-comment">--      etc</span><span>
</span><a name="line-84"></a><span class="hs-comment">--</span><span>
</span><a name="line-85"></a><span class="hs-comment">-- This should desugar to</span><span>
</span><a name="line-86"></a><span class="hs-comment">--</span><span>
</span><a name="line-87"></a><span class="hs-comment">-- &gt; syn_res_wrap $ syn_expr (syn_arg_wraps[0] arg0)</span><span>
</span><a name="line-88"></a><span class="hs-comment">-- &gt;                         (syn_arg_wraps[1] arg1) ...</span><span>
</span><a name="line-89"></a><span class="hs-comment">--</span><span>
</span><a name="line-90"></a><span class="hs-comment">-- where the actual arguments come from elsewhere in the AST.</span><span>
</span><a name="line-91"></a><span class="hs-comment">-- This could be defined using @PostRn@ and @PostTc@ and such, but it's</span><span>
</span><a name="line-92"></a><span class="hs-comment">-- harder to get it all to work out that way. ('noSyntaxExpr' is hard to</span><span>
</span><a name="line-93"></a><span class="hs-comment">-- write, for example.)</span><span>
</span><a name="line-94"></a><span class="hs-keyword">data</span><span> </span><a name="SyntaxExpr"><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier">SyntaxExpr</span></a></a><span> </span><a name="local-1627825074"><a href="#local-1627825074"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="SyntaxExpr"><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier">SyntaxExpr</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="syn_expr"><a href="HsExpr.html#syn_expr"><span class="hs-identifier">syn_expr</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825074"><span class="hs-identifier hs-type">id</span></a><span>
</span><a name="line-95"></a><span>                                </span><span class="hs-special">,</span><span> </span><a name="syn_arg_wraps"><a href="HsExpr.html#syn_arg_wraps"><span class="hs-identifier">syn_arg_wraps</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="TcEvidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a><span class="hs-special">]</span><span>
</span><a name="line-96"></a><span>                                </span><span class="hs-special">,</span><span> </span><a name="syn_res_wrap"><a href="HsExpr.html#syn_res_wrap"><span class="hs-identifier">syn_res_wrap</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="TcEvidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-97"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-98"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825556"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825556"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-99"></a><span>
</span><a name="line-100"></a><span class="hs-comment">-- | This is used for rebindable-syntax pieces that are too polymorphic</span><span>
</span><a name="line-101"></a><span class="hs-comment">-- for tcSyntaxOp (trS_fmap and the mzip in ParStmt)</span><span>
</span><a name="line-102"></a><span class="hs-identifier">noExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825163"><span class="hs-identifier hs-type">id</span></a><span>
</span><a name="line-103"></a><a name="noExpr"><a href="HsExpr.html#noExpr"><span class="hs-identifier">noExpr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a><span> </span><span class="hs-special">(</span><a href="HsLit.html#HsString"><span class="hs-identifier hs-var">HsString</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-special">(</span><a href="FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a><span> </span><span class="hs-string">&quot;noExpr&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-104"></a><span>
</span><a name="line-105"></a><span class="hs-identifier">noSyntaxExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825162"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-comment">-- Before renaming, and sometimes after,</span><span>
</span><a name="line-106"></a><span>                              </span><span class="hs-comment">-- (if the syntax slot makes no sense)</span><span>
</span><a name="line-107"></a><a name="noSyntaxExpr"><a href="HsExpr.html#noSyntaxExpr"><span class="hs-identifier">noSyntaxExpr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-var">SyntaxExpr</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">syn_expr</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a><span> </span><span class="hs-special">(</span><a href="HsLit.html#HsString"><span class="hs-identifier hs-var">HsString</span></a><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-special">(</span><a href="FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a><span> </span><span class="hs-string">&quot;noSyntaxExpr&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-108"></a><span>                          </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">syn_arg_wraps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-109"></a><span>                          </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">syn_res_wrap</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="TcEvidence.html#WpHole"><span class="hs-identifier hs-var">WpHole</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-comment">-- | Make a 'SyntaxExpr Name' (the &quot;rn&quot; is because this is used in the</span><span>
</span><a name="line-112"></a><span class="hs-comment">-- renamer), missing its HsWrappers.</span><span>
</span><a name="line-113"></a><span class="hs-identifier">mkRnSyntaxExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-114"></a><a name="mkRnSyntaxExpr"><a href="HsExpr.html#mkRnSyntaxExpr"><span class="hs-identifier">mkRnSyntaxExpr</span></a></a><span> </span><a name="local-1627825164"><a href="#local-1627825164"><span class="hs-identifier">name</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-var">SyntaxExpr</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">syn_expr</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span> </span><a href="#local-1627825164"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-115"></a><span>                                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">syn_arg_wraps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-116"></a><span>                                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">syn_res_wrap</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="TcEvidence.html#WpHole"><span class="hs-identifier hs-var">WpHole</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-117"></a><span>  </span><span class="hs-comment">-- don't care about filling in syn_arg_wraps because we're clearly</span><span>
</span><a name="line-118"></a><span>  </span><span class="hs-comment">-- not past the typechecker</span><span>
</span><a name="line-119"></a><span>
</span><a name="line-120"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825527"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825527"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-121"></a><span>  </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-var">SyntaxExpr</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">syn_expr</span><span>      </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825528"><a href="#local-1627825528"><span class="hs-identifier">expr</span></a></a><span>
</span><a name="line-122"></a><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">syn_arg_wraps</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825529"><a href="#local-1627825529"><span class="hs-identifier">arg_wraps</span></a></a><span>
</span><a name="line-123"></a><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">syn_res_wrap</span><span>  </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825530"><a href="#local-1627825530"><span class="hs-identifier">res_wrap</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-124"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sdocWithDynFlags"><span class="hs-identifier hs-var">sdocWithDynFlags</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-glyph">\</span><span> </span><a name="local-1627825531"><a href="#local-1627825531"><span class="hs-identifier">dflags</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-125"></a><span>      </span><a href="Outputable.html#getPprStyle"><span class="hs-identifier hs-var">getPprStyle</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-glyph">\</span><a name="local-1627825532"><a href="#local-1627825532"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-126"></a><span>      </span><span class="hs-keyword">if</span><span> </span><a href="Outputable.html#debugStyle"><span class="hs-identifier hs-var">debugStyle</span></a><span> </span><a href="#local-1627825532"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-operator hs-var">||</span><span> </span><a href="DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a><span> </span><a href="DynFlags.html#Opt_PrintExplicitCoercions"><span class="hs-identifier hs-var">Opt_PrintExplicitCoercions</span></a><span> </span><a href="#local-1627825531"><span class="hs-identifier hs-var">dflags</span></a><span>
</span><a name="line-127"></a><span>      </span><span class="hs-keyword">then</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825528"><span class="hs-identifier hs-var">expr</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825529"><span class="hs-identifier hs-var">arg_wraps</span></a><span class="hs-special">)</span><span>
</span><a name="line-128"></a><span>                    </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825530"><span class="hs-identifier hs-var">res_wrap</span></a><span class="hs-special">)</span><span>
</span><a name="line-129"></a><span>      </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825528"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-130"></a><span>
</span><a name="line-131"></a><span class="hs-keyword">type</span><span> </span><a name="CmdSyntaxTable"><a href="HsExpr.html#CmdSyntaxTable"><span class="hs-identifier">CmdSyntaxTable</span></a></a><span> </span><a name="local-1627825073"><a href="#local-1627825073"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825073"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-132"></a><span class="hs-comment">-- See Note [CmdSyntaxTable]</span><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-comment">{-
Note [CmdSyntaxtable]
~~~~~~~~~~~~~~~~~~~~~
Used only for arrow-syntax stuff (HsCmdTop), the CmdSyntaxTable keeps
track of the methods needed for a Cmd.

* Before the renamer, this list is an empty list

* After the renamer, it takes the form @[(std_name, HsVar actual_name)]@
  For example, for the 'arr' method
   * normal case:            (GHC.Control.Arrow.arr, HsVar GHC.Control.Arrow.arr)
   * with rebindable syntax: (GHC.Control.Arrow.arr, arr_22)
             where @arr_22@ is whatever 'arr' is in scope

* After the type checker, it takes the form [(std_name, &lt;expression&gt;)]
  where &lt;expression&gt; is the evidence for the method.  This evidence is
  instantiated with the class, but is still polymorphic in everything
  else.  For example, in the case of 'arr', the evidence has type
         forall b c. (b-&gt;c) -&gt; a b c
  where 'a' is the ambient type of the arrow.  This polymorphism is
  important because the desugarer uses the same evidence at multiple
  different types.

This is Less Cool than what we normally do for rebindable syntax, which is to
make fully-instantiated piece of evidence at every use site.  The Cmd way
is Less Cool because
  * The renamer has to predict which methods are needed.
    See the tedious RnExpr.methodNamesCmd.

  * The desugarer has to know the polymorphic type of the instantiated
    method. This is checked by Inst.tcSyntaxName, but is less flexible
    than the rest of rebindable syntax, where the type is less
    pre-ordained.  (And this flexibility is useful; for example we can
    typecheck do-notation with (&gt;&gt;=) :: m1 a -&gt; (a -&gt; m2 b) -&gt; m2 b.)
-}</span><span>
</span><a name="line-169"></a><span>
</span><a name="line-170"></a><span class="hs-comment">-- | An unbound variable; used for treating out-of-scope variables as</span><span>
</span><a name="line-171"></a><span class="hs-comment">-- expression holes</span><span>
</span><a name="line-172"></a><span class="hs-keyword">data</span><span> </span><a name="UnboundVar"><a href="HsExpr.html#UnboundVar"><span class="hs-identifier">UnboundVar</span></a></a><span>
</span><a name="line-173"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="OutOfScope"><a href="HsExpr.html#OutOfScope"><span class="hs-identifier">OutOfScope</span></a></a><span> </span><a href="OccName.html#OccName"><span class="hs-identifier hs-type">OccName</span></a><span> </span><a href="RdrName.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a><span>  </span><span class="hs-comment">-- ^ An (unqualified) out-of-scope</span><span>
</span><a name="line-174"></a><span>                                     </span><span class="hs-comment">-- variable, together with the GlobalRdrEnv</span><span>
</span><a name="line-175"></a><span>                                     </span><span class="hs-comment">-- with respect to which it is unbound</span><span>
</span><a name="line-176"></a><span>
</span><a name="line-177"></a><span>                                     </span><span class="hs-comment">-- See Note [OutOfScope and GlobalRdrEnv]</span><span>
</span><a name="line-178"></a><span>
</span><a name="line-179"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="TrueExprHole"><a href="HsExpr.html#TrueExprHole"><span class="hs-identifier">TrueExprHole</span></a></a><span> </span><a href="OccName.html#OccName"><span class="hs-identifier hs-type">OccName</span></a><span>             </span><span class="hs-comment">-- ^ A &quot;true&quot; expression hole (_ or _x)</span><span>
</span><a name="line-180"></a><span>
</span><a name="line-181"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-182"></a><span>
</span><a name="line-183"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsExpr.html#UnboundVar"><span class="hs-identifier hs-type">UnboundVar</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-184"></a><span>    </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsExpr.html#unboundVarOcc"><span class="hs-identifier hs-var">unboundVarOcc</span></a><span>
</span><a name="line-185"></a><span>
</span><a name="line-186"></a><span class="hs-identifier">unboundVarOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#UnboundVar"><span class="hs-identifier hs-type">UnboundVar</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="OccName.html#OccName"><span class="hs-identifier hs-type">OccName</span></a><span>
</span><a name="line-187"></a><a name="unboundVarOcc"><a href="HsExpr.html#unboundVarOcc"><span class="hs-identifier">unboundVarOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#OutOfScope"><span class="hs-identifier hs-var">OutOfScope</span></a><span> </span><a name="local-1627825165"><a href="#local-1627825165"><span class="hs-identifier">occ</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825165"><span class="hs-identifier hs-var">occ</span></a><span>
</span><a name="line-188"></a><span class="hs-identifier">unboundVarOcc</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TrueExprHole"><span class="hs-identifier hs-var">TrueExprHole</span></a><span> </span><a name="local-1627825166"><a href="#local-1627825166"><span class="hs-identifier">occ</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825166"><span class="hs-identifier hs-var">occ</span></a><span>
</span><a name="line-189"></a><span>
</span><a name="line-190"></a><span class="hs-comment">{-
Note [OutOfScope and GlobalRdrEnv]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
To understand why we bundle a GlobalRdrEnv with an out-of-scope variable,
consider the following module:

    module A where

    foo :: ()
    foo = bar

    bat :: [Double]
    bat = [1.2, 3.4]

    $(return [])

    bar = ()
    bad = False

When A is compiled, the renamer determines that `bar` is not in scope in the
declaration of `foo` (since `bar` is declared in the following inter-splice
group).  Once it has finished typechecking the entire module, the typechecker
then generates the associated error message, which specifies both the type of
`bar` and a list of possible in-scope alternatives:

    A.hs:6:7: error:
        &#8226; Variable not in scope: bar :: ()
        &#8226; &#8216;bar&#8217; (line 13) is not in scope before the splice on line 11
          Perhaps you meant &#8216;bat&#8217; (line 9)

When it calls RnEnv.unknownNameSuggestions to identify these alternatives, the
typechecker must provide a GlobalRdrEnv.  If it provided the current one, which
contains top-level declarations for the entire module, the error message would
incorrectly suggest the out-of-scope `bar` and `bad` as possible alternatives
for `bar` (see Trac #11680).  Instead, the typechecker must use the same
GlobalRdrEnv the renamer used when it determined that `bar` is out-of-scope.

To obtain this GlobalRdrEnv, can the typechecker simply use the out-of-scope
`bar`'s location to either reconstruct it (from the current GlobalRdrEnv) or to
look it up in some global store?  Unfortunately, no.  The problem is that
location information is not always sufficient for this task.  This is most
apparent when dealing with the TH function addTopDecls, which adds its
declarations to the FOLLOWING inter-splice group.  Consider these declarations:

    ex9 = cat               -- cat is NOT in scope here

    $(do -------------------------------------------------------------
        ds &lt;- [d| f = cab   -- cat and cap are both in scope here
                  cat = ()
                |]
        addTopDecls ds
        [d| g = cab         -- only cap is in scope here
            cap = True
          |])

    ex10 = cat              -- cat is NOT in scope here

    $(return []) -----------------------------------------------------

    ex11 = cat              -- cat is in scope

Here, both occurrences of `cab` are out-of-scope, and so the typechecker needs
the GlobalRdrEnvs which were used when they were renamed.  These GlobalRdrEnvs
are different (`cat` is present only in the GlobalRdrEnv for f's `cab'), but the
locations of the two `cab`s are the same (they are both created in the same
splice).  Thus, we must include some additional information with each `cab` to
allow the typechecker to obtain the correct GlobalRdrEnv.  Clearly, the simplest
information to use is the GlobalRdrEnv itself.
-}</span><span>
</span><a name="line-259"></a><span>
</span><a name="line-260"></a><span class="hs-comment">-- | A Haskell expression.</span><span>
</span><a name="line-261"></a><span class="hs-keyword">data</span><span> </span><a name="HsExpr"><a href="HsExpr.html#HsExpr"><span class="hs-identifier">HsExpr</span></a></a><span> </span><a name="local-1627825072"><a href="#local-1627825072"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-262"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsVar"><a href="HsExpr.html#HsVar"><span class="hs-identifier">HsVar</span></a></a><span>     </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ^ Variable</span><span>
</span><a name="line-263"></a><span>
</span><a name="line-264"></a><span>                             </span><span class="hs-comment">-- See Note [Located RdrNames]</span><span>
</span><a name="line-265"></a><span>
</span><a name="line-266"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsUnboundVar"><a href="HsExpr.html#HsUnboundVar"><span class="hs-identifier">HsUnboundVar</span></a></a><span> </span><a href="HsExpr.html#UnboundVar"><span class="hs-identifier hs-type">UnboundVar</span></a><span>  </span><span class="hs-comment">-- ^ Unbound variable; also used for &quot;holes&quot;</span><span>
</span><a name="line-267"></a><span>                             </span><span class="hs-comment">--   (_ or _x).</span><span>
</span><a name="line-268"></a><span>                             </span><span class="hs-comment">-- Turned from HsVar to HsUnboundVar by the</span><span>
</span><a name="line-269"></a><span>                             </span><span class="hs-comment">--   renamer, when it finds an out-of-scope</span><span>
</span><a name="line-270"></a><span>                             </span><span class="hs-comment">--   variable or hole.</span><span>
</span><a name="line-271"></a><span>                             </span><span class="hs-comment">-- Turned into HsVar by type checker, to support</span><span>
</span><a name="line-272"></a><span>                             </span><span class="hs-comment">--   deferred type errors.</span><span>
</span><a name="line-273"></a><span>
</span><a name="line-274"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsRecFld"><a href="HsExpr.html#HsRecFld"><span class="hs-identifier">HsRecFld</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Variable pointing to record selector</span><span>
</span><a name="line-275"></a><span>
</span><a name="line-276"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsOverLabel"><a href="HsExpr.html#HsOverLabel"><span class="hs-identifier">HsOverLabel</span></a></a><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>   </span><span class="hs-comment">-- ^ Overloaded label (See Note [Overloaded labels]</span><span>
</span><a name="line-277"></a><span>                             </span><span class="hs-comment">--   in GHC.OverloadedLabels)</span><span>
</span><a name="line-278"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsIPVar"><a href="HsExpr.html#HsIPVar"><span class="hs-identifier">HsIPVar</span></a></a><span>   </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span>       </span><span class="hs-comment">-- ^ Implicit parameter</span><span>
</span><a name="line-279"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsOverLit"><a href="HsExpr.html#HsOverLit"><span class="hs-identifier">HsOverLit</span></a></a><span> </span><span class="hs-special">(</span><a href="HsLit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Overloaded literals</span><span>
</span><a name="line-280"></a><span>
</span><a name="line-281"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsLit"><a href="HsExpr.html#HsLit"><span class="hs-identifier">HsLit</span></a></a><span>     </span><a href="HsLit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a><span>          </span><span class="hs-comment">-- ^ Simple (non-overloaded) literals</span><span>
</span><a name="line-282"></a><span>
</span><a name="line-283"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsLam"><a href="HsExpr.html#HsLam"><span class="hs-identifier">HsLam</span></a></a><span>     </span><span class="hs-special">(</span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Lambda abstraction. Currently always a single match</span><span>
</span><a name="line-284"></a><span>       </span><span class="hs-comment">--</span><span>
</span><a name="line-285"></a><span>       </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnLam',</span><span>
</span><a name="line-286"></a><span>       </span><span class="hs-comment">--       'ApiAnnotation.AnnRarrow',</span><span>
</span><a name="line-287"></a><span>
</span><a name="line-288"></a><span>       </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-289"></a><span>
</span><a name="line-290"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsLamCase"><a href="HsExpr.html#HsLamCase"><span class="hs-identifier">HsLamCase</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Lambda-case</span><span>
</span><a name="line-291"></a><span>       </span><span class="hs-comment">--</span><span>
</span><a name="line-292"></a><span>       </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnLam',</span><span>
</span><a name="line-293"></a><span>       </span><span class="hs-comment">--           'ApiAnnotation.AnnCase','ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-294"></a><span>       </span><span class="hs-comment">--           'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-295"></a><span>
</span><a name="line-296"></a><span>       </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-297"></a><span>
</span><a name="line-298"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsApp"><a href="HsExpr.html#HsApp"><span class="hs-identifier">HsApp</span></a></a><span>     </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Application</span><span>
</span><a name="line-299"></a><span>
</span><a name="line-300"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppType"><a href="HsExpr.html#HsAppType"><span class="hs-identifier">HsAppType</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsWcType"><span class="hs-identifier hs-type">LHsWcType</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Visible type application</span><span>
</span><a name="line-301"></a><span>       </span><span class="hs-comment">--</span><span>
</span><a name="line-302"></a><span>       </span><span class="hs-comment">-- Explicit type argument; e.g  f @Int x y</span><span>
</span><a name="line-303"></a><span>       </span><span class="hs-comment">-- NB: Has wildcards, but no implicit quantification</span><span>
</span><a name="line-304"></a><span>       </span><span class="hs-comment">--</span><span>
</span><a name="line-305"></a><span>       </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnAt',</span><span>
</span><a name="line-306"></a><span>
</span><a name="line-307"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppTypeOut"><a href="HsExpr.html#HsAppTypeOut"><span class="hs-identifier">HsAppTypeOut</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsWcType"><span class="hs-identifier hs-type">LHsWcType</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- just for pretty-printing</span><span>
</span><a name="line-308"></a><span>
</span><a name="line-309"></a><span>
</span><a name="line-310"></a><span>  </span><span class="hs-comment">-- | Operator applications:</span><span>
</span><a name="line-311"></a><span>  </span><span class="hs-comment">-- NB Bracketed ops such as (+) come out as Vars.</span><span>
</span><a name="line-312"></a><span>
</span><a name="line-313"></a><span>  </span><span class="hs-comment">-- NB We need an expr for the operator in an OpApp/Section since</span><span>
</span><a name="line-314"></a><span>  </span><span class="hs-comment">-- the typechecker may need to apply the operator to a few types.</span><span>
</span><a name="line-315"></a><span>
</span><a name="line-316"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="OpApp"><a href="HsExpr.html#OpApp"><span class="hs-identifier">OpApp</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- left operand</span><span>
</span><a name="line-317"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- operator</span><span>
</span><a name="line-318"></a><span>                </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Renamer adds fixity; bottom until then</span><span>
</span><a name="line-319"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- right operand</span><span>
</span><a name="line-320"></a><span>
</span><a name="line-321"></a><span>  </span><span class="hs-comment">-- | Negation operator. Contains the negated expression and the name</span><span>
</span><a name="line-322"></a><span>  </span><span class="hs-comment">-- of 'negate'</span><span>
</span><a name="line-323"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-324"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnMinus'</span><span>
</span><a name="line-325"></a><span>
</span><a name="line-326"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-327"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="NegApp"><a href="HsExpr.html#NegApp"><span class="hs-identifier">NegApp</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-328"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-329"></a><span>
</span><a name="line-330"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'('@,</span><span>
</span><a name="line-331"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-332"></a><span>
</span><a name="line-333"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-334"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsPar"><a href="HsExpr.html#HsPar"><span class="hs-identifier">HsPar</span></a></a><span>       </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- ^ Parenthesised expr; see Note [Parens in HsSyn]</span><span>
</span><a name="line-335"></a><span>
</span><a name="line-336"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="SectionL"><a href="HsExpr.html#SectionL"><span class="hs-identifier">SectionL</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- operand; see Note [Sections in HsSyn]</span><span>
</span><a name="line-337"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- operator</span><span>
</span><a name="line-338"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="SectionR"><a href="HsExpr.html#SectionR"><span class="hs-identifier">SectionR</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- operator; see Note [Sections in HsSyn]</span><span>
</span><a name="line-339"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- operand</span><span>
</span><a name="line-340"></a><span>
</span><a name="line-341"></a><span>  </span><span class="hs-comment">-- | Used for explicit tuples and sections thereof</span><span>
</span><a name="line-342"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-343"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-344"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-345"></a><span>
</span><a name="line-346"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-347"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ExplicitTuple"><a href="HsExpr.html#ExplicitTuple"><span class="hs-identifier">ExplicitTuple</span></a></a><span>
</span><a name="line-348"></a><span>        </span><span class="hs-special">[</span><a href="HsExpr.html#LHsTupArg"><span class="hs-identifier hs-type">LHsTupArg</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>
</span><a name="line-349"></a><span>        </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span>
</span><a name="line-350"></a><span>
</span><a name="line-351"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnCase',</span><span>
</span><a name="line-352"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnOf','ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-353"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnClose' @'}'@</span><span>
</span><a name="line-354"></a><span>
</span><a name="line-355"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-356"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCase"><a href="HsExpr.html#HsCase"><span class="hs-identifier">HsCase</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-357"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-358"></a><span>
</span><a name="line-359"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnIf',</span><span>
</span><a name="line-360"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnSemi',</span><span>
</span><a name="line-361"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnThen','ApiAnnotation.AnnSemi',</span><span>
</span><a name="line-362"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnElse',</span><span>
</span><a name="line-363"></a><span>
</span><a name="line-364"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-365"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsIf"><a href="HsExpr.html#HsIf"><span class="hs-identifier">HsIf</span></a></a><span>        </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- cond function</span><span>
</span><a name="line-366"></a><span>                                        </span><span class="hs-comment">-- Nothing =&gt; use the built-in 'if'</span><span>
</span><a name="line-367"></a><span>                                        </span><span class="hs-comment">-- See Note [Rebindable if]</span><span>
</span><a name="line-368"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">--  predicate</span><span>
</span><a name="line-369"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">--  then part</span><span>
</span><a name="line-370"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">--  else part</span><span>
</span><a name="line-371"></a><span>
</span><a name="line-372"></a><span>  </span><span class="hs-comment">-- | Multi-way if</span><span>
</span><a name="line-373"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-374"></a><span>  </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnIf'</span><span>
</span><a name="line-375"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose',</span><span>
</span><a name="line-376"></a><span>
</span><a name="line-377"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-378"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsMultiIf"><a href="HsExpr.html#HsMultiIf"><span class="hs-identifier">HsMultiIf</span></a></a><span>   </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-379"></a><span>
</span><a name="line-380"></a><span>  </span><span class="hs-comment">-- | let(rec)</span><span>
</span><a name="line-381"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-382"></a><span>  </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnLet',</span><span>
</span><a name="line-383"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-384"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnClose' @'}'@,'ApiAnnotation.AnnIn'</span><span>
</span><a name="line-385"></a><span>
</span><a name="line-386"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-387"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsLet"><a href="HsExpr.html#HsLet"><span class="hs-identifier">HsLet</span></a></a><span>       </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsBinds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-388"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span>  </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-389"></a><span>
</span><a name="line-390"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDo',</span><span>
</span><a name="line-391"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnOpen', 'ApiAnnotation.AnnSemi',</span><span>
</span><a name="line-392"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-393"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-394"></a><span>
</span><a name="line-395"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-396"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsDo"><a href="HsExpr.html#HsDo"><span class="hs-identifier">HsDo</span></a></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- The parameterisation is unimportant</span><span>
</span><a name="line-397"></a><span>                                         </span><span class="hs-comment">-- because in this context we never use</span><span>
</span><a name="line-398"></a><span>                                         </span><span class="hs-comment">-- the PatGuard or ParStmt variant</span><span>
</span><a name="line-399"></a><span>                </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- &quot;do&quot;:one or more stmts</span><span>
</span><a name="line-400"></a><span>                </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- Type of the whole expression</span><span>
</span><a name="line-401"></a><span>
</span><a name="line-402"></a><span>  </span><span class="hs-comment">-- | Syntactic list: [a,b,c,...]</span><span>
</span><a name="line-403"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-404"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'['@,</span><span>
</span><a name="line-405"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnClose' @']'@</span><span>
</span><a name="line-406"></a><span>
</span><a name="line-407"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-408"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ExplicitList"><a href="HsExpr.html#ExplicitList"><span class="hs-identifier">ExplicitList</span></a></a><span>
</span><a name="line-409"></a><span>                </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- Gives type of components of list</span><span>
</span><a name="line-410"></a><span>                </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- For OverloadedLists, the fromListN witness</span><span>
</span><a name="line-411"></a><span>                </span><span class="hs-special">[</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>
</span><a name="line-412"></a><span>
</span><a name="line-413"></a><span>  </span><span class="hs-comment">-- | Syntactic parallel array: [:e1, ..., en:]</span><span>
</span><a name="line-414"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-415"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'[:'@,</span><span>
</span><a name="line-416"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnDotdot','ApiAnnotation.AnnComma',</span><span>
</span><a name="line-417"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnVbar'</span><span>
</span><a name="line-418"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnClose' @':]'@</span><span>
</span><a name="line-419"></a><span>
</span><a name="line-420"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-421"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ExplicitPArr"><a href="HsExpr.html#ExplicitPArr"><span class="hs-identifier">ExplicitPArr</span></a></a><span>
</span><a name="line-422"></a><span>                </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- type of elements of the parallel array</span><span>
</span><a name="line-423"></a><span>                </span><span class="hs-special">[</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>
</span><a name="line-424"></a><span>
</span><a name="line-425"></a><span>  </span><span class="hs-comment">-- | Record construction</span><span>
</span><a name="line-426"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-427"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-428"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnDotdot','ApiAnnotation.AnnClose' @'}'@</span><span>
</span><a name="line-429"></a><span>
</span><a name="line-430"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-431"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RecordCon"><a href="HsExpr.html#RecordCon"><span class="hs-identifier">RecordCon</span></a></a><span>
</span><a name="line-432"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="rcon_con_name"><a href="HsExpr.html#rcon_con_name"><span class="hs-identifier">rcon_con_name</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span>         </span><span class="hs-comment">-- The constructor name;</span><span>
</span><a name="line-433"></a><span>                                            </span><span class="hs-comment">--  not used after type checking</span><span>
</span><a name="line-434"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rcon_con_like"><a href="HsExpr.html#rcon_con_like"><span class="hs-identifier">rcon_con_like</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="ConLike.html#ConLike"><span class="hs-identifier hs-type">ConLike</span></a><span>  </span><span class="hs-comment">-- The data constructor or pattern synonym</span><span>
</span><a name="line-435"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rcon_con_expr"><a href="HsExpr.html#rcon_con_expr"><span class="hs-identifier">rcon_con_expr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span>         </span><span class="hs-comment">-- Instantiated constructor function</span><span>
</span><a name="line-436"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rcon_flds"><a href="HsExpr.html#rcon_flds"><span class="hs-identifier">rcon_flds</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- The fields</span><span>
</span><a name="line-437"></a><span>
</span><a name="line-438"></a><span>  </span><span class="hs-comment">-- | Record update</span><span>
</span><a name="line-439"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-440"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-441"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnDotdot','ApiAnnotation.AnnClose' @'}'@</span><span>
</span><a name="line-442"></a><span>
</span><a name="line-443"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-444"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RecordUpd"><a href="HsExpr.html#RecordUpd"><span class="hs-identifier">RecordUpd</span></a></a><span>
</span><a name="line-445"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="rupd_expr"><a href="HsExpr.html#rupd_expr"><span class="hs-identifier">rupd_expr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span>
</span><a name="line-446"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rupd_flds"><a href="HsExpr.html#rupd_flds"><span class="hs-identifier">rupd_flds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsPat.html#LHsRecUpdField"><span class="hs-identifier hs-type">LHsRecUpdField</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>
</span><a name="line-447"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rupd_cons"><a href="HsExpr.html#rupd_cons"><span class="hs-identifier">rupd_cons</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">[</span><a href="ConLike.html#ConLike"><span class="hs-identifier hs-type">ConLike</span></a><span class="hs-special">]</span><span>
</span><a name="line-448"></a><span>                </span><span class="hs-comment">-- Filled in by the type checker to the</span><span>
</span><a name="line-449"></a><span>                </span><span class="hs-comment">-- _non-empty_ list of DataCons that have</span><span>
</span><a name="line-450"></a><span>                </span><span class="hs-comment">-- all the upd'd fields</span><span>
</span><a name="line-451"></a><span>
</span><a name="line-452"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rupd_in_tys"><a href="HsExpr.html#rupd_in_tys"><span class="hs-identifier">rupd_in_tys</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">[</span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Argument types of *input* record type</span><span>
</span><a name="line-453"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rupd_out_tys"><a href="HsExpr.html#rupd_out_tys"><span class="hs-identifier">rupd_out_tys</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">[</span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">--              and  *output* record type</span><span>
</span><a name="line-454"></a><span>                                          </span><span class="hs-comment">-- The original type can be reconstructed</span><span>
</span><a name="line-455"></a><span>                                          </span><span class="hs-comment">-- with conLikeResTy</span><span>
</span><a name="line-456"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="rupd_wrap"><a href="HsExpr.html#rupd_wrap"><span class="hs-identifier">rupd_wrap</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TcEvidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a><span>  </span><span class="hs-comment">-- See note [Record Update HsWrapper]</span><span>
</span><a name="line-457"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-458"></a><span>  </span><span class="hs-comment">-- For a type family, the arg types are of the *instance* tycon,</span><span>
</span><a name="line-459"></a><span>  </span><span class="hs-comment">-- not the family tycon</span><span>
</span><a name="line-460"></a><span>
</span><a name="line-461"></a><span>  </span><span class="hs-comment">-- | Expression with an explicit type signature. @e :: type@</span><span>
</span><a name="line-462"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-463"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-464"></a><span>
</span><a name="line-465"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-466"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ExprWithTySig"><a href="HsExpr.html#ExprWithTySig"><span class="hs-identifier">ExprWithTySig</span></a></a><span>
</span><a name="line-467"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-468"></a><span>                </span><span class="hs-special">(</span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-469"></a><span>
</span><a name="line-470"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ExprWithTySigOut"><a href="HsExpr.html#ExprWithTySigOut"><span class="hs-identifier">ExprWithTySigOut</span></a></a><span>              </span><span class="hs-comment">-- Post typechecking</span><span>
</span><a name="line-471"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-472"></a><span>                </span><span class="hs-special">(</span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Retain the signature,</span><span>
</span><a name="line-473"></a><span>                                     </span><span class="hs-comment">-- as HsSigType Name, for</span><span>
</span><a name="line-474"></a><span>                                     </span><span class="hs-comment">-- round-tripping purposes</span><span>
</span><a name="line-475"></a><span>
</span><a name="line-476"></a><span>  </span><span class="hs-comment">-- | Arithmetic sequence</span><span>
</span><a name="line-477"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-478"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'['@,</span><span>
</span><a name="line-479"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnComma','ApiAnnotation.AnnDotdot',</span><span>
</span><a name="line-480"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnClose' @']'@</span><span>
</span><a name="line-481"></a><span>
</span><a name="line-482"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-483"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ArithSeq"><a href="HsExpr.html#ArithSeq"><span class="hs-identifier">ArithSeq</span></a></a><span>
</span><a name="line-484"></a><span>                </span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span>
</span><a name="line-485"></a><span>                </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- For OverloadedLists, the fromList witness</span><span>
</span><a name="line-486"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-487"></a><span>
</span><a name="line-488"></a><span>  </span><span class="hs-comment">-- | Arithmetic sequence for parallel array</span><span>
</span><a name="line-489"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-490"></a><span>  </span><span class="hs-comment">-- &gt; [:e1..e2:] or [:e1, e2..e3:]</span><span>
</span><a name="line-491"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-492"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'[:'@,</span><span>
</span><a name="line-493"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnComma','ApiAnnotation.AnnDotdot',</span><span>
</span><a name="line-494"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-495"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnClose' @':]'@</span><span>
</span><a name="line-496"></a><span>
</span><a name="line-497"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-498"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="PArrSeq"><a href="HsExpr.html#PArrSeq"><span class="hs-identifier">PArrSeq</span></a></a><span>
</span><a name="line-499"></a><span>                </span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span>
</span><a name="line-500"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-501"></a><span>
</span><a name="line-502"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'{-\# SCC'@,</span><span>
</span><a name="line-503"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnVal' or 'ApiAnnotation.AnnValStr',</span><span>
</span><a name="line-504"></a><span>  </span><span class="hs-comment">--              'ApiAnnotation.AnnClose' @'\#-}'@</span><span>
</span><a name="line-505"></a><span>
</span><a name="line-506"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-507"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsSCC"><a href="HsExpr.html#HsSCC"><span class="hs-identifier">HsSCC</span></a></a><span>       </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>            </span><span class="hs-comment">-- Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-508"></a><span>                </span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span>         </span><span class="hs-comment">-- &quot;set cost centre&quot; SCC pragma</span><span>
</span><a name="line-509"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- expr whose cost is to be measured</span><span>
</span><a name="line-510"></a><span>
</span><a name="line-511"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'{-\# CORE'@,</span><span>
</span><a name="line-512"></a><span>  </span><span class="hs-comment">--             'ApiAnnotation.AnnVal', 'ApiAnnotation.AnnClose' @'\#-}'@</span><span>
</span><a name="line-513"></a><span>
</span><a name="line-514"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-515"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCoreAnn"><a href="HsExpr.html#HsCoreAnn"><span class="hs-identifier">HsCoreAnn</span></a></a><span>   </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>            </span><span class="hs-comment">-- Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-516"></a><span>                </span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span>         </span><span class="hs-comment">-- hdaume: core annotation</span><span>
</span><a name="line-517"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-518"></a><span>
</span><a name="line-519"></a><span>  </span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><a name="line-520"></a><span>  </span><span class="hs-comment">-- MetaHaskell Extensions</span><span>
</span><a name="line-521"></a><span>
</span><a name="line-522"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-523"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose',</span><span>
</span><a name="line-524"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-525"></a><span>
</span><a name="line-526"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-527"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsBracket"><a href="HsExpr.html#HsBracket"><span class="hs-identifier">HsBracket</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-528"></a><span>
</span><a name="line-529"></a><span>    </span><span class="hs-comment">-- See Note [Pending Splices]</span><span>
</span><a name="line-530"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsRnBracketOut"><a href="HsExpr.html#HsRnBracketOut"><span class="hs-identifier">HsRnBracketOut</span></a></a><span>
</span><a name="line-531"></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- Output of the renamer is the *original* renamed</span><span>
</span><a name="line-532"></a><span>                           </span><span class="hs-comment">-- expression, plus</span><span>
</span><a name="line-533"></a><span>      </span><span class="hs-special">[</span><a href="HsExpr.html#PendingRnSplice"><span class="hs-identifier hs-type">PendingRnSplice</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- _renamed_ splices to be type checked</span><span>
</span><a name="line-534"></a><span>
</span><a name="line-535"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTcBracketOut"><a href="HsExpr.html#HsTcBracketOut"><span class="hs-identifier">HsTcBracketOut</span></a></a><span>
</span><a name="line-536"></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- Output of the type checker is the *original*</span><span>
</span><a name="line-537"></a><span>                           </span><span class="hs-comment">-- renamed expression, plus</span><span>
</span><a name="line-538"></a><span>      </span><span class="hs-special">[</span><a href="HsExpr.html#PendingTcSplice"><span class="hs-identifier hs-type">PendingTcSplice</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- _typechecked_ splices to be</span><span>
</span><a name="line-539"></a><span>                           </span><span class="hs-comment">-- pasted back in by the desugarer</span><span>
</span><a name="line-540"></a><span>
</span><a name="line-541"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-542"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-543"></a><span>
</span><a name="line-544"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-545"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsSpliceE"><a href="HsExpr.html#HsSpliceE"><span class="hs-identifier">HsSpliceE</span></a></a><span>  </span><span class="hs-special">(</span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-546"></a><span>
</span><a name="line-547"></a><span>  </span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><a name="line-548"></a><span>  </span><span class="hs-comment">-- Arrow notation extension</span><span>
</span><a name="line-549"></a><span>
</span><a name="line-550"></a><span>  </span><span class="hs-comment">-- | @proc@ notation for Arrows</span><span>
</span><a name="line-551"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-552"></a><span>  </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnProc',</span><span>
</span><a name="line-553"></a><span>  </span><span class="hs-comment">--          'ApiAnnotation.AnnRarrow'</span><span>
</span><a name="line-554"></a><span>
</span><a name="line-555"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-556"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsProc"><a href="HsExpr.html#HsProc"><span class="hs-identifier">HsProc</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>               </span><span class="hs-comment">-- arrow abstraction, proc</span><span>
</span><a name="line-557"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmdTop"><span class="hs-identifier hs-type">LHsCmdTop</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- body of the abstraction</span><span>
</span><a name="line-558"></a><span>                                        </span><span class="hs-comment">-- always has an empty stack</span><span>
</span><a name="line-559"></a><span>
</span><a name="line-560"></a><span>  </span><span class="hs-comment">---------------------------------------</span><span>
</span><a name="line-561"></a><span>  </span><span class="hs-comment">-- static pointers extension</span><span>
</span><a name="line-562"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnStatic',</span><span>
</span><a name="line-563"></a><span>
</span><a name="line-564"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-565"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsStatic"><a href="HsExpr.html#HsStatic"><span class="hs-identifier">HsStatic</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-566"></a><span>
</span><a name="line-567"></a><span>  </span><span class="hs-comment">---------------------------------------</span><span>
</span><a name="line-568"></a><span>  </span><span class="hs-comment">-- The following are commands, not expressions proper</span><span>
</span><a name="line-569"></a><span>  </span><span class="hs-comment">-- They are only used in the parsing stage and are removed</span><span>
</span><a name="line-570"></a><span>  </span><span class="hs-comment">--    immediately in parser.RdrHsSyn.checkCommand</span><span>
</span><a name="line-571"></a><span>
</span><a name="line-572"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.Annlarrowtail',</span><span>
</span><a name="line-573"></a><span>  </span><span class="hs-comment">--          'ApiAnnotation.Annrarrowtail','ApiAnnotation.AnnLarrowtail',</span><span>
</span><a name="line-574"></a><span>  </span><span class="hs-comment">--          'ApiAnnotation.AnnRarrowtail'</span><span>
</span><a name="line-575"></a><span>
</span><a name="line-576"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-577"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsArrApp"><a href="HsExpr.html#HsArrApp"><span class="hs-identifier">HsArrApp</span></a></a><span>             </span><span class="hs-comment">-- Arrow tail, or arrow application (f -&lt; arg)</span><span>
</span><a name="line-578"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- arrow expression, f</span><span>
</span><a name="line-579"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- input expression, arg</span><span>
</span><a name="line-580"></a><span>        </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- type of the arrow expressions f,</span><span>
</span><a name="line-581"></a><span>                         </span><span class="hs-comment">-- of the form a t t', where arg :: t</span><span>
</span><a name="line-582"></a><span>        </span><a href="HsExpr.html#HsArrAppType"><span class="hs-identifier hs-type">HsArrAppType</span></a><span>     </span><span class="hs-comment">-- higher-order (-&lt;&lt;) or first-order (-&lt;)</span><span>
</span><a name="line-583"></a><span>        </span><span class="hs-identifier hs-type">Bool</span><span>             </span><span class="hs-comment">-- True =&gt; right-to-left (f -&lt; arg)</span><span>
</span><a name="line-584"></a><span>                         </span><span class="hs-comment">-- False =&gt; left-to-right (arg &gt;- f)</span><span>
</span><a name="line-585"></a><span>
</span><a name="line-586"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'(|'@,</span><span>
</span><a name="line-587"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @'|)'@</span><span>
</span><a name="line-588"></a><span>
</span><a name="line-589"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-590"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsArrForm"><a href="HsExpr.html#HsArrForm"><span class="hs-identifier">HsArrForm</span></a></a><span>            </span><span class="hs-comment">-- Command formation,  (| e cmd1 .. cmdn |)</span><span>
</span><a name="line-591"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- the operator</span><span>
</span><a name="line-592"></a><span>                         </span><span class="hs-comment">-- after type-checking, a type abstraction to be</span><span>
</span><a name="line-593"></a><span>                         </span><span class="hs-comment">-- applied to the type of the local environment tuple</span><span>
</span><a name="line-594"></a><span>        </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- fixity (filled in by the renamer), for forms that</span><span>
</span><a name="line-595"></a><span>                         </span><span class="hs-comment">-- were converted from OpApp's by the renamer</span><span>
</span><a name="line-596"></a><span>        </span><span class="hs-special">[</span><a href="HsExpr.html#LHsCmdTop"><span class="hs-identifier hs-type">LHsCmdTop</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- argument commands</span><span>
</span><a name="line-597"></a><span>
</span><a name="line-598"></a><span>  </span><span class="hs-comment">---------------------------------------</span><span>
</span><a name="line-599"></a><span>  </span><span class="hs-comment">-- Haskell program coverage (Hpc) Support</span><span>
</span><a name="line-600"></a><span>
</span><a name="line-601"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTick"><a href="HsExpr.html#HsTick"><span class="hs-identifier">HsTick</span></a></a><span>
</span><a name="line-602"></a><span>     </span><span class="hs-special">(</span><a href="CoreSyn.html#Tickish"><span class="hs-identifier hs-type">Tickish</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-603"></a><span>     </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>                       </span><span class="hs-comment">-- sub-expression</span><span>
</span><a name="line-604"></a><span>
</span><a name="line-605"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsBinTick"><a href="HsExpr.html#HsBinTick"><span class="hs-identifier">HsBinTick</span></a></a><span>
</span><a name="line-606"></a><span>     </span><span class="hs-identifier hs-type">Int</span><span>                                </span><span class="hs-comment">-- module-local tick number for True</span><span>
</span><a name="line-607"></a><span>     </span><span class="hs-identifier hs-type">Int</span><span>                                </span><span class="hs-comment">-- module-local tick number for False</span><span>
</span><a name="line-608"></a><span>     </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>                       </span><span class="hs-comment">-- sub-expression</span><span>
</span><a name="line-609"></a><span>
</span><a name="line-610"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-611"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnOpen' @'{-\# GENERATED'@,</span><span>
</span><a name="line-612"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnVal','ApiAnnotation.AnnVal',</span><span>
</span><a name="line-613"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnColon','ApiAnnotation.AnnVal',</span><span>
</span><a name="line-614"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnMinus',</span><span>
</span><a name="line-615"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnVal','ApiAnnotation.AnnColon',</span><span>
</span><a name="line-616"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnVal',</span><span>
</span><a name="line-617"></a><span>  </span><span class="hs-comment">--       'ApiAnnotation.AnnClose' @'\#-}'@</span><span>
</span><a name="line-618"></a><span>
</span><a name="line-619"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-620"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTickPragma"><a href="HsExpr.html#HsTickPragma"><span class="hs-identifier">HsTickPragma</span></a></a><span>                      </span><span class="hs-comment">-- A pragma introduced tick</span><span>
</span><a name="line-621"></a><span>     </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>                       </span><span class="hs-comment">-- Note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-622"></a><span>     </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-623"></a><span>                                      </span><span class="hs-comment">-- external span for this tick</span><span>
</span><a name="line-624"></a><span>     </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">,</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">,</span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-625"></a><span>        </span><span class="hs-comment">-- Source text for the four integers used in the span.</span><span>
</span><a name="line-626"></a><span>        </span><span class="hs-comment">-- See note [Pragma source text] in BasicTypes</span><span>
</span><a name="line-627"></a><span>     </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-628"></a><span>
</span><a name="line-629"></a><span>  </span><span class="hs-comment">---------------------------------------</span><span>
</span><a name="line-630"></a><span>  </span><span class="hs-comment">-- These constructors only appear temporarily in the parser.</span><span>
</span><a name="line-631"></a><span>  </span><span class="hs-comment">-- The renamer translates them into the Right Thing.</span><span>
</span><a name="line-632"></a><span>
</span><a name="line-633"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="EWildPat"><a href="HsExpr.html#EWildPat"><span class="hs-identifier">EWildPat</span></a></a><span>                 </span><span class="hs-comment">-- wildcard</span><span>
</span><a name="line-634"></a><span>
</span><a name="line-635"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnAt'</span><span>
</span><a name="line-636"></a><span>
</span><a name="line-637"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-638"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="EAsPat"><a href="HsExpr.html#EAsPat"><span class="hs-identifier">EAsPat</span></a></a><span>      </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- as pattern</span><span>
</span><a name="line-639"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-640"></a><span>
</span><a name="line-641"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnRarrow'</span><span>
</span><a name="line-642"></a><span>
</span><a name="line-643"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-644"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="EViewPat"><a href="HsExpr.html#EViewPat"><span class="hs-identifier">EViewPat</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- view pattern</span><span>
</span><a name="line-645"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-646"></a><span>
</span><a name="line-647"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnTilde'</span><span>
</span><a name="line-648"></a><span>
</span><a name="line-649"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-650"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ELazyPat"><a href="HsExpr.html#ELazyPat"><span class="hs-identifier">ELazyPat</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ~ pattern</span><span>
</span><a name="line-651"></a><span>
</span><a name="line-652"></a><span>
</span><a name="line-653"></a><span>  </span><span class="hs-comment">---------------------------------------</span><span>
</span><a name="line-654"></a><span>  </span><span class="hs-comment">-- Finally, HsWrap appears only in typechecker output</span><span>
</span><a name="line-655"></a><span>
</span><a name="line-656"></a><span>  </span><span class="hs-glyph">|</span><span>  </span><a name="HsWrap"><a href="HsExpr.html#HsWrap"><span class="hs-identifier">HsWrap</span></a></a><span>     </span><a href="TcEvidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a><span>    </span><span class="hs-comment">-- TRANSLATION</span><span>
</span><a name="line-657"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825072"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-658"></a><span>
</span><a name="line-659"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-660"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825555"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825555"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-661"></a><span>
</span><a name="line-662"></a><span class="hs-comment">-- | HsTupArg is used for tuple sections</span><span>
</span><a name="line-663"></a><span class="hs-comment">--  (,a,) is represented by  ExplicitTuple [Missing ty1, Present a, Missing ty3]</span><span>
</span><a name="line-664"></a><span class="hs-comment">--  Which in turn stands for (\x:ty1 \y:ty2. (x,a,y))</span><span>
</span><a name="line-665"></a><span class="hs-keyword">type</span><span> </span><a name="LHsTupArg"><a href="HsExpr.html#LHsTupArg"><span class="hs-identifier">LHsTupArg</span></a></a><span> </span><a name="local-1627825071"><a href="#local-1627825071"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a><span> </span><a href="#local-1627825071"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-666"></a><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnComma'</span><span>
</span><a name="line-667"></a><span>
</span><a name="line-668"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-669"></a><span class="hs-keyword">data</span><span> </span><a name="HsTupArg"><a href="HsExpr.html#HsTupArg"><span class="hs-identifier">HsTupArg</span></a></a><span> </span><a name="local-1627825070"><a href="#local-1627825070"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-670"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Present"><a href="HsExpr.html#Present"><span class="hs-identifier">Present</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825070"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ The argument</span><span>
</span><a name="line-671"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Missing"><a href="HsExpr.html#Missing"><span class="hs-identifier">Missing</span></a></a><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825070"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The argument is missing, but this is its type</span><span>
</span><a name="line-672"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-673"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825554"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a><span> </span><a href="#local-1627825554"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-674"></a><span>
</span><a name="line-675"></a><span class="hs-identifier">tupArgPresent</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#LHsTupArg"><span class="hs-identifier hs-type">LHsTupArg</span></a><span> </span><a href="#local-1627825161"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-676"></a><a name="tupArgPresent"><a href="HsExpr.html#tupArgPresent"><span class="hs-identifier">tupArgPresent</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Present"><span class="hs-identifier hs-var">Present</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-677"></a><span class="hs-identifier">tupArgPresent</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Missing"><span class="hs-identifier hs-var">Missing</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-678"></a><span>
</span><a name="line-679"></a><span class="hs-comment">{-
Note [Parens in HsSyn]
~~~~~~~~~~~~~~~~~~~~~~
HsPar (and ParPat in patterns, HsParTy in types) is used as follows

  * Generally HsPar is optional; the pretty printer adds parens where
    necessary.  Eg (HsApp f (HsApp g x)) is fine, and prints 'f (g x)'

  * HsPars are pretty printed as '( .. )' regardless of whether
    or not they are strictly necssary

  * HsPars are respected when rearranging operator fixities.
    So   a * (b + c)  means what it says (where the parens are an HsPar)

Note [Sections in HsSyn]
~~~~~~~~~~~~~~~~~~~~~~~~
Sections should always appear wrapped in an HsPar, thus
         HsPar (SectionR ...)
The parser parses sections in a wider variety of situations
(See Note [Parsing sections]), but the renamer checks for those
parens.  This invariant makes pretty-printing easier; we don't need
a special case for adding the parens round sections.

Note [Rebindable if]
~~~~~~~~~~~~~~~~~~~~
The rebindable syntax for 'if' is a bit special, because when
rebindable syntax is *off* we do not want to treat
   (if c then t else e)
as if it was an application (ifThenElse c t e).  Why not?
Because we allow an 'if' to return *unboxed* results, thus
  if blah then 3# else 4#
whereas that would not be possible using a all to a polymorphic function
(because you can't call a polymorphic function at an unboxed type).

So we use Nothing to mean &quot;use the old built-in typing rule&quot;.

Note [Record Update HsWrapper]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
There is a wrapper in RecordUpd which is used for the *required*
constraints for pattern synonyms. This wrapper is created in the
typechecking and is then directly used in the desugaring without
modification.

For example, if we have the record pattern synonym P,
  pattern P :: (Show a) =&gt; a -&gt; Maybe a
  pattern P{x} = Just x

  foo = (Just True) { x = False }
then `foo` desugars to something like
  foo = case Just True of
          P x -&gt; P False
hence we need to provide the correct dictionaries to P's matcher on
the RHS so that we can build the expression.

Note [Located RdrNames]
~~~~~~~~~~~~~~~~~~~~~~~
A number of syntax elements have seemingly redundant locations attached to them.
This is deliberate, to allow transformations making use of the API Annotations
to easily correlate a Located Name in the RenamedSource with a Located RdrName
in the ParsedSource.

There are unfortunately enough differences between the ParsedSource and the
RenamedSource that the API Annotations cannot be used directly with
RenamedSource, so this allows a simple mapping to be used based on the location.
-}</span><span>
</span><a name="line-744"></a><span>
</span><a name="line-745"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825525"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825525"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-746"></a><span>    </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-1627825526"><a href="#local-1627825526"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><a href="#local-1627825526"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-747"></a><span>
</span><a name="line-748"></a><span class="hs-comment">-----------------------</span><span>
</span><a name="line-749"></a><span class="hs-comment">-- pprExpr, pprLExpr, pprBinds call pprDeeper;</span><span>
</span><a name="line-750"></a><span class="hs-comment">-- the underscore versions do not</span><span>
</span><a name="line-751"></a><span class="hs-identifier">pprLExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825160"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825160"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-752"></a><a name="pprLExpr"><a href="HsExpr.html#pprLExpr"><span class="hs-identifier">pprLExpr</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825167"><a href="#local-1627825167"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><a href="#local-1627825167"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-753"></a><span>
</span><a name="line-754"></a><span class="hs-identifier">pprExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825159"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825159"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-755"></a><a name="pprExpr"><a href="HsExpr.html#pprExpr"><span class="hs-identifier">pprExpr</span></a></a><span> </span><a name="local-1627825168"><a href="#local-1627825168"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="HsExpr.html#isAtomicHsExpr"><span class="hs-identifier hs-var">isAtomicHsExpr</span></a><span> </span><a href="#local-1627825168"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-operator hs-var">||</span><span> </span><a href="HsExpr.html#isQuietHsExpr"><span class="hs-identifier hs-var">isQuietHsExpr</span></a><span> </span><a href="#local-1627825168"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-glyph">=</span><span>            </span><a href="HsExpr.html#ppr_expr"><span class="hs-identifier hs-var">ppr_expr</span></a><span> </span><a href="#local-1627825168"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-756"></a><span>          </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>                           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprDeeper"><span class="hs-identifier hs-var">pprDeeper</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_expr"><span class="hs-identifier hs-var">ppr_expr</span></a><span> </span><a href="#local-1627825168"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-757"></a><span>
</span><a name="line-758"></a><span class="hs-identifier">isQuietHsExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825158"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-759"></a><span class="hs-comment">-- Parentheses do display something, but it gives little info and</span><span>
</span><a name="line-760"></a><span class="hs-comment">-- if we go deeper when we go inside them then we get ugly things</span><span>
</span><a name="line-761"></a><span class="hs-comment">-- like (...)</span><span>
</span><a name="line-762"></a><a name="isQuietHsExpr"><a href="HsExpr.html#isQuietHsExpr"><span class="hs-identifier">isQuietHsExpr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-763"></a><span class="hs-comment">-- applications don't display anything themselves</span><span>
</span><a name="line-764"></a><span class="hs-identifier">isQuietHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-765"></a><span class="hs-identifier">isQuietHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-766"></a><span class="hs-identifier">isQuietHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsAppTypeOut"><span class="hs-identifier hs-var">HsAppTypeOut</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-767"></a><span class="hs-identifier">isQuietHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#OpApp"><span class="hs-identifier hs-var">OpApp</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-768"></a><span class="hs-identifier">isQuietHsExpr</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-769"></a><span>
</span><a name="line-770"></a><span class="hs-identifier">pprBinds</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825156"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825157"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>
</span><a name="line-771"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsBinds.html#HsLocalBindsLR"><span class="hs-identifier hs-type">HsLocalBindsLR</span></a><span> </span><a href="#local-1627825156"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825157"><span class="hs-identifier hs-type">idR</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-772"></a><a name="pprBinds"><a href="HsExpr.html#pprBinds"><span class="hs-identifier">pprBinds</span></a></a><span> </span><a name="local-1627825169"><a href="#local-1627825169"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprDeeper"><span class="hs-identifier hs-var">pprDeeper</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825169"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-773"></a><span>
</span><a name="line-774"></a><span class="hs-comment">-----------------------</span><span>
</span><a name="line-775"></a><span class="hs-identifier">ppr_lexpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825155"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825155"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-776"></a><a name="ppr_lexpr"><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier">ppr_lexpr</span></a></a><span> </span><a name="local-1627825170"><a href="#local-1627825170"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_expr"><span class="hs-identifier hs-var">ppr_expr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825170"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-777"></a><span>
</span><a name="line-778"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-1627825154"><a href="#local-1627825154"><span class="hs-identifier">id</span></a></a><span class="hs-operator">.</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825154"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825154"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-779"></a><a name="ppr_expr"><a href="HsExpr.html#ppr_expr"><span class="hs-identifier">ppr_expr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825171"><a href="#local-1627825171"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-1627825171"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-780"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsUnboundVar"><span class="hs-identifier hs-var">HsUnboundVar</span></a><span> </span><a name="local-1627825172"><a href="#local-1627825172"><span class="hs-identifier">uv</span></a></a><span class="hs-special">)</span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#unboundVarOcc"><span class="hs-identifier hs-var">unboundVarOcc</span></a><span> </span><a href="#local-1627825172"><span class="hs-identifier hs-var">uv</span></a><span class="hs-special">)</span><span>
</span><a name="line-781"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsIPVar"><span class="hs-identifier hs-var">HsIPVar</span></a><span> </span><a name="local-1627825173"><a href="#local-1627825173"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825173"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-782"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsOverLabel"><span class="hs-identifier hs-var">HsOverLabel</span></a><span> </span><a name="local-1627825174"><a href="#local-1627825174"><span class="hs-identifier">l</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'#'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825174"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-783"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a><span> </span><a name="local-1627825175"><a href="#local-1627825175"><span class="hs-identifier">lit</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825175"><span class="hs-identifier hs-var">lit</span></a><span>
</span><a name="line-784"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a><span> </span><a name="local-1627825176"><a href="#local-1627825176"><span class="hs-identifier">lit</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825176"><span class="hs-identifier hs-var">lit</span></a><span>
</span><a name="line-785"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a><span> </span><a name="local-1627825177"><a href="#local-1627825177"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825177"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-786"></a><span>
</span><a name="line-787"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCoreAnn"><span class="hs-identifier hs-var">HsCoreAnn</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-var">StringLiteral</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825178"><a href="#local-1627825178"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825179"><a href="#local-1627825179"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-788"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;HsCoreAnn&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-1627825178"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825179"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">]</span><span>
</span><a name="line-789"></a><span>
</span><a name="line-790"></a><span class="hs-identifier">ppr_expr</span><span> </span><a name="local-1627825180"><a href="#local-1627825180"><span class="hs-identifier">e</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="HsExpr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_apps"><span class="hs-identifier hs-var">ppr_apps</span></a><span> </span><a href="#local-1627825180"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-791"></a><span class="hs-identifier">ppr_expr</span><span> </span><a name="local-1627825181"><a href="#local-1627825181"><span class="hs-identifier">e</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="HsExpr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_apps"><span class="hs-identifier hs-var">ppr_apps</span></a><span> </span><a href="#local-1627825181"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-792"></a><span class="hs-identifier">ppr_expr</span><span> </span><a name="local-1627825182"><a href="#local-1627825182"><span class="hs-identifier">e</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="HsExpr.html#HsAppTypeOut"><span class="hs-identifier hs-var">HsAppTypeOut</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_apps"><span class="hs-identifier hs-var">ppr_apps</span></a><span> </span><a href="#local-1627825182"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-793"></a><span>
</span><a name="line-794"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#OpApp"><span class="hs-identifier hs-var">OpApp</span></a><span> </span><a name="local-1627825183"><a href="#local-1627825183"><span class="hs-identifier">e1</span></a></a><span> </span><a name="local-1627825184"><a href="#local-1627825184"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825185"><a href="#local-1627825185"><span class="hs-identifier">e2</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-795"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825184"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-796"></a><span>      </span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825191"><a href="#local-1627825191"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825189"><span class="hs-identifier hs-var">pp_infixly</span></a><span> </span><a href="#local-1627825191"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-797"></a><span>      </span><a href="HsExpr.html#HsRecFld"><span class="hs-identifier hs-var">HsRecFld</span></a><span> </span><a name="local-1627825192"><a href="#local-1627825192"><span class="hs-identifier">f</span></a></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825189"><span class="hs-identifier hs-var">pp_infixly</span></a><span> </span><a href="#local-1627825192"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-798"></a><span>      </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825188"><span class="hs-identifier hs-var">pp_prefixly</span></a><span>
</span><a name="line-799"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-800"></a><span>    </span><a name="local-1627825186"><a href="#local-1627825186"><span class="hs-identifier">pp_e1</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprDebugParendExpr"><span class="hs-identifier hs-var">pprDebugParendExpr</span></a><span> </span><a href="#local-1627825183"><span class="hs-identifier hs-var">e1</span></a><span>   </span><span class="hs-comment">-- In debug mode, add parens</span><span>
</span><a name="line-801"></a><span>    </span><a name="local-1627825187"><a href="#local-1627825187"><span class="hs-identifier">pp_e2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprDebugParendExpr"><span class="hs-identifier hs-var">pprDebugParendExpr</span></a><span> </span><a href="#local-1627825185"><span class="hs-identifier hs-var">e2</span></a><span>   </span><span class="hs-comment">-- to make precedence clear</span><span>
</span><a name="line-802"></a><span>
</span><a name="line-803"></a><span>    </span><a name="local-1627825188"><a href="#local-1627825188"><span class="hs-identifier">pp_prefixly</span></a></a><span>
</span><a name="line-804"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825184"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="#local-1627825186"><span class="hs-identifier hs-var">pp_e1</span></a><span class="hs-special">,</span><span> </span><a href="#local-1627825187"><span class="hs-identifier hs-var">pp_e2</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-805"></a><span>
</span><a name="line-806"></a><span>    </span><a name="local-1627825189"><a href="#local-1627825189"><span class="hs-identifier">pp_infixly</span></a></a><span> </span><a name="local-1627825190"><a href="#local-1627825190"><span class="hs-identifier">v</span></a></a><span>
</span><a name="line-807"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="#local-1627825186"><span class="hs-identifier hs-var">pp_e1</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-1627825190"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><a href="#local-1627825187"><span class="hs-identifier hs-var">pp_e2</span></a><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><a name="line-808"></a><span>
</span><a name="line-809"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#NegApp"><span class="hs-identifier hs-var">NegApp</span></a><span> </span><a name="local-1627825193"><a href="#local-1627825193"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'-'</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprDebugParendExpr"><span class="hs-identifier hs-var">pprDebugParendExpr</span></a><span> </span><a href="#local-1627825193"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-810"></a><span>
</span><a name="line-811"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SectionL"><span class="hs-identifier hs-var">SectionL</span></a><span> </span><a name="local-1627825194"><a href="#local-1627825194"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-1627825195"><a href="#local-1627825195"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-812"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825195"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-813"></a><span>      </span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825200"><a href="#local-1627825200"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825198"><span class="hs-identifier hs-var">pp_infixly</span></a><span> </span><a href="#local-1627825200"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-814"></a><span>      </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825197"><span class="hs-identifier hs-var">pp_prefixly</span></a><span>
</span><a name="line-815"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-816"></a><span>    </span><a name="local-1627825196"><a href="#local-1627825196"><span class="hs-identifier">pp_expr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprDebugParendExpr"><span class="hs-identifier hs-var">pprDebugParendExpr</span></a><span> </span><a href="#local-1627825194"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-817"></a><span>
</span><a name="line-818"></a><span>    </span><a name="local-1627825197"><a href="#local-1627825197"><span class="hs-identifier">pp_prefixly</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot; \\ x_ -&gt;&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825195"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-819"></a><span>                       </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="#local-1627825196"><span class="hs-identifier hs-var">pp_expr</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;x_ )&quot;</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-820"></a><span>    </span><a name="local-1627825198"><a href="#local-1627825198"><span class="hs-identifier">pp_infixly</span></a></a><span> </span><a name="local-1627825199"><a href="#local-1627825199"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="#local-1627825196"><span class="hs-identifier hs-var">pp_expr</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-1627825199"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-821"></a><span>
</span><a name="line-822"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SectionR"><span class="hs-identifier hs-var">SectionR</span></a><span> </span><a name="local-1627825201"><a href="#local-1627825201"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-1627825202"><a href="#local-1627825202"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-823"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825201"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-824"></a><span>      </span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825207"><a href="#local-1627825207"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825205"><span class="hs-identifier hs-var">pp_infixly</span></a><span> </span><a href="#local-1627825207"><span class="hs-identifier hs-var">v</span></a><span>
</span><a name="line-825"></a><span>      </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825204"><span class="hs-identifier hs-var">pp_prefixly</span></a><span>
</span><a name="line-826"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-827"></a><span>    </span><a name="local-1627825203"><a href="#local-1627825203"><span class="hs-identifier">pp_expr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprDebugParendExpr"><span class="hs-identifier hs-var">pprDebugParendExpr</span></a><span> </span><a href="#local-1627825202"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-828"></a><span>
</span><a name="line-829"></a><span>    </span><a name="local-1627825204"><a href="#local-1627825204"><span class="hs-identifier">pp_prefixly</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;( \\ x_ -&gt;&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825201"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;x_&quot;</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-830"></a><span>                       </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="#local-1627825203"><span class="hs-identifier hs-var">pp_expr</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#rparen"><span class="hs-identifier hs-var">rparen</span></a><span class="hs-special">)</span><span>
</span><a name="line-831"></a><span>    </span><a name="local-1627825205"><a href="#local-1627825205"><span class="hs-identifier">pp_infixly</span></a></a><span> </span><a name="local-1627825206"><a href="#local-1627825206"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-1627825206"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="#local-1627825203"><span class="hs-identifier hs-var">pp_expr</span></a><span class="hs-special">]</span><span>
</span><a name="line-832"></a><span>
</span><a name="line-833"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExplicitTuple"><span class="hs-identifier hs-var">ExplicitTuple</span></a><span> </span><a name="local-1627825208"><a href="#local-1627825208"><span class="hs-identifier">exprs</span></a></a><span> </span><a name="local-1627825209"><a href="#local-1627825209"><span class="hs-identifier">boxity</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-834"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#tupleParens"><span class="hs-identifier hs-var">tupleParens</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#boxityTupleSort"><span class="hs-identifier hs-var">boxityTupleSort</span></a><span> </span><a href="#local-1627825209"><span class="hs-identifier hs-var">boxity</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#fcat"><span class="hs-identifier hs-var">fcat</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627825210"><span class="hs-identifier hs-var">ppr_tup_args</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825208"><span class="hs-identifier hs-var">exprs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-835"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-836"></a><span>    </span><a name="local-1627825210"><a href="#local-1627825210"><span class="hs-identifier">ppr_tup_args</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-837"></a><span>    </span><span class="hs-identifier">ppr_tup_args</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Present"><span class="hs-identifier hs-var">Present</span></a><span> </span><a name="local-1627825212"><a href="#local-1627825212"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-1627825213"><a href="#local-1627825213"><span class="hs-identifier">es</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825212"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627825211"><span class="hs-identifier hs-var">punc</span></a><span> </span><a href="#local-1627825213"><span class="hs-identifier hs-var">es</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-1627825210"><span class="hs-identifier hs-var">ppr_tup_args</span></a><span> </span><a href="#local-1627825213"><span class="hs-identifier hs-var">es</span></a><span>
</span><a name="line-838"></a><span>    </span><span class="hs-identifier">ppr_tup_args</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Missing"><span class="hs-identifier hs-var">Missing</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-1627825214"><a href="#local-1627825214"><span class="hs-identifier">es</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825211"><span class="hs-identifier hs-var">punc</span></a><span> </span><a href="#local-1627825214"><span class="hs-identifier hs-var">es</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-1627825210"><span class="hs-identifier hs-var">ppr_tup_args</span></a><span> </span><a href="#local-1627825214"><span class="hs-identifier hs-var">es</span></a><span>
</span><a name="line-839"></a><span>
</span><a name="line-840"></a><span>    </span><a name="local-1627825211"><a href="#local-1627825211"><span class="hs-identifier">punc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Present"><span class="hs-identifier hs-var">Present</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span>
</span><a name="line-841"></a><span>    </span><span class="hs-identifier">punc</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Missing"><span class="hs-identifier hs-var">Missing</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span>
</span><a name="line-842"></a><span>    </span><span class="hs-identifier">punc</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-843"></a><span>
</span><a name="line-844"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLam"><span class="hs-identifier hs-var">HsLam</span></a><span> </span><a name="local-1627825215"><a href="#local-1627825215"><span class="hs-identifier">matches</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-845"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprMatches"><span class="hs-identifier hs-var">pprMatches</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825154"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825215"><span class="hs-identifier hs-var">matches</span></a><span>
</span><a name="line-846"></a><span>
</span><a name="line-847"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLamCase"><span class="hs-identifier hs-var">HsLamCase</span></a><span> </span><a name="local-1627825216"><a href="#local-1627825216"><span class="hs-identifier">matches</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-848"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;\\case {&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-849"></a><span>          </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprMatches"><span class="hs-identifier hs-var">pprMatches</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825154"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825216"><span class="hs-identifier hs-var">matches</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'}'</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-850"></a><span>
</span><a name="line-851"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCase"><span class="hs-identifier hs-var">HsCase</span></a><span> </span><a name="local-1627825217"><a href="#local-1627825217"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-1627825218"><a href="#local-1627825218"><span class="hs-identifier">matches</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-852"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;case&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825217"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;of {&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-853"></a><span>          </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprMatches"><span class="hs-identifier hs-var">pprMatches</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825154"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825218"><span class="hs-identifier hs-var">matches</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'}'</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-854"></a><span>
</span><a name="line-855"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsIf"><span class="hs-identifier hs-var">HsIf</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825219"><a href="#local-1627825219"><span class="hs-identifier">e1</span></a></a><span> </span><a name="local-1627825220"><a href="#local-1627825220"><span class="hs-identifier">e2</span></a></a><span> </span><a name="local-1627825221"><a href="#local-1627825221"><span class="hs-identifier">e3</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-856"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;if&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825219"><span class="hs-identifier hs-var">e1</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;then&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-857"></a><span>         </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825220"><span class="hs-identifier hs-var">e2</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-858"></a><span>         </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;else&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-859"></a><span>         </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825221"><span class="hs-identifier hs-var">e3</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-860"></a><span>
</span><a name="line-861"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsMultiIf"><span class="hs-identifier hs-var">HsMultiIf</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825222"><a href="#local-1627825222"><span class="hs-identifier">alts</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-862"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;if&quot;</span><span> </span><span class="hs-glyph">:</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="#local-1627825223"><span class="hs-identifier hs-var">ppr_alt</span></a><span> </span><a href="#local-1627825222"><span class="hs-identifier hs-var">alts</span></a><span>
</span><a name="line-863"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-1627825223"><a href="#local-1627825223"><span class="hs-identifier">ppr_alt</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHS"><span class="hs-identifier hs-var">GRHS</span></a><span> </span><a name="local-1627825224"><a href="#local-1627825224"><span class="hs-identifier">guards</span></a></a><span> </span><a name="local-1627825225"><a href="#local-1627825225"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-864"></a><span>          </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#vbar"><span class="hs-identifier hs-var">vbar</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-1627825224"><span class="hs-identifier hs-var">guards</span></a><span>
</span><a name="line-865"></a><span>              </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#pprDeeper"><span class="hs-identifier hs-var">pprDeeper</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825225"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-866"></a><span>
</span><a name="line-867"></a><span class="hs-comment">-- special case: let ... in let ...</span><span>
</span><a name="line-868"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLet"><span class="hs-identifier hs-var">HsLet</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825226"><a href="#local-1627825226"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825227"><a href="#local-1627825227"><span class="hs-identifier">expr</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLet"><span class="hs-identifier hs-var">HsLet</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-869"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;let&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#pprBinds"><span class="hs-identifier hs-var">pprBinds</span></a><span> </span><a href="#local-1627825226"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;in&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-870"></a><span>         </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825227"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">]</span><span>
</span><a name="line-871"></a><span>
</span><a name="line-872"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLet"><span class="hs-identifier hs-var">HsLet</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825228"><a href="#local-1627825228"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825229"><a href="#local-1627825229"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-873"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;let&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprBinds"><span class="hs-identifier hs-var">pprBinds</span></a><span> </span><a href="#local-1627825228"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-874"></a><span>         </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;in&quot;</span><span class="hs-special">)</span><span>  </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825229"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-875"></a><span>
</span><a name="line-876"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsDo"><span class="hs-identifier hs-var">HsDo</span></a><span> </span><a name="local-1627825230"><a href="#local-1627825230"><span class="hs-identifier">do_or_list_comp</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825231"><a href="#local-1627825231"><span class="hs-identifier">stmts</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprDo"><span class="hs-identifier hs-var">pprDo</span></a><span> </span><a href="#local-1627825230"><span class="hs-identifier hs-var">do_or_list_comp</span></a><span> </span><a href="#local-1627825231"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-877"></a><span>
</span><a name="line-878"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExplicitList"><span class="hs-identifier hs-var">ExplicitList</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825232"><a href="#local-1627825232"><span class="hs-identifier">exprs</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-879"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprDeeperList"><span class="hs-identifier hs-var">pprDeeperList</span></a><span> </span><a href="Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825232"><span class="hs-identifier hs-var">exprs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-880"></a><span>
</span><a name="line-881"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExplicitPArr"><span class="hs-identifier hs-var">ExplicitPArr</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825233"><a href="#local-1627825233"><span class="hs-identifier">exprs</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-882"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#paBrackets"><span class="hs-identifier hs-var">paBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprDeeperList"><span class="hs-identifier hs-var">pprDeeperList</span></a><span> </span><a href="Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825233"><span class="hs-identifier hs-var">exprs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-883"></a><span>
</span><a name="line-884"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#RecordCon"><span class="hs-identifier hs-var">RecordCon</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">rcon_con_name</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825234"><a href="#local-1627825234"><span class="hs-identifier">con_id</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">rcon_flds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825235"><a href="#local-1627825235"><span class="hs-identifier">rbinds</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-885"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825234"><span class="hs-identifier hs-var">con_id</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825235"><span class="hs-identifier hs-var">rbinds</span></a><span class="hs-special">)</span><span>
</span><a name="line-886"></a><span>
</span><a name="line-887"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#RecordUpd"><span class="hs-identifier hs-var">RecordUpd</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">rupd_expr</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825236"><a href="#local-1627825236"><span class="hs-identifier">aexp</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">rupd_flds</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825237"><a href="#local-1627825237"><span class="hs-identifier">rbinds</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-888"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprParendExpr"><span class="hs-identifier hs-var">pprParendExpr</span></a><span> </span><a href="#local-1627825236"><span class="hs-identifier hs-var">aexp</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825237"><span class="hs-identifier hs-var">rbinds</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-889"></a><span>
</span><a name="line-890"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExprWithTySig"><span class="hs-identifier hs-var">ExprWithTySig</span></a><span> </span><a name="local-1627825238"><a href="#local-1627825238"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-1627825239"><a href="#local-1627825239"><span class="hs-identifier">sig</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-891"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825238"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span class="hs-special">)</span><span>
</span><a name="line-892"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825239"><span class="hs-identifier hs-var">sig</span></a><span class="hs-special">)</span><span>
</span><a name="line-893"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExprWithTySigOut"><span class="hs-identifier hs-var">ExprWithTySigOut</span></a><span> </span><a name="local-1627825240"><a href="#local-1627825240"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-1627825241"><a href="#local-1627825241"><span class="hs-identifier">sig</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-894"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825240"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span class="hs-special">)</span><span>
</span><a name="line-895"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825241"><span class="hs-identifier hs-var">sig</span></a><span class="hs-special">)</span><span>
</span><a name="line-896"></a><span>
</span><a name="line-897"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ArithSeq"><span class="hs-identifier hs-var">ArithSeq</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825242"><a href="#local-1627825242"><span class="hs-identifier">info</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825242"><span class="hs-identifier hs-var">info</span></a><span class="hs-special">)</span><span>
</span><a name="line-898"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PArrSeq"><span class="hs-identifier hs-var">PArrSeq</span></a><span>  </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825243"><a href="#local-1627825243"><span class="hs-identifier">info</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#paBrackets"><span class="hs-identifier hs-var">paBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825243"><span class="hs-identifier hs-var">info</span></a><span class="hs-special">)</span><span>
</span><a name="line-899"></a><span>
</span><a name="line-900"></a><span class="hs-identifier">ppr_expr</span><span> </span><a href="HsExpr.html#EWildPat"><span class="hs-identifier hs-var">EWildPat</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span>
</span><a name="line-901"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ELazyPat"><span class="hs-identifier hs-var">ELazyPat</span></a><span> </span><a name="local-1627825244"><a href="#local-1627825244"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'~'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825244"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-902"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#EAsPat"><span class="hs-identifier hs-var">EAsPat</span></a><span> </span><a name="local-1627825245"><a href="#local-1627825245"><span class="hs-identifier">v</span></a></a><span> </span><a name="local-1627825246"><a href="#local-1627825246"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825245"><span class="hs-identifier hs-var">v</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'@'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825246"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-903"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#EViewPat"><span class="hs-identifier hs-var">EViewPat</span></a><span> </span><a name="local-1627825247"><a href="#local-1627825247"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-1627825248"><a href="#local-1627825248"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825247"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825248"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-904"></a><span>
</span><a name="line-905"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsSCC"><span class="hs-identifier hs-var">HsSCC</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-var">StringLiteral</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825249"><a href="#local-1627825249"><span class="hs-identifier">lbl</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825250"><a href="#local-1627825250"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-906"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;{-# SCC&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-1627825249"><span class="hs-identifier hs-var">lbl</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;#-}&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-907"></a><span>          </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825250"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-special">]</span><span>
</span><a name="line-908"></a><span>
</span><a name="line-909"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsWrap"><span class="hs-identifier hs-var">HsWrap</span></a><span> </span><a name="local-1627825251"><a href="#local-1627825251"><span class="hs-identifier">co_fn</span></a></a><span> </span><a name="local-1627825252"><a href="#local-1627825252"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-910"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="TcEvidence.html#pprHsWrapper"><span class="hs-identifier hs-var">pprHsWrapper</span></a><span> </span><a href="#local-1627825251"><span class="hs-identifier hs-var">co_fn</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-1627825253"><a href="#local-1627825253"><span class="hs-identifier">parens</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-1627825253"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="HsExpr.html#pprParendExpr"><span class="hs-identifier hs-var">pprParendExpr</span></a><span> </span><a href="#local-1627825252"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-911"></a><span>                                             </span><span class="hs-keyword">else</span><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span>       </span><a href="#local-1627825252"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-912"></a><span>
</span><a name="line-913"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsSpliceE"><span class="hs-identifier hs-var">HsSpliceE</span></a><span> </span><a name="local-1627825254"><a href="#local-1627825254"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprSplice"><span class="hs-identifier hs-var">pprSplice</span></a><span> </span><a href="#local-1627825254"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-914"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-var">HsBracket</span></a><span> </span><a name="local-1627825255"><a href="#local-1627825255"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprHsBracket"><span class="hs-identifier hs-var">pprHsBracket</span></a><span> </span><a href="#local-1627825255"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-915"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsRnBracketOut"><span class="hs-identifier hs-var">HsRnBracketOut</span></a><span> </span><a name="local-1627825256"><a href="#local-1627825256"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825256"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-916"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsRnBracketOut"><span class="hs-identifier hs-var">HsRnBracketOut</span></a><span> </span><a name="local-1627825257"><a href="#local-1627825257"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-1627825258"><a href="#local-1627825258"><span class="hs-identifier">ps</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825257"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pending(rn)&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825258"><span class="hs-identifier hs-var">ps</span></a><span>
</span><a name="line-917"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTcBracketOut"><span class="hs-identifier hs-var">HsTcBracketOut</span></a><span> </span><a name="local-1627825259"><a href="#local-1627825259"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825259"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-918"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTcBracketOut"><span class="hs-identifier hs-var">HsTcBracketOut</span></a><span> </span><a name="local-1627825260"><a href="#local-1627825260"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-1627825261"><a href="#local-1627825261"><span class="hs-identifier">ps</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825260"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pending(tc)&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825261"><span class="hs-identifier hs-var">ps</span></a><span>
</span><a name="line-919"></a><span>
</span><a name="line-920"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsProc"><span class="hs-identifier hs-var">HsProc</span></a><span> </span><a name="local-1627825262"><a href="#local-1627825262"><span class="hs-identifier">pat</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a><span> </span><a name="local-1627825263"><a href="#local-1627825263"><span class="hs-identifier">cmd</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-921"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;proc&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825262"><span class="hs-identifier hs-var">pat</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825263"><span class="hs-identifier hs-var">cmd</span></a><span class="hs-special">]</span><span>
</span><a name="line-922"></a><span>
</span><a name="line-923"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsStatic"><span class="hs-identifier hs-var">HsStatic</span></a><span> </span><a name="local-1627825264"><a href="#local-1627825264"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-924"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;static&quot;</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825264"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">]</span><span>
</span><a name="line-925"></a><span>
</span><a name="line-926"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTick"><span class="hs-identifier hs-var">HsTick</span></a><span> </span><a name="local-1627825265"><a href="#local-1627825265"><span class="hs-identifier">tickish</span></a></a><span> </span><a name="local-1627825266"><a href="#local-1627825266"><span class="hs-identifier">exp</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-927"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsBinds.html#pprTicks"><span class="hs-identifier hs-var">pprTicks</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825266"><span class="hs-identifier hs-var">exp</span></a><span class="hs-special">)</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span>
</span><a name="line-928"></a><span>    </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825265"><span class="hs-identifier hs-var">tickish</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825266"><span class="hs-identifier hs-var">exp</span></a><span>
</span><a name="line-929"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsBinTick"><span class="hs-identifier hs-var">HsBinTick</span></a><span> </span><a name="local-1627825267"><a href="#local-1627825267"><span class="hs-identifier">tickIdTrue</span></a></a><span> </span><a name="local-1627825268"><a href="#local-1627825268"><span class="hs-identifier">tickIdFalse</span></a></a><span> </span><a name="local-1627825269"><a href="#local-1627825269"><span class="hs-identifier">exp</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-930"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsBinds.html#pprTicks"><span class="hs-identifier hs-var">pprTicks</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825269"><span class="hs-identifier hs-var">exp</span></a><span class="hs-special">)</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span>
</span><a name="line-931"></a><span>    </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;bintick&lt;&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-932"></a><span>          </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825267"><span class="hs-identifier hs-var">tickIdTrue</span></a><span class="hs-special">,</span><span>
</span><a name="line-933"></a><span>          </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;,&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-934"></a><span>          </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825268"><span class="hs-identifier hs-var">tickIdFalse</span></a><span class="hs-special">,</span><span>
</span><a name="line-935"></a><span>          </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&gt;(&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-936"></a><span>          </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825269"><span class="hs-identifier hs-var">exp</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;)&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-937"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTickPragma"><span class="hs-identifier hs-var">HsTickPragma</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825270"><a href="#local-1627825270"><span class="hs-identifier">externalSrcLoc</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825271"><a href="#local-1627825271"><span class="hs-identifier">exp</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-938"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsBinds.html#pprTicks"><span class="hs-identifier hs-var">pprTicks</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825271"><span class="hs-identifier hs-var">exp</span></a><span class="hs-special">)</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span>
</span><a name="line-939"></a><span>    </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;tickpragma&lt;&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-940"></a><span>          </span><a href="HsExpr.html#pprExternalSrcLoc"><span class="hs-identifier hs-var">pprExternalSrcLoc</span></a><span> </span><a href="#local-1627825270"><span class="hs-identifier hs-var">externalSrcLoc</span></a><span class="hs-special">,</span><span>
</span><a name="line-941"></a><span>          </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&gt;(&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-942"></a><span>          </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825271"><span class="hs-identifier hs-var">exp</span></a><span class="hs-special">,</span><span>
</span><a name="line-943"></a><span>          </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;)&quot;</span><span class="hs-special">]</span><span>
</span><a name="line-944"></a><span>
</span><a name="line-945"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsArrApp"><span class="hs-identifier hs-var">HsArrApp</span></a><span> </span><a name="local-1627825272"><a href="#local-1627825272"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825273"><a href="#local-1627825273"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsFirstOrderApp"><span class="hs-identifier hs-var">HsFirstOrderApp</span></a><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-946"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825272"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#larrowt"><span class="hs-identifier hs-var">larrowt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825273"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">]</span><span>
</span><a name="line-947"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsArrApp"><span class="hs-identifier hs-var">HsArrApp</span></a><span> </span><a name="local-1627825274"><a href="#local-1627825274"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825275"><a href="#local-1627825275"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsFirstOrderApp"><span class="hs-identifier hs-var">HsFirstOrderApp</span></a><span> </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span>
</span><a name="line-948"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825275"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#arrowt"><span class="hs-identifier hs-var">arrowt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825274"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">]</span><span>
</span><a name="line-949"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsArrApp"><span class="hs-identifier hs-var">HsArrApp</span></a><span> </span><a name="local-1627825276"><a href="#local-1627825276"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825277"><a href="#local-1627825277"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsHigherOrderApp"><span class="hs-identifier hs-var">HsHigherOrderApp</span></a><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-950"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825276"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#larrowtt"><span class="hs-identifier hs-var">larrowtt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825277"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">]</span><span>
</span><a name="line-951"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsArrApp"><span class="hs-identifier hs-var">HsArrApp</span></a><span> </span><a name="local-1627825278"><a href="#local-1627825278"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825279"><a href="#local-1627825279"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsHigherOrderApp"><span class="hs-identifier hs-var">HsHigherOrderApp</span></a><span> </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span>
</span><a name="line-952"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825279"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#arrowtt"><span class="hs-identifier hs-var">arrowtt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825278"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">]</span><span>
</span><a name="line-953"></a><span>
</span><a name="line-954"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsArrForm"><span class="hs-identifier hs-var">HsArrForm</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825280"><a href="#local-1627825280"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><a name="local-1627825281"><a href="#local-1627825281"><span class="hs-identifier">arg1</span></a></a><span class="hs-special">,</span><span> </span><a name="local-1627825282"><a href="#local-1627825282"><span class="hs-identifier">arg2</span></a></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-955"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825281"><span class="hs-identifier hs-var">arg1</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-1627825280"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825282"><span class="hs-identifier hs-var">arg2</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><a name="line-956"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsArrForm"><span class="hs-identifier hs-var">HsArrForm</span></a><span> </span><a name="local-1627825283"><a href="#local-1627825283"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825284"><a href="#local-1627825284"><span class="hs-identifier">args</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-957"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;(|&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825283"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span>
</span><a name="line-958"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825284"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;|)&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-959"></a><span class="hs-identifier">ppr_expr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsRecFld"><span class="hs-identifier hs-var">HsRecFld</span></a><span> </span><a name="local-1627825285"><a href="#local-1627825285"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825285"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-960"></a><span>
</span><a name="line-961"></a><span class="hs-comment">-- We must tiresomely make the &quot;id&quot; parameter to the LHsWcType existential</span><span>
</span><a name="line-962"></a><span class="hs-comment">-- because it's different in the HsAppType case and the HsAppTypeOut case</span><span>
</span><a name="line-963"></a><span class="hs-keyword">data</span><span> </span><a name="LHsWcTypeX"><a href="HsExpr.html#LHsWcTypeX"><span class="hs-identifier">LHsWcTypeX</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-1627825069"><a href="#local-1627825069"><span class="hs-identifier">id</span></a></a><span class="hs-operator">.</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825069"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="LHsWcTypeX"><a href="HsExpr.html#LHsWcTypeX"><span class="hs-identifier">LHsWcTypeX</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsWcType"><span class="hs-identifier hs-type">LHsWcType</span></a><span> </span><a href="#local-1627825069"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-964"></a><span>
</span><a name="line-965"></a><span class="hs-identifier">ppr_apps</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825153"><span class="hs-identifier hs-type">id</span></a><span>
</span><a name="line-966"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825153"><span class="hs-identifier hs-type">id</span></a><span>
</span><a name="line-967"></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825153"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="HsExpr.html#LHsWcTypeX"><span class="hs-identifier hs-type">LHsWcTypeX</span></a><span class="hs-special">]</span><span>
</span><a name="line-968"></a><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-969"></a><a name="ppr_apps"><a href="HsExpr.html#ppr_apps"><span class="hs-identifier">ppr_apps</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825286"><a href="#local-1627825286"><span class="hs-identifier">fun</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825287"><a href="#local-1627825287"><span class="hs-identifier">arg</span></a></a><span class="hs-special">)</span><span>        </span><a name="local-1627825288"><a href="#local-1627825288"><span class="hs-identifier">args</span></a></a><span>
</span><a name="line-970"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_apps"><span class="hs-identifier hs-var">ppr_apps</span></a><span> </span><a href="#local-1627825286"><span class="hs-identifier hs-var">fun</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a><span> </span><a href="#local-1627825287"><span class="hs-identifier hs-var">arg</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-1627825288"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span>
</span><a name="line-971"></a><span class="hs-identifier">ppr_apps</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825289"><a href="#local-1627825289"><span class="hs-identifier">fun</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825290"><a href="#local-1627825290"><span class="hs-identifier">arg</span></a></a><span class="hs-special">)</span><span>    </span><a name="local-1627825291"><a href="#local-1627825291"><span class="hs-identifier">args</span></a></a><span>
</span><a name="line-972"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_apps"><span class="hs-identifier hs-var">ppr_apps</span></a><span> </span><a href="#local-1627825289"><span class="hs-identifier hs-var">fun</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsWcTypeX"><span class="hs-identifier hs-var">LHsWcTypeX</span></a><span> </span><a href="#local-1627825290"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-1627825291"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span>
</span><a name="line-973"></a><span class="hs-identifier">ppr_apps</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsAppTypeOut"><span class="hs-identifier hs-var">HsAppTypeOut</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825292"><a href="#local-1627825292"><span class="hs-identifier">fun</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825293"><a href="#local-1627825293"><span class="hs-identifier">arg</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825294"><a href="#local-1627825294"><span class="hs-identifier">args</span></a></a><span>
</span><a name="line-974"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_apps"><span class="hs-identifier hs-var">ppr_apps</span></a><span> </span><a href="#local-1627825292"><span class="hs-identifier hs-var">fun</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsWcTypeX"><span class="hs-identifier hs-var">LHsWcTypeX</span></a><span> </span><a href="#local-1627825293"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-1627825294"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span>
</span><a name="line-975"></a><span class="hs-identifier">ppr_apps</span><span> </span><a name="local-1627825295"><a href="#local-1627825295"><span class="hs-identifier">fun</span></a></a><span> </span><a name="local-1627825296"><a href="#local-1627825296"><span class="hs-identifier">args</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_expr"><span class="hs-identifier hs-var">ppr_expr</span></a><span> </span><a href="#local-1627825295"><span class="hs-identifier hs-var">fun</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="#local-1627825297"><span class="hs-identifier hs-var">pp</span></a><span> </span><a href="#local-1627825296"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-976"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-977"></a><span>    </span><a name="local-1627825297"><a href="#local-1627825297"><span class="hs-identifier">pp</span></a></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a><span> </span><a name="local-1627825298"><a href="#local-1627825298"><span class="hs-identifier">arg</span></a></a><span class="hs-special">)</span><span>                             </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825298"><span class="hs-identifier hs-var">arg</span></a><span>
</span><a name="line-978"></a><span>    </span><span class="hs-identifier">pp</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsWcTypeX"><span class="hs-identifier hs-var">LHsWcTypeX</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825299"><a href="#local-1627825299"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-979"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'@'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsTypes.html#pprParendHsType"><span class="hs-identifier hs-var">pprParendHsType</span></a><span> </span><a href="#local-1627825299"><span class="hs-identifier hs-var">arg</span></a><span>
</span><a name="line-980"></a><span>
</span><a name="line-981"></a><span class="hs-identifier">pprExternalSrcLoc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">,</span><span class="hs-identifier hs-type">Int</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-982"></a><a name="pprExternalSrcLoc"><a href="HsExpr.html#pprExternalSrcLoc"><span class="hs-identifier">pprExternalSrcLoc</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-var">StringLiteral</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825300"><a href="#local-1627825300"><span class="hs-identifier">src</span></a></a><span class="hs-special">,</span><span class="hs-special">(</span><a name="local-1627825301"><a href="#local-1627825301"><span class="hs-identifier">n1</span></a></a><span class="hs-special">,</span><a name="local-1627825302"><a href="#local-1627825302"><span class="hs-identifier">n2</span></a></a><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><a name="local-1627825303"><a href="#local-1627825303"><span class="hs-identifier">n3</span></a></a><span class="hs-special">,</span><a name="local-1627825304"><a href="#local-1627825304"><span class="hs-identifier">n4</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-983"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627825300"><span class="hs-identifier hs-var">src</span></a><span class="hs-special">,</span><span class="hs-special">(</span><a href="#local-1627825301"><span class="hs-identifier hs-var">n1</span></a><span class="hs-special">,</span><a href="#local-1627825302"><span class="hs-identifier hs-var">n2</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><a href="#local-1627825303"><span class="hs-identifier hs-var">n3</span></a><span class="hs-special">,</span><a href="#local-1627825304"><span class="hs-identifier hs-var">n4</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-984"></a><span>
</span><a name="line-985"></a><span class="hs-comment">{-
HsSyn records exactly where the user put parens, with HsPar.
So generally speaking we print without adding any parens.
However, some code is internally generated, and in some places
parens are absolutely required; so for these places we use
pprParendLExpr (but don't print double parens of course).

For operator applications we don't add parens, because the operator
fixities should do the job, except in debug mode (-dppr-debug) so we
can see the structure of the parse tree.
-}</span><span>
</span><a name="line-996"></a><span>
</span><a name="line-997"></a><span class="hs-identifier">pprDebugParendExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825152"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825152"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-998"></a><a name="pprDebugParendExpr"><a href="HsExpr.html#pprDebugParendExpr"><span class="hs-identifier">pprDebugParendExpr</span></a></a><span> </span><a name="local-1627825305"><a href="#local-1627825305"><span class="hs-identifier">expr</span></a></a><span>
</span><a name="line-999"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#getPprStyle"><span class="hs-identifier hs-var">getPprStyle</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-1627825306"><a href="#local-1627825306"><span class="hs-identifier">sty</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1000"></a><span>    </span><span class="hs-keyword">if</span><span> </span><a href="Outputable.html#debugStyle"><span class="hs-identifier hs-var">debugStyle</span></a><span> </span><a href="#local-1627825306"><span class="hs-identifier hs-var">sty</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825305"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-1001"></a><span>                      </span><span class="hs-keyword">else</span><span> </span><a href="HsExpr.html#pprLExpr"><span class="hs-identifier hs-var">pprLExpr</span></a><span>      </span><a href="#local-1627825305"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-1002"></a><span>
</span><a name="line-1003"></a><span class="hs-identifier">pprParendLExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825151"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825151"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1004"></a><a name="pprParendLExpr"><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier">pprParendLExpr</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825307"><a href="#local-1627825307"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprParendExpr"><span class="hs-identifier hs-var">pprParendExpr</span></a><span> </span><a href="#local-1627825307"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-1005"></a><span>
</span><a name="line-1006"></a><span class="hs-identifier">pprParendExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825150"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825150"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1007"></a><a name="pprParendExpr"><a href="HsExpr.html#pprParendExpr"><span class="hs-identifier">pprParendExpr</span></a></a><span> </span><a name="local-1627825308"><a href="#local-1627825308"><span class="hs-identifier">expr</span></a></a><span>
</span><a name="line-1008"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsExpr.html#hsExprNeedsParens"><span class="hs-identifier hs-var">hsExprNeedsParens</span></a><span> </span><a href="#local-1627825308"><span class="hs-identifier hs-var">expr</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><a href="#local-1627825308"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span>
</span><a name="line-1009"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>              </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprExpr"><span class="hs-identifier hs-var">pprExpr</span></a><span> </span><a href="#local-1627825308"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-1010"></a><span>        </span><span class="hs-comment">-- Using pprLExpr makes sure that we go 'deeper'</span><span>
</span><a name="line-1011"></a><span>        </span><span class="hs-comment">-- I think that is usually (always?) right</span><span>
</span><a name="line-1012"></a><span>
</span><a name="line-1013"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825149"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1014"></a><span class="hs-comment">-- True of expressions for which '(e)' and 'e'</span><span>
</span><a name="line-1015"></a><span class="hs-comment">-- mean the same thing</span><span>
</span><a name="line-1016"></a><a name="hsExprNeedsParens"><a href="HsExpr.html#hsExprNeedsParens"><span class="hs-identifier">hsExprNeedsParens</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ArithSeq"><span class="hs-identifier hs-var">ArithSeq</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1017"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PArrSeq"><span class="hs-identifier hs-var">PArrSeq</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1018"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1019"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1020"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1021"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsUnboundVar"><span class="hs-identifier hs-var">HsUnboundVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1022"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsIPVar"><span class="hs-identifier hs-var">HsIPVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1023"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsOverLabel"><span class="hs-identifier hs-var">HsOverLabel</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1024"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExplicitTuple"><span class="hs-identifier hs-var">ExplicitTuple</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1025"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExplicitList"><span class="hs-identifier hs-var">ExplicitList</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1026"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExplicitPArr"><span class="hs-identifier hs-var">ExplicitPArr</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1027"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1028"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-var">HsBracket</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1029"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsRnBracketOut"><span class="hs-identifier hs-var">HsRnBracketOut</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1030"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTcBracketOut"><span class="hs-identifier hs-var">HsTcBracketOut</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1031"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsDo"><span class="hs-identifier hs-var">HsDo</span></a><span> </span><a name="local-1627825309"><a href="#local-1627825309"><span class="hs-identifier">sc</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1032"></a><span>       </span><span class="hs-glyph">|</span><span> </span><a href="HsExpr.html#isListCompExpr"><span class="hs-identifier hs-var">isListCompExpr</span></a><span> </span><a href="#local-1627825309"><span class="hs-identifier hs-var">sc</span></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1033"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsRecFld"><span class="hs-identifier hs-var">HsRecFld</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1034"></a><span class="hs-identifier">hsExprNeedsParens</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1035"></a><span>
</span><a name="line-1036"></a><span>
</span><a name="line-1037"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825148"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1038"></a><span class="hs-comment">-- True of a single token</span><span>
</span><a name="line-1039"></a><a name="isAtomicHsExpr"><a href="HsExpr.html#isAtomicHsExpr"><span class="hs-identifier">isAtomicHsExpr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1040"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1041"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1042"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsIPVar"><span class="hs-identifier hs-var">HsIPVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1043"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsOverLabel"><span class="hs-identifier hs-var">HsOverLabel</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1044"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsUnboundVar"><span class="hs-identifier hs-var">HsUnboundVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1045"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsWrap"><span class="hs-identifier hs-var">HsWrap</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825310"><a href="#local-1627825310"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isAtomicHsExpr"><span class="hs-identifier hs-var">isAtomicHsExpr</span></a><span> </span><a href="#local-1627825310"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-1046"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a><span> </span><a name="local-1627825311"><a href="#local-1627825311"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isAtomicHsExpr"><span class="hs-identifier hs-var">isAtomicHsExpr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825311"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-1047"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsRecFld"><span class="hs-identifier hs-var">HsRecFld</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1048"></a><span class="hs-identifier">isAtomicHsExpr</span><span> </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1049"></a><span>
</span><a name="line-1050"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Commands (in arrow abstractions)}
*                                                                      *
************************************************************************

We re-use HsExpr to represent these.
-}</span><span>
</span><a name="line-1059"></a><span>
</span><a name="line-1060"></a><span class="hs-keyword">type</span><span> </span><a name="LHsCmd"><a href="HsExpr.html#LHsCmd"><span class="hs-identifier">LHsCmd</span></a></a><span> </span><a name="local-1627825068"><a href="#local-1627825068"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825068"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1061"></a><span>
</span><a name="line-1062"></a><span class="hs-keyword">data</span><span> </span><a name="HsCmd"><a href="HsExpr.html#HsCmd"><span class="hs-identifier">HsCmd</span></a></a><span> </span><a name="local-1627825067"><a href="#local-1627825067"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-1063"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.Annlarrowtail',</span><span>
</span><a name="line-1064"></a><span>  </span><span class="hs-comment">--          'ApiAnnotation.Annrarrowtail','ApiAnnotation.AnnLarrowtail',</span><span>
</span><a name="line-1065"></a><span>  </span><span class="hs-comment">--          'ApiAnnotation.AnnRarrowtail'</span><span>
</span><a name="line-1066"></a><span>
</span><a name="line-1067"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1068"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsCmdArrApp"><a href="HsExpr.html#HsCmdArrApp"><span class="hs-identifier">HsCmdArrApp</span></a></a><span>          </span><span class="hs-comment">-- Arrow tail, or arrow application (f -&lt; arg)</span><span>
</span><a name="line-1069"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- arrow expression, f</span><span>
</span><a name="line-1070"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- input expression, arg</span><span>
</span><a name="line-1071"></a><span>        </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- type of the arrow expressions f,</span><span>
</span><a name="line-1072"></a><span>                         </span><span class="hs-comment">-- of the form a t t', where arg :: t</span><span>
</span><a name="line-1073"></a><span>        </span><a href="HsExpr.html#HsArrAppType"><span class="hs-identifier hs-type">HsArrAppType</span></a><span>     </span><span class="hs-comment">-- higher-order (-&lt;&lt;) or first-order (-&lt;)</span><span>
</span><a name="line-1074"></a><span>        </span><span class="hs-identifier hs-type">Bool</span><span>             </span><span class="hs-comment">-- True =&gt; right-to-left (f -&lt; arg)</span><span>
</span><a name="line-1075"></a><span>                         </span><span class="hs-comment">-- False =&gt; left-to-right (arg &gt;- f)</span><span>
</span><a name="line-1076"></a><span>
</span><a name="line-1077"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'(|'@,</span><span>
</span><a name="line-1078"></a><span>  </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @'|)'@</span><span>
</span><a name="line-1079"></a><span>
</span><a name="line-1080"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1081"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdArrForm"><a href="HsExpr.html#HsCmdArrForm"><span class="hs-identifier">HsCmdArrForm</span></a></a><span>         </span><span class="hs-comment">-- Command formation,  (| e cmd1 .. cmdn |)</span><span>
</span><a name="line-1082"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- the operator</span><span>
</span><a name="line-1083"></a><span>                         </span><span class="hs-comment">-- after type-checking, a type abstraction to be</span><span>
</span><a name="line-1084"></a><span>                         </span><span class="hs-comment">-- applied to the type of the local environment tuple</span><span>
</span><a name="line-1085"></a><span>        </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- fixity (filled in by the renamer), for forms that</span><span>
</span><a name="line-1086"></a><span>                         </span><span class="hs-comment">-- were converted from OpApp's by the renamer</span><span>
</span><a name="line-1087"></a><span>        </span><span class="hs-special">[</span><a href="HsExpr.html#LHsCmdTop"><span class="hs-identifier hs-type">LHsCmdTop</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- argument commands</span><span>
</span><a name="line-1088"></a><span>
</span><a name="line-1089"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdApp"><a href="HsExpr.html#HsCmdApp"><span class="hs-identifier">HsCmdApp</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1090"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1091"></a><span>
</span><a name="line-1092"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdLam"><a href="HsExpr.html#HsCmdLam"><span class="hs-identifier">HsCmdLam</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- kappa</span><span>
</span><a name="line-1093"></a><span>       </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnLam',</span><span>
</span><a name="line-1094"></a><span>       </span><span class="hs-comment">--       'ApiAnnotation.AnnRarrow',</span><span>
</span><a name="line-1095"></a><span>
</span><a name="line-1096"></a><span>       </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1097"></a><span>
</span><a name="line-1098"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdPar"><a href="HsExpr.html#HsCmdPar"><span class="hs-identifier">HsCmdPar</span></a></a><span>    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>                     </span><span class="hs-comment">-- parenthesised command</span><span>
</span><a name="line-1099"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'('@,</span><span>
</span><a name="line-1100"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-1101"></a><span>
</span><a name="line-1102"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1103"></a><span>
</span><a name="line-1104"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdCase"><a href="HsExpr.html#HsCmdCase"><span class="hs-identifier">HsCmdCase</span></a></a><span>   </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1105"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- bodies are HsCmd's</span><span>
</span><a name="line-1106"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnCase',</span><span>
</span><a name="line-1107"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnOf','ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-1108"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnClose' @'}'@</span><span>
</span><a name="line-1109"></a><span>
</span><a name="line-1110"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1111"></a><span>
</span><a name="line-1112"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdIf"><a href="HsExpr.html#HsCmdIf"><span class="hs-identifier">HsCmdIf</span></a></a><span>     </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- cond function</span><span>
</span><a name="line-1113"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>                    </span><span class="hs-comment">-- predicate</span><span>
</span><a name="line-1114"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>                     </span><span class="hs-comment">-- then part</span><span>
</span><a name="line-1115"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>                     </span><span class="hs-comment">-- else part</span><span>
</span><a name="line-1116"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnIf',</span><span>
</span><a name="line-1117"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnSemi',</span><span>
</span><a name="line-1118"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnThen','ApiAnnotation.AnnSemi',</span><span>
</span><a name="line-1119"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnElse',</span><span>
</span><a name="line-1120"></a><span>
</span><a name="line-1121"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1122"></a><span>
</span><a name="line-1123"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdLet"><a href="HsExpr.html#HsCmdLet"><span class="hs-identifier">HsCmdLet</span></a></a><span>    </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsBinds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- let(rec)</span><span>
</span><a name="line-1124"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span>  </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1125"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnLet',</span><span>
</span><a name="line-1126"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-1127"></a><span>    </span><span class="hs-comment">--       'ApiAnnotation.AnnClose' @'}'@,'ApiAnnotation.AnnIn'</span><span>
</span><a name="line-1128"></a><span>
</span><a name="line-1129"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1130"></a><span>
</span><a name="line-1131"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdDo"><a href="HsExpr.html#HsCmdDo"><span class="hs-identifier">HsCmdDo</span></a></a><span>     </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#CmdLStmt"><span class="hs-identifier hs-type">CmdLStmt</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1132"></a><span>                </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>                </span><span class="hs-comment">-- Type of the whole expression</span><span>
</span><a name="line-1133"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDo',</span><span>
</span><a name="line-1134"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnOpen', 'ApiAnnotation.AnnSemi',</span><span>
</span><a name="line-1135"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-1136"></a><span>    </span><span class="hs-comment">--             'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-1137"></a><span>
</span><a name="line-1138"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1139"></a><span>
</span><a name="line-1140"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCmdWrap"><a href="HsExpr.html#HsCmdWrap"><span class="hs-identifier">HsCmdWrap</span></a></a><span>   </span><a href="TcEvidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a><span>
</span><a name="line-1141"></a><span>                </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825067"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- If   cmd :: arg1 --&gt; res</span><span>
</span><a name="line-1142"></a><span>                               </span><span class="hs-comment">--      wrap :: arg1 &quot;-&gt;&quot; arg2</span><span>
</span><a name="line-1143"></a><span>                               </span><span class="hs-comment">-- Then (HsCmdWrap wrap cmd) :: arg2 --&gt; res</span><span>
</span><a name="line-1144"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1145"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825553"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825553"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1146"></a><span>
</span><a name="line-1147"></a><span class="hs-keyword">data</span><span> </span><a name="HsArrAppType"><a href="HsExpr.html#HsArrAppType"><span class="hs-identifier">HsArrAppType</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsHigherOrderApp"><a href="HsExpr.html#HsHigherOrderApp"><span class="hs-identifier">HsHigherOrderApp</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="HsFirstOrderApp"><a href="HsExpr.html#HsFirstOrderApp"><span class="hs-identifier">HsFirstOrderApp</span></a></a><span>
</span><a name="line-1148"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1149"></a><span>
</span><a name="line-1150"></a><span>
</span><a name="line-1151"></a><span class="hs-comment">{- | Top-level command, introducing a new arrow.
This may occur inside a proc (where the stack is empty) or as an
argument of a command-forming operator.
-}</span><span>
</span><a name="line-1155"></a><span>
</span><a name="line-1156"></a><span class="hs-keyword">type</span><span> </span><a name="LHsCmdTop"><a href="HsExpr.html#LHsCmdTop"><span class="hs-identifier">LHsCmdTop</span></a></a><span> </span><a name="local-1627825066"><a href="#local-1627825066"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a><span> </span><a href="#local-1627825066"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1157"></a><span>
</span><a name="line-1158"></a><span class="hs-keyword">data</span><span> </span><a name="HsCmdTop"><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier">HsCmdTop</span></a></a><span> </span><a name="local-1627825065"><a href="#local-1627825065"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-1159"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsCmdTop"><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier">HsCmdTop</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825065"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1160"></a><span>             </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825065"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Nested tuple of inputs on the command's stack</span><span>
</span><a name="line-1161"></a><span>             </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825065"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- return type of the command</span><span>
</span><a name="line-1162"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#CmdSyntaxTable"><span class="hs-identifier hs-type">CmdSyntaxTable</span></a><span> </span><a href="#local-1627825065"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- See Note [CmdSyntaxTable]</span><span>
</span><a name="line-1163"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1164"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825552"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a><span> </span><a href="#local-1627825552"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1165"></a><span>
</span><a name="line-1166"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825523"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825523"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1167"></a><span>    </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-1627825524"><a href="#local-1627825524"><span class="hs-identifier">cmd</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprCmd"><span class="hs-identifier hs-var">pprCmd</span></a><span> </span><a href="#local-1627825524"><span class="hs-identifier hs-var">cmd</span></a><span>
</span><a name="line-1168"></a><span>
</span><a name="line-1169"></a><span class="hs-comment">-----------------------</span><span>
</span><a name="line-1170"></a><span class="hs-comment">-- pprCmd and pprLCmd call pprDeeper;</span><span>
</span><a name="line-1171"></a><span class="hs-comment">-- the underscore versions do not</span><span>
</span><a name="line-1172"></a><span class="hs-identifier">pprLCmd</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825147"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825147"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1173"></a><a name="pprLCmd"><a href="HsExpr.html#pprLCmd"><span class="hs-identifier">pprLCmd</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825312"><a href="#local-1627825312"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprCmd"><span class="hs-identifier hs-var">pprCmd</span></a><span> </span><a href="#local-1627825312"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-1174"></a><span>
</span><a name="line-1175"></a><span class="hs-identifier">pprCmd</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825146"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825146"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1176"></a><a name="pprCmd"><a href="HsExpr.html#pprCmd"><span class="hs-identifier">pprCmd</span></a></a><span> </span><a name="local-1627825313"><a href="#local-1627825313"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="HsExpr.html#isQuietHsCmd"><span class="hs-identifier hs-var">isQuietHsCmd</span></a><span> </span><a href="#local-1627825313"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-glyph">=</span><span>            </span><a href="HsExpr.html#ppr_cmd"><span class="hs-identifier hs-var">ppr_cmd</span></a><span> </span><a href="#local-1627825313"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-1177"></a><span>         </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprDeeper"><span class="hs-identifier hs-var">pprDeeper</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_cmd"><span class="hs-identifier hs-var">ppr_cmd</span></a><span> </span><a href="#local-1627825313"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-1178"></a><span>
</span><a name="line-1179"></a><span class="hs-identifier">isQuietHsCmd</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825145"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1180"></a><span class="hs-comment">-- Parentheses do display something, but it gives little info and</span><span>
</span><a name="line-1181"></a><span class="hs-comment">-- if we go deeper when we go inside them then we get ugly things</span><span>
</span><a name="line-1182"></a><span class="hs-comment">-- like (...)</span><span>
</span><a name="line-1183"></a><a name="isQuietHsCmd"><a href="HsExpr.html#isQuietHsCmd"><span class="hs-identifier">isQuietHsCmd</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdPar"><span class="hs-identifier hs-var">HsCmdPar</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1184"></a><span class="hs-comment">-- applications don't display anything themselves</span><span>
</span><a name="line-1185"></a><span class="hs-identifier">isQuietHsCmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1186"></a><span class="hs-identifier">isQuietHsCmd</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1187"></a><span>
</span><a name="line-1188"></a><span class="hs-comment">-----------------------</span><span>
</span><a name="line-1189"></a><span class="hs-identifier">ppr_lcmd</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825144"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span> </span><a href="#local-1627825144"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1190"></a><a name="ppr_lcmd"><a href="HsExpr.html#ppr_lcmd"><span class="hs-identifier">ppr_lcmd</span></a></a><span> </span><a name="local-1627825314"><a href="#local-1627825314"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_cmd"><span class="hs-identifier hs-var">ppr_cmd</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825314"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-1191"></a><span>
</span><a name="line-1192"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-1627825143"><a href="#local-1627825143"><span class="hs-identifier">id</span></a></a><span class="hs-operator">.</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825143"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a><span> </span><a href="#local-1627825143"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1193"></a><a name="ppr_cmd"><a href="HsExpr.html#ppr_cmd"><span class="hs-identifier">ppr_cmd</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdPar"><span class="hs-identifier hs-var">HsCmdPar</span></a><span> </span><a name="local-1627825315"><a href="#local-1627825315"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lcmd"><span class="hs-identifier hs-var">ppr_lcmd</span></a><span> </span><a href="#local-1627825315"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-1194"></a><span>
</span><a name="line-1195"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a><span> </span><a name="local-1627825316"><a href="#local-1627825316"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-1627825317"><a href="#local-1627825317"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1196"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><a name="local-1627825324"><a href="#local-1627825324"><span class="hs-identifier">fun</span></a></a><span class="hs-special">,</span><span> </span><a name="local-1627825325"><a href="#local-1627825325"><span class="hs-identifier">args</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825318"><span class="hs-identifier hs-var">collect_args</span></a><span> </span><a href="#local-1627825316"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-special">[</span><a href="#local-1627825317"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">]</span><span> </span><span class="hs-keyword">in</span><span>
</span><a name="line-1197"></a><span>    </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lcmd"><span class="hs-identifier hs-var">ppr_lcmd</span></a><span> </span><a href="#local-1627825324"><span class="hs-identifier hs-var">fun</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsExpr.html#pprParendLExpr"><span class="hs-identifier hs-var">pprParendLExpr</span></a><span> </span><a href="#local-1627825325"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1198"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1199"></a><span>    </span><a name="local-1627825318"><a href="#local-1627825318"><span class="hs-identifier">collect_args</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a><span> </span><a name="local-1627825319"><a href="#local-1627825319"><span class="hs-identifier">fun</span></a></a><span> </span><a name="local-1627825320"><a href="#local-1627825320"><span class="hs-identifier">arg</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-1627825321"><a href="#local-1627825321"><span class="hs-identifier">args</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825318"><span class="hs-identifier hs-var">collect_args</span></a><span> </span><a href="#local-1627825319"><span class="hs-identifier hs-var">fun</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627825320"><span class="hs-identifier hs-var">arg</span></a><span class="hs-glyph">:</span><a href="#local-1627825321"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span>
</span><a name="line-1200"></a><span>    </span><span class="hs-identifier">collect_args</span><span> </span><a name="local-1627825322"><a href="#local-1627825322"><span class="hs-identifier">fun</span></a></a><span> </span><a name="local-1627825323"><a href="#local-1627825323"><span class="hs-identifier">args</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-1627825322"><span class="hs-identifier hs-var">fun</span></a><span class="hs-special">,</span><span> </span><a href="#local-1627825323"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span>
</span><a name="line-1201"></a><span>
</span><a name="line-1202"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdLam"><span class="hs-identifier hs-var">HsCmdLam</span></a><span> </span><a name="local-1627825326"><a href="#local-1627825326"><span class="hs-identifier">matches</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1203"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprMatches"><span class="hs-identifier hs-var">pprMatches</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825143"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825326"><span class="hs-identifier hs-var">matches</span></a><span>
</span><a name="line-1204"></a><span>
</span><a name="line-1205"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdCase"><span class="hs-identifier hs-var">HsCmdCase</span></a><span> </span><a name="local-1627825327"><a href="#local-1627825327"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-1627825328"><a href="#local-1627825328"><span class="hs-identifier">matches</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1206"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;case&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825327"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;of {&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-1207"></a><span>          </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprMatches"><span class="hs-identifier hs-var">pprMatches</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825143"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825328"><span class="hs-identifier hs-var">matches</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'}'</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1208"></a><span>
</span><a name="line-1209"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdIf"><span class="hs-identifier hs-var">HsCmdIf</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825329"><a href="#local-1627825329"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-1627825330"><a href="#local-1627825330"><span class="hs-identifier">ct</span></a></a><span> </span><a name="local-1627825331"><a href="#local-1627825331"><span class="hs-identifier">ce</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1210"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;if&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825329"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;then&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-1211"></a><span>         </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825330"><span class="hs-identifier hs-var">ct</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-1212"></a><span>         </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;else&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-1213"></a><span>         </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825331"><span class="hs-identifier hs-var">ce</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1214"></a><span>
</span><a name="line-1215"></a><span class="hs-comment">-- special case: let ... in let ...</span><span>
</span><a name="line-1216"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdLet"><span class="hs-identifier hs-var">HsCmdLet</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825332"><a href="#local-1627825332"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825333"><a href="#local-1627825333"><span class="hs-identifier">cmd</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdLet"><span class="hs-identifier hs-var">HsCmdLet</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1217"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;let&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#pprBinds"><span class="hs-identifier hs-var">pprBinds</span></a><span> </span><a href="#local-1627825332"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;in&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-1218"></a><span>         </span><a href="HsExpr.html#ppr_lcmd"><span class="hs-identifier hs-var">ppr_lcmd</span></a><span> </span><a href="#local-1627825333"><span class="hs-identifier hs-var">cmd</span></a><span class="hs-special">]</span><span>
</span><a name="line-1219"></a><span>
</span><a name="line-1220"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdLet"><span class="hs-identifier hs-var">HsCmdLet</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825334"><a href="#local-1627825334"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span> </span><a name="local-1627825335"><a href="#local-1627825335"><span class="hs-identifier">cmd</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1221"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;let&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprBinds"><span class="hs-identifier hs-var">pprBinds</span></a><span> </span><a href="#local-1627825334"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-1222"></a><span>         </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;in&quot;</span><span class="hs-special">)</span><span>  </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825335"><span class="hs-identifier hs-var">cmd</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1223"></a><span>
</span><a name="line-1224"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdDo"><span class="hs-identifier hs-var">HsCmdDo</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825336"><a href="#local-1627825336"><span class="hs-identifier">stmts</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprDo"><span class="hs-identifier hs-var">pprDo</span></a><span> </span><a href="HsExpr.html#ArrowExpr"><span class="hs-identifier hs-var">ArrowExpr</span></a><span> </span><a href="#local-1627825336"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1225"></a><span>
</span><a name="line-1226"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdWrap"><span class="hs-identifier hs-var">HsCmdWrap</span></a><span> </span><a name="local-1627825337"><a href="#local-1627825337"><span class="hs-identifier">w</span></a></a><span> </span><a name="local-1627825338"><a href="#local-1627825338"><span class="hs-identifier">cmd</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1227"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="TcEvidence.html#pprHsWrapper"><span class="hs-identifier hs-var">pprHsWrapper</span></a><span> </span><a href="#local-1627825337"><span class="hs-identifier hs-var">w</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_cmd"><span class="hs-identifier hs-var">ppr_cmd</span></a><span> </span><a href="#local-1627825338"><span class="hs-identifier hs-var">cmd</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1228"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrApp"><span class="hs-identifier hs-var">HsCmdArrApp</span></a><span> </span><a name="local-1627825339"><a href="#local-1627825339"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825340"><a href="#local-1627825340"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsFirstOrderApp"><span class="hs-identifier hs-var">HsFirstOrderApp</span></a><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-1229"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825339"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#larrowt"><span class="hs-identifier hs-var">larrowt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825340"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">]</span><span>
</span><a name="line-1230"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrApp"><span class="hs-identifier hs-var">HsCmdArrApp</span></a><span> </span><a name="local-1627825341"><a href="#local-1627825341"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825342"><a href="#local-1627825342"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsFirstOrderApp"><span class="hs-identifier hs-var">HsFirstOrderApp</span></a><span> </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span>
</span><a name="line-1231"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825342"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#arrowt"><span class="hs-identifier hs-var">arrowt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825341"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">]</span><span>
</span><a name="line-1232"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrApp"><span class="hs-identifier hs-var">HsCmdArrApp</span></a><span> </span><a name="local-1627825343"><a href="#local-1627825343"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825344"><a href="#local-1627825344"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsHigherOrderApp"><span class="hs-identifier hs-var">HsHigherOrderApp</span></a><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-1233"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825343"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#larrowtt"><span class="hs-identifier hs-var">larrowtt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825344"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">]</span><span>
</span><a name="line-1234"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrApp"><span class="hs-identifier hs-var">HsCmdArrApp</span></a><span> </span><a name="local-1627825345"><a href="#local-1627825345"><span class="hs-identifier">arrow</span></a></a><span> </span><a name="local-1627825346"><a href="#local-1627825346"><span class="hs-identifier">arg</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsExpr.html#HsHigherOrderApp"><span class="hs-identifier hs-var">HsHigherOrderApp</span></a><span> </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span>
</span><a name="line-1235"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825346"><span class="hs-identifier hs-var">arg</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#arrowtt"><span class="hs-identifier hs-var">arrowtt</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825345"><span class="hs-identifier hs-var">arrow</span></a><span class="hs-special">]</span><span>
</span><a name="line-1236"></a><span>
</span><a name="line-1237"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825347"><a href="#local-1627825347"><span class="hs-identifier">v</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><a name="local-1627825348"><a href="#local-1627825348"><span class="hs-identifier">arg1</span></a></a><span class="hs-special">,</span><span> </span><a name="local-1627825349"><a href="#local-1627825349"><span class="hs-identifier">arg2</span></a></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1238"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825348"><span class="hs-identifier hs-var">arg1</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-1627825347"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825349"><span class="hs-identifier hs-var">arg2</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><a name="line-1239"></a><span class="hs-identifier">ppr_cmd</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a><span> </span><a name="local-1627825350"><a href="#local-1627825350"><span class="hs-identifier">op</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825351"><a href="#local-1627825351"><span class="hs-identifier">args</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1240"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;(|&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsExpr.html#ppr_lexpr"><span class="hs-identifier hs-var">ppr_lexpr</span></a><span> </span><a href="#local-1627825350"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span>
</span><a name="line-1241"></a><span>         </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825351"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;|)&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-1242"></a><span>
</span><a name="line-1243"></a><span class="hs-identifier">pprCmdArg</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825142"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a><span> </span><a href="#local-1627825142"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1244"></a><a name="pprCmdArg"><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier">pprCmdArg</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a><span> </span><a name="local-1627825352"><a href="#local-1627825352"><span class="hs-identifier">cmd</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1245"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_lcmd"><span class="hs-identifier hs-var">ppr_lcmd</span></a><span> </span><a href="#local-1627825352"><span class="hs-identifier hs-var">cmd</span></a><span>
</span><a name="line-1246"></a><span class="hs-identifier">pprCmdArg</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a><span> </span><a name="local-1627825353"><a href="#local-1627825353"><span class="hs-identifier">cmd</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1247"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ppr_lcmd"><span class="hs-identifier hs-var">ppr_lcmd</span></a><span> </span><a href="#local-1627825353"><span class="hs-identifier hs-var">cmd</span></a><span class="hs-special">)</span><span>
</span><a name="line-1248"></a><span>
</span><a name="line-1249"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825522"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a><span> </span><a href="#local-1627825522"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1250"></a><span>    </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprCmdArg"><span class="hs-identifier hs-var">pprCmdArg</span></a><span>
</span><a name="line-1251"></a><span>
</span><a name="line-1252"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Record binds}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1259"></a><span>
</span><a name="line-1260"></a><span class="hs-keyword">type</span><span> </span><a name="HsRecordBinds"><a href="HsExpr.html#HsRecordBinds"><span class="hs-identifier">HsRecordBinds</span></a></a><span> </span><a name="local-1627825064"><a href="#local-1627825064"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsPat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a><span> </span><a href="#local-1627825064"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825064"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1261"></a><span>
</span><a name="line-1262"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{@Match@, @GRHSs@, and @GRHS@ datatypes}
*                                                                      *
************************************************************************

@Match@es are sets of pattern bindings and right hand sides for
functions, patterns or case branches. For example, if a function @g@
is defined as:
\begin{verbatim}
g (x,y) = y
g ((x:ys),y) = y+1,
\end{verbatim}
then \tr{g} has two @Match@es: @(x,y) = y@ and @((x:ys),y) = y+1@.

It is always the case that each element of an @[Match]@ list has the
same number of @pats@s inside it.  This corresponds to saying that
a function defined by pattern matching must have the same number of
patterns in each equation.
-}</span><span>
</span><a name="line-1283"></a><span>
</span><a name="line-1284"></a><span class="hs-keyword">data</span><span> </span><a name="MatchGroup"><a href="HsExpr.html#MatchGroup"><span class="hs-identifier">MatchGroup</span></a></a><span> </span><a name="local-1627825062"><a href="#local-1627825062"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825063"><a href="#local-1627825063"><span class="hs-identifier">body</span></a></a><span>
</span><a name="line-1285"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="MG"><a href="HsExpr.html#MG"><span class="hs-identifier">MG</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="mg_alts"><a href="HsExpr.html#mg_alts"><span class="hs-identifier">mg_alts</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a><span> </span><a href="#local-1627825062"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825063"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- The alternatives</span><span>
</span><a name="line-1286"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="mg_arg_tys"><a href="HsExpr.html#mg_arg_tys"><span class="hs-identifier">mg_arg_tys</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825062"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Types of the arguments, t1..tn</span><span>
</span><a name="line-1287"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="mg_res_ty"><a href="HsExpr.html#mg_res_ty"><span class="hs-identifier">mg_res_ty</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825062"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span>    </span><span class="hs-comment">-- Type of the result, tr</span><span>
</span><a name="line-1288"></a><span>       </span><span class="hs-special">,</span><span> </span><a name="mg_origin"><a href="HsExpr.html#mg_origin"><span class="hs-identifier">mg_origin</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Origin"><span class="hs-identifier hs-type">Origin</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1289"></a><span>     </span><span class="hs-comment">-- The type is the type of the entire group</span><span>
</span><a name="line-1290"></a><span>     </span><span class="hs-comment">--      t1 -&gt; ... -&gt; tn -&gt; tr</span><span>
</span><a name="line-1291"></a><span>     </span><span class="hs-comment">-- where there are n patterns</span><span>
</span><a name="line-1292"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1293"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-1627825550"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">,</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825551"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825551"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825550"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1294"></a><span>
</span><a name="line-1295"></a><span class="hs-keyword">type</span><span> </span><a name="LMatch"><a href="HsExpr.html#LMatch"><span class="hs-identifier">LMatch</span></a></a><span> </span><a name="local-1627825060"><a href="#local-1627825060"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825061"><a href="#local-1627825061"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Match"><span class="hs-identifier hs-type">Match</span></a><span> </span><a href="#local-1627825060"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825061"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1296"></a><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnSemi' when in a</span><span>
</span><a name="line-1297"></a><span class="hs-comment">--   list</span><span>
</span><a name="line-1298"></a><span>
</span><a name="line-1299"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1300"></a><span class="hs-keyword">data</span><span> </span><a name="Match"><a href="HsExpr.html#Match"><span class="hs-identifier">Match</span></a></a><span> </span><a name="local-1627825058"><a href="#local-1627825058"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825059"><a href="#local-1627825059"><span class="hs-identifier">body</span></a></a><span>
</span><a name="line-1301"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Match"><a href="HsExpr.html#Match"><span class="hs-identifier">Match</span></a></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-1302"></a><span>        </span><a name="m_fixity"><a href="HsExpr.html#m_fixity"><span class="hs-identifier">m_fixity</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#MatchFixity"><span class="hs-identifier hs-type">MatchFixity</span></a><span> </span><a href="#local-1627825058"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">,</span><span>
</span><a name="line-1303"></a><span>          </span><span class="hs-comment">-- See note [m_fixity in Match]</span><span>
</span><a name="line-1304"></a><span>        </span><a name="m_pats"><a href="HsExpr.html#m_pats"><span class="hs-identifier">m_pats</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825058"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- The patterns</span><span>
</span><a name="line-1305"></a><span>        </span><a name="m_type"><a href="HsExpr.html#m_type"><span class="hs-identifier">m_type</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-1627825058"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-1306"></a><span>                                 </span><span class="hs-comment">-- A type signature for the result of the match</span><span>
</span><a name="line-1307"></a><span>                                 </span><span class="hs-comment">-- Nothing after typechecking</span><span>
</span><a name="line-1308"></a><span>                                 </span><span class="hs-comment">-- NB: No longer supported</span><span>
</span><a name="line-1309"></a><span>        </span><a name="m_grhss"><a href="HsExpr.html#m_grhss"><span class="hs-identifier">m_grhss</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a><span> </span><a href="#local-1627825058"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825059"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1310"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1311"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-1627825548"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">,</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825549"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Match"><span class="hs-identifier hs-type">Match</span></a><span> </span><a href="#local-1627825549"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825548"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1312"></a><span>
</span><a name="line-1313"></a><span class="hs-comment">{-
Note [m_fixity in Match]
~~~~~~~~~~~~~~~~~~~~~~

The parser initially creates a FunBind with a single Match in it for
every function definition it sees.

These are then grouped together by getMonoBind into a single FunBind,
where all the Matches are combined.

In the process, all the original FunBind fun_id's bar one are
discarded, including the locations.

This causes a problem for source to source conversions via API
Annotations, so the original fun_ids and infix flags are preserved in
the Match, when it originates from a FunBind.

Example infix function definition requiring individual API Annotations

    (&amp;&amp;&amp;  ) [] [] =  []
    xs    &amp;&amp;&amp;   [] =  xs
    (  &amp;&amp;&amp;  ) [] ys =  ys


-}</span><span>
</span><a name="line-1338"></a><span>
</span><a name="line-1339"></a><span class="hs-comment">-- |When a Match is part of a FunBind, it captures one complete equation for the</span><span>
</span><a name="line-1340"></a><span class="hs-comment">-- function. As such it has the function name, and its fixity.</span><span>
</span><a name="line-1341"></a><span class="hs-keyword">data</span><span> </span><a name="MatchFixity"><a href="HsExpr.html#MatchFixity"><span class="hs-identifier">MatchFixity</span></a></a><span> </span><a name="local-1627825057"><a href="#local-1627825057"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-1342"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NonFunBindMatch"><a href="HsExpr.html#NonFunBindMatch"><span class="hs-identifier">NonFunBindMatch</span></a></a><span>
</span><a name="line-1343"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="FunBindMatch"><a href="HsExpr.html#FunBindMatch"><span class="hs-identifier">FunBindMatch</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="#local-1627825057"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- of the Id</span><span>
</span><a name="line-1344"></a><span>                 </span><span class="hs-identifier hs-type">Bool</span><span>         </span><span class="hs-comment">-- is infix</span><span>
</span><a name="line-1345"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1346"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825547"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#MatchFixity"><span class="hs-identifier hs-type">MatchFixity</span></a><span> </span><a href="#local-1627825547"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1347"></a><span>
</span><a name="line-1348"></a><span class="hs-identifier">isInfixMatch</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#Match"><span class="hs-identifier hs-type">Match</span></a><span> </span><a href="#local-1627825140"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825141"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1349"></a><a name="isInfixMatch"><a href="HsExpr.html#isInfixMatch"><span class="hs-identifier">isInfixMatch</span></a></a><span> </span><a name="local-1627825354"><a href="#local-1627825354"><span class="hs-identifier">match</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">m_fixity</span><span> </span><a href="#local-1627825354"><span class="hs-identifier hs-var">match</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1350"></a><span>  </span><a href="HsExpr.html#FunBindMatch"><span class="hs-identifier hs-var">FunBindMatch</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier hs-var">True</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1351"></a><span>  </span><span class="hs-identifier">_</span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1352"></a><span>
</span><a name="line-1353"></a><span class="hs-identifier">isEmptyMatchGroup</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825138"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825139"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1354"></a><a name="isEmptyMatchGroup"><a href="HsExpr.html#isEmptyMatchGroup"><span class="hs-identifier">isEmptyMatchGroup</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#MG"><span class="hs-identifier hs-var">MG</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">mg_alts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825355"><a href="#local-1627825355"><span class="hs-identifier">ms</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825355"><span class="hs-identifier hs-var">ms</span></a><span>
</span><a name="line-1355"></a><span>
</span><a name="line-1356"></a><span class="hs-comment">-- | Is there only one RHS in this list of matches?</span><span>
</span><a name="line-1357"></a><span class="hs-identifier">isSingletonMatchGroup</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a><span> </span><a href="#local-1627825136"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825137"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1358"></a><a name="isSingletonMatchGroup"><a href="HsExpr.html#isSingletonMatchGroup"><span class="hs-identifier">isSingletonMatchGroup</span></a></a><span> </span><a name="local-1627825356"><a href="#local-1627825356"><span class="hs-identifier">matches</span></a></a><span>
</span><a name="line-1359"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825357"><a href="#local-1627825357"><span class="hs-identifier">match</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-1627825356"><span class="hs-identifier hs-var">matches</span></a><span>
</span><a name="line-1360"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#Match"><span class="hs-identifier hs-var">Match</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">m_grhss</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#GRHSs"><span class="hs-identifier hs-var">GRHSs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">grhssGRHSs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">_</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-1627825357"><span class="hs-identifier hs-var">match</span></a><span>
</span><a name="line-1361"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1362"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>
</span><a name="line-1363"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1364"></a><span>
</span><a name="line-1365"></a><span class="hs-identifier">matchGroupArity</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825134"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825135"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span>
</span><a name="line-1366"></a><span class="hs-comment">-- Precondition: MatchGroup is non-empty</span><span>
</span><a name="line-1367"></a><span class="hs-comment">-- This is called before type checking, when mg_arg_tys is not set</span><span>
</span><a name="line-1368"></a><a name="matchGroupArity"><a href="HsExpr.html#matchGroupArity"><span class="hs-identifier">matchGroupArity</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#MG"><span class="hs-identifier hs-var">MG</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">mg_alts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825358"><a href="#local-1627825358"><span class="hs-identifier">alts</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1369"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a name="local-1627825359"><a href="#local-1627825359"><span class="hs-identifier">alt1</span></a></a><span class="hs-glyph">:</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-1627825358"><span class="hs-identifier hs-var">alts</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#hsLMatchPats"><span class="hs-identifier hs-var">hsLMatchPats</span></a><span> </span><a href="#local-1627825359"><span class="hs-identifier hs-var">alt1</span></a><span class="hs-special">)</span><span>
</span><a name="line-1370"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;matchGroupArity&quot;</span><span>
</span><a name="line-1371"></a><span>
</span><a name="line-1372"></a><span class="hs-identifier">hsLMatchPats</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a><span> </span><a href="#local-1627825132"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825133"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825132"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>
</span><a name="line-1373"></a><a name="hsLMatchPats"><a href="HsExpr.html#hsLMatchPats"><span class="hs-identifier">hsLMatchPats</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#Match"><span class="hs-identifier hs-var">Match</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825360"><a href="#local-1627825360"><span class="hs-identifier">pats</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825360"><span class="hs-identifier hs-var">pats</span></a><span>
</span><a name="line-1374"></a><span>
</span><a name="line-1375"></a><span class="hs-comment">-- | GRHSs are used both for pattern bindings and for Matches</span><span>
</span><a name="line-1376"></a><span class="hs-comment">--</span><span>
</span><a name="line-1377"></a><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-1378"></a><span class="hs-comment">--        'ApiAnnotation.AnnEqual','ApiAnnotation.AnnWhere',</span><span>
</span><a name="line-1379"></a><span class="hs-comment">--        'ApiAnnotation.AnnOpen','ApiAnnotation.AnnClose'</span><span>
</span><a name="line-1380"></a><span class="hs-comment">--        'ApiAnnotation.AnnRarrow','ApiAnnotation.AnnSemi'</span><span>
</span><a name="line-1381"></a><span>
</span><a name="line-1382"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1383"></a><span class="hs-keyword">data</span><span> </span><a name="GRHSs"><a href="HsExpr.html#GRHSs"><span class="hs-identifier">GRHSs</span></a></a><span> </span><a name="local-1627825055"><a href="#local-1627825055"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825056"><a href="#local-1627825056"><span class="hs-identifier">body</span></a></a><span>
</span><a name="line-1384"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="GRHSs"><a href="HsExpr.html#GRHSs"><span class="hs-identifier">GRHSs</span></a></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-1385"></a><span>      </span><a name="grhssGRHSs"><a href="HsExpr.html#grhssGRHSs"><span class="hs-identifier">grhssGRHSs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a><span> </span><a href="#local-1627825055"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825056"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- ^ Guarded RHSs</span><span>
</span><a name="line-1386"></a><span>      </span><a name="grhssLocalBinds"><a href="HsExpr.html#grhssLocalBinds"><span class="hs-identifier">grhssLocalBinds</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsBinds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a><span> </span><a href="#local-1627825055"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The where clause</span><span>
</span><a name="line-1387"></a><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1388"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-1627825545"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">,</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825546"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a><span> </span><a href="#local-1627825546"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825545"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1389"></a><span>
</span><a name="line-1390"></a><span class="hs-keyword">type</span><span> </span><a name="LGRHS"><a href="HsExpr.html#LGRHS"><span class="hs-identifier">LGRHS</span></a></a><span> </span><a name="local-1627825053"><a href="#local-1627825053"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825054"><a href="#local-1627825054"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a><span> </span><a href="#local-1627825053"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825054"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1391"></a><span>
</span><a name="line-1392"></a><span class="hs-comment">-- | Guarded Right Hand Side.</span><span>
</span><a name="line-1393"></a><span class="hs-keyword">data</span><span> </span><a name="GRHS"><a href="HsExpr.html#GRHS"><span class="hs-identifier">GRHS</span></a></a><span> </span><a name="local-1627825051"><a href="#local-1627825051"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825052"><a href="#local-1627825052"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="GRHS"><a href="HsExpr.html#GRHS"><span class="hs-identifier">GRHS</span></a></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#GuardLStmt"><span class="hs-identifier hs-type">GuardLStmt</span></a><span> </span><a href="#local-1627825051"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Guards</span><span>
</span><a name="line-1394"></a><span>                         </span><a href="#local-1627825052"><span class="hs-identifier hs-type">body</span></a><span>            </span><span class="hs-comment">-- Right hand side</span><span>
</span><a name="line-1395"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1396"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-1627825543"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">,</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825544"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a><span> </span><a href="#local-1627825544"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825543"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1397"></a><span>
</span><a name="line-1398"></a><span class="hs-comment">-- We know the list must have at least one @Match@ in it.</span><span>
</span><a name="line-1399"></a><span>
</span><a name="line-1400"></a><span class="hs-identifier">pprMatches</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825129"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825130"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825131"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1401"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825129"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825130"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825131"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1402"></a><a name="pprMatches"><a href="HsExpr.html#pprMatches"><span class="hs-identifier">pprMatches</span></a></a><span> </span><a name="local-1627825361"><a href="#local-1627825361"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#MG"><span class="hs-identifier hs-var">MG</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">mg_alts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825362"><a href="#local-1627825362"><span class="hs-identifier">matches</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1403"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprMatch"><span class="hs-identifier hs-var">pprMatch</span></a><span> </span><a href="#local-1627825361"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825362"><span class="hs-identifier hs-var">matches</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1404"></a><span>      </span><span class="hs-comment">-- Don't print the type; it's only a place-holder before typechecking</span><span>
</span><a name="line-1405"></a><span>
</span><a name="line-1406"></a><span class="hs-comment">-- Exported to HsBinds, which can't see the defn of HsMatchContext</span><span>
</span><a name="line-1407"></a><span class="hs-identifier">pprFunBind</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825126"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825127"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825128"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1408"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-1627825126"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a><span> </span><a href="#local-1627825127"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825128"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1409"></a><a name="pprFunBind"><a href="HsExpr.html#pprFunBind"><span class="hs-identifier">pprFunBind</span></a></a><span> </span><a name="local-1627825363"><a href="#local-1627825363"><span class="hs-identifier">fun</span></a></a><span> </span><a name="local-1627825364"><a href="#local-1627825364"><span class="hs-identifier">matches</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprMatches"><span class="hs-identifier hs-var">pprMatches</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FunRhs"><span class="hs-identifier hs-var">FunRhs</span></a><span> </span><a href="#local-1627825363"><span class="hs-identifier hs-var">fun</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825364"><span class="hs-identifier hs-var">matches</span></a><span>
</span><a name="line-1410"></a><span>
</span><a name="line-1411"></a><span class="hs-comment">-- Exported to HsBinds, which can't see the defn of HsMatchContext</span><span>
</span><a name="line-1412"></a><span class="hs-identifier">pprPatBind</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-1627825123"><a href="#local-1627825123"><span class="hs-identifier">bndr</span></a></a><span> </span><a name="local-1627825124"><a href="#local-1627825124"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825125"><a href="#local-1627825125"><span class="hs-identifier">body</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825123"><span class="hs-identifier hs-type">bndr</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825124"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825125"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1413"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825123"><span class="hs-identifier hs-type">bndr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a><span> </span><a href="#local-1627825124"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825125"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1414"></a><a name="pprPatBind"><a href="HsExpr.html#pprPatBind"><span class="hs-identifier">pprPatBind</span></a></a><span> </span><a name="local-1627825365"><a href="#local-1627825365"><span class="hs-identifier">pat</span></a></a><span> </span><span class="hs-special">(</span><a name="local-1627825366"><a href="#local-1627825366"><span class="hs-identifier">grhss</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1415"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825365"><span class="hs-identifier hs-var">pat</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprGRHSs"><span class="hs-identifier hs-var">pprGRHSs</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PatBindRhs"><span class="hs-identifier hs-var">PatBindRhs</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825124"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825366"><span class="hs-identifier hs-var">grhss</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1416"></a><span>
</span><a name="line-1417"></a><span class="hs-identifier">pprMatch</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825120"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825121"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825122"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1418"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825120"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#Match"><span class="hs-identifier hs-type">Match</span></a><span> </span><a href="#local-1627825121"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825122"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1419"></a><a name="pprMatch"><a href="HsExpr.html#pprMatch"><span class="hs-identifier">pprMatch</span></a></a><span> </span><a name="local-1627825367"><a href="#local-1627825367"><span class="hs-identifier">ctxt</span></a></a><span> </span><a name="local-1627825368"><a href="#local-1627825368"><span class="hs-identifier">match</span></a></a><span>
</span><a name="line-1420"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627825370"><span class="hs-identifier hs-var">herald</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsPat.html#pprParendLPat"><span class="hs-identifier hs-var">pprParendLPat</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825371"><span class="hs-identifier hs-var">other_pats</span></a><span class="hs-special">)</span><span>
</span><a name="line-1421"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><a href="#local-1627825376"><span class="hs-identifier hs-var">ppr_maybe_ty</span></a><span>
</span><a name="line-1422"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprGRHSs"><span class="hs-identifier hs-var">pprGRHSs</span></a><span> </span><a href="#local-1627825367"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">m_grhss</span><span> </span><a href="#local-1627825368"><span class="hs-identifier hs-var">match</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1423"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1424"></a><span>    </span><a name="local-1627825369"><a href="#local-1627825369"><span class="hs-identifier">is_infix</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isInfixMatch"><span class="hs-identifier hs-var">isInfixMatch</span></a><span> </span><a href="#local-1627825368"><span class="hs-identifier hs-var">match</span></a><span>
</span><a name="line-1425"></a><span>    </span><span class="hs-special">(</span><a name="local-1627825370"><a href="#local-1627825370"><span class="hs-identifier">herald</span></a></a><span class="hs-special">,</span><span> </span><a name="local-1627825371"><a href="#local-1627825371"><span class="hs-identifier">other_pats</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1426"></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-1627825367"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1427"></a><span>            </span><a href="HsExpr.html#FunRhs"><span class="hs-identifier hs-var">FunRhs</span></a><span> </span><a name="local-1627825377"><a href="#local-1627825377"><span class="hs-identifier">fun</span></a></a><span>
</span><a name="line-1428"></a><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><a href="#local-1627825369"><span class="hs-identifier hs-var">is_infix</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-1627825377"><span class="hs-identifier hs-var">fun</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">m_pats</span><span> </span><a href="#local-1627825368"><span class="hs-identifier hs-var">match</span></a><span class="hs-special">)</span><span>
</span><a name="line-1429"></a><span>                        </span><span class="hs-comment">-- f x y z = e</span><span>
</span><a name="line-1430"></a><span>                        </span><span class="hs-comment">-- Not pprBndr; the AbsBinds will</span><span>
</span><a name="line-1431"></a><span>                        </span><span class="hs-comment">-- have printed the signature</span><span>
</span><a name="line-1432"></a><span>
</span><a name="line-1433"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a><span> </span><a href="#local-1627825375"><span class="hs-identifier hs-var">pats2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-1627825378"><span class="hs-identifier hs-var">pp_infix</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1434"></a><span>                        </span><span class="hs-comment">-- x &amp;&amp;&amp; y = e</span><span>
</span><a name="line-1435"></a><span>
</span><a name="line-1436"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="#local-1627825378"><span class="hs-identifier hs-var">pp_infix</span></a><span class="hs-special">,</span><span> </span><a href="#local-1627825375"><span class="hs-identifier hs-var">pats2</span></a><span class="hs-special">)</span><span>
</span><a name="line-1437"></a><span>                        </span><span class="hs-comment">-- (x &amp;&amp;&amp; y) z = e</span><span>
</span><a name="line-1438"></a><span>                </span><span class="hs-keyword">where</span><span>
</span><a name="line-1439"></a><span>                  </span><a name="local-1627825378"><a href="#local-1627825378"><span class="hs-identifier">pp_infix</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsPat.html#pprParendLPat"><span class="hs-identifier hs-var">pprParendLPat</span></a><span> </span><a href="#local-1627825372"><span class="hs-identifier hs-var">pat1</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-1627825377"><span class="hs-identifier hs-var">fun</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsPat.html#pprParendLPat"><span class="hs-identifier hs-var">pprParendLPat</span></a><span> </span><a href="#local-1627825374"><span class="hs-identifier hs-var">pat2</span></a><span>
</span><a name="line-1440"></a><span>
</span><a name="line-1441"></a><span>            </span><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'\\'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">m_pats</span><span> </span><a href="#local-1627825368"><span class="hs-identifier hs-var">match</span></a><span class="hs-special">)</span><span>
</span><a name="line-1442"></a><span>
</span><a name="line-1443"></a><span>            </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ASSERT</span><span class="hs-special">(</span><span> </span><a href="Util.html#debugIsOn"><span class="hs-identifier hs-var">null</span></a><span> </span><span class="hs-identifier">pats1</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1444"></a><span>                  </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825372"><span class="hs-identifier hs-var">pat1</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- No parens around the single pat</span><span>
</span><a name="line-1445"></a><span>
</span><a name="line-1446"></a><span>    </span><span class="hs-special">(</span><a name="local-1627825372"><a href="#local-1627825372"><span class="hs-identifier">pat1</span></a></a><span class="hs-glyph">:</span><a name="local-1627825373"><a href="#local-1627825373"><span class="hs-identifier">pats1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">m_pats</span><span> </span><a href="#local-1627825368"><span class="hs-identifier hs-var">match</span></a><span>
</span><a name="line-1447"></a><span>    </span><span class="hs-special">(</span><a name="local-1627825374"><a href="#local-1627825374"><span class="hs-identifier">pat2</span></a></a><span class="hs-glyph">:</span><a name="local-1627825375"><a href="#local-1627825375"><span class="hs-identifier">pats2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825373"><span class="hs-identifier hs-var">pats1</span></a><span>
</span><a name="line-1448"></a><span>    </span><a name="local-1627825376"><a href="#local-1627825376"><span class="hs-identifier">ppr_maybe_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">m_type</span><span> </span><a href="#local-1627825368"><span class="hs-identifier hs-var">match</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1449"></a><span>                        </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-1627825379"><a href="#local-1627825379"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825379"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1450"></a><span>                        </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1451"></a><span>
</span><a name="line-1452"></a><span>
</span><a name="line-1453"></a><span class="hs-identifier">pprGRHSs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825117"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825118"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1454"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825119"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a><span> </span><a href="#local-1627825117"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825118"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1455"></a><a name="pprGRHSs"><a href="HsExpr.html#pprGRHSs"><span class="hs-identifier">pprGRHSs</span></a></a><span> </span><a name="local-1627825380"><a href="#local-1627825380"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHSs"><span class="hs-identifier hs-var">GRHSs</span></a><span> </span><a name="local-1627825381"><a href="#local-1627825381"><span class="hs-identifier">grhss</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825382"><a href="#local-1627825382"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1456"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprGRHS"><span class="hs-identifier hs-var">pprGRHS</span></a><span> </span><a href="#local-1627825380"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627825381"><span class="hs-identifier hs-var">grhss</span></a><span class="hs-special">)</span><span>
</span><a name="line-1457"></a><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="Outputable.html#ppUnless"><span class="hs-identifier hs-var">ppUnless</span></a><span> </span><span class="hs-special">(</span><a href="HsBinds.html#isEmptyLocalBinds"><span class="hs-identifier hs-var">isEmptyLocalBinds</span></a><span> </span><a href="#local-1627825382"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">)</span><span>
</span><a name="line-1458"></a><span>      </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;where&quot;</span><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprBinds"><span class="hs-identifier hs-var">pprBinds</span></a><span> </span><a href="#local-1627825382"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1459"></a><span>
</span><a name="line-1460"></a><span class="hs-identifier">pprGRHS</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825114"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825115"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1461"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825116"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a><span> </span><a href="#local-1627825114"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825115"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1462"></a><a name="pprGRHS"><a href="HsExpr.html#pprGRHS"><span class="hs-identifier">pprGRHS</span></a></a><span> </span><a name="local-1627825383"><a href="#local-1627825383"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHS"><span class="hs-identifier hs-var">GRHS</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><a name="local-1627825384"><a href="#local-1627825384"><span class="hs-identifier">body</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1463"></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="HsExpr.html#pp_rhs"><span class="hs-identifier hs-var">pp_rhs</span></a><span> </span><a href="#local-1627825383"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="#local-1627825384"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-1464"></a><span>
</span><a name="line-1465"></a><span class="hs-identifier">pprGRHS</span><span> </span><a name="local-1627825385"><a href="#local-1627825385"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#GRHS"><span class="hs-identifier hs-var">GRHS</span></a><span> </span><a name="local-1627825386"><a href="#local-1627825386"><span class="hs-identifier">guards</span></a></a><span> </span><a name="local-1627825387"><a href="#local-1627825387"><span class="hs-identifier">body</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1466"></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#vbar"><span class="hs-identifier hs-var">vbar</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-1627825386"><span class="hs-identifier hs-var">guards</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pp_rhs"><span class="hs-identifier hs-var">pp_rhs</span></a><span> </span><a href="#local-1627825385"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="#local-1627825387"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">]</span><span>
</span><a name="line-1467"></a><span>
</span><a name="line-1468"></a><span class="hs-identifier">pp_rhs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825112"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825113"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825112"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1469"></a><a name="pp_rhs"><a href="HsExpr.html#pp_rhs"><span class="hs-identifier">pp_rhs</span></a></a><span> </span><a name="local-1627825388"><a href="#local-1627825388"><span class="hs-identifier">ctxt</span></a></a><span> </span><a name="local-1627825389"><a href="#local-1627825389"><span class="hs-identifier">rhs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#matchSeparator"><span class="hs-identifier hs-var">matchSeparator</span></a><span> </span><a href="#local-1627825388"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#pprDeeper"><span class="hs-identifier hs-var">pprDeeper</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825389"><span class="hs-identifier hs-var">rhs</span></a><span class="hs-special">)</span><span>
</span><a name="line-1470"></a><span>
</span><a name="line-1471"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Do stmts and list comprehensions}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1478"></a><span>
</span><a name="line-1479"></a><span class="hs-keyword">type</span><span> </span><a name="LStmt"><a href="HsExpr.html#LStmt"><span class="hs-identifier">LStmt</span></a></a><span> </span><a name="local-1627825049"><a href="#local-1627825049"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825050"><a href="#local-1627825050"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825049"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825049"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825050"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1480"></a><span class="hs-keyword">type</span><span> </span><a name="LStmtLR"><a href="HsExpr.html#LStmtLR"><span class="hs-identifier">LStmtLR</span></a></a><span> </span><a name="local-1627825046"><a href="#local-1627825046"><span class="hs-identifier">idL</span></a></a><span> </span><a name="local-1627825047"><a href="#local-1627825047"><span class="hs-identifier">idR</span></a></a><span> </span><a name="local-1627825048"><a href="#local-1627825048"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825046"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825047"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825048"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1481"></a><span>
</span><a name="line-1482"></a><span class="hs-keyword">type</span><span> </span><a name="Stmt"><a href="HsExpr.html#Stmt"><span class="hs-identifier">Stmt</span></a></a><span> </span><a name="local-1627825044"><a href="#local-1627825044"><span class="hs-identifier">id</span></a></a><span> </span><a name="local-1627825045"><a href="#local-1627825045"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825044"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825044"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825045"><span class="hs-identifier hs-type">body</span></a><span>
</span><a name="line-1483"></a><span>
</span><a name="line-1484"></a><span class="hs-keyword">type</span><span> </span><a name="CmdLStmt"><a href="HsExpr.html#CmdLStmt"><span class="hs-identifier">CmdLStmt</span></a></a><span>   </span><a name="local-1627825043"><a href="#local-1627825043"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825043"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span>  </span><a href="#local-1627825043"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1485"></a><span class="hs-keyword">type</span><span> </span><a name="CmdStmt"><a href="HsExpr.html#CmdStmt"><span class="hs-identifier">CmdStmt</span></a></a><span>    </span><a name="local-1627825042"><a href="#local-1627825042"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a><span>  </span><a href="#local-1627825042"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a><span>  </span><a href="#local-1627825042"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1486"></a><span class="hs-keyword">type</span><span> </span><a name="ExprLStmt"><a href="HsExpr.html#ExprLStmt"><span class="hs-identifier">ExprLStmt</span></a></a><span>  </span><a name="local-1627825041"><a href="#local-1627825041"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825041"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825041"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1487"></a><span class="hs-keyword">type</span><span> </span><a name="ExprStmt"><a href="HsExpr.html#ExprStmt"><span class="hs-identifier">ExprStmt</span></a></a><span>   </span><a name="local-1627825040"><a href="#local-1627825040"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a><span>  </span><a href="#local-1627825040"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825040"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1488"></a><span>
</span><a name="line-1489"></a><span class="hs-keyword">type</span><span> </span><a name="GuardLStmt"><a href="HsExpr.html#GuardLStmt"><span class="hs-identifier">GuardLStmt</span></a></a><span> </span><a name="local-1627825039"><a href="#local-1627825039"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825039"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825039"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1490"></a><span class="hs-keyword">type</span><span> </span><a name="GuardStmt"><a href="HsExpr.html#GuardStmt"><span class="hs-identifier">GuardStmt</span></a></a><span>  </span><a name="local-1627825038"><a href="#local-1627825038"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a><span>  </span><a href="#local-1627825038"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825038"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1491"></a><span class="hs-keyword">type</span><span> </span><a name="GhciLStmt"><a href="HsExpr.html#GhciLStmt"><span class="hs-identifier">GhciLStmt</span></a></a><span>  </span><a name="local-1627825037"><a href="#local-1627825037"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825037"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825037"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1492"></a><span class="hs-keyword">type</span><span> </span><a name="GhciStmt"><a href="HsExpr.html#GhciStmt"><span class="hs-identifier">GhciStmt</span></a></a><span>   </span><a name="local-1627825036"><a href="#local-1627825036"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a><span>  </span><a href="#local-1627825036"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825036"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1493"></a><span>
</span><a name="line-1494"></a><span class="hs-comment">-- The SyntaxExprs in here are used *only* for do-notation and monad</span><span>
</span><a name="line-1495"></a><span class="hs-comment">-- comprehensions, which have rebindable syntax. Otherwise they are unused.</span><span>
</span><a name="line-1496"></a><span class="hs-comment">-- | API Annotations when in qualifier lists or guards</span><span>
</span><a name="line-1497"></a><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnVbar',</span><span>
</span><a name="line-1498"></a><span class="hs-comment">--         'ApiAnnotation.AnnComma','ApiAnnotation.AnnThen',</span><span>
</span><a name="line-1499"></a><span class="hs-comment">--         'ApiAnnotation.AnnBy','ApiAnnotation.AnnBy',</span><span>
</span><a name="line-1500"></a><span class="hs-comment">--         'ApiAnnotation.AnnGroup','ApiAnnotation.AnnUsing'</span><span>
</span><a name="line-1501"></a><span>
</span><a name="line-1502"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1503"></a><span class="hs-keyword">data</span><span> </span><a name="StmtLR"><a href="HsExpr.html#StmtLR"><span class="hs-identifier">StmtLR</span></a></a><span> </span><a name="local-1627825033"><a href="#local-1627825033"><span class="hs-identifier">idL</span></a></a><span> </span><a name="local-1627825034"><a href="#local-1627825034"><span class="hs-identifier">idR</span></a></a><span> </span><a name="local-1627825035"><a href="#local-1627825035"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-comment">-- body should always be (LHs**** idR)</span><span>
</span><a name="line-1504"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="LastStmt"><a href="HsExpr.html#LastStmt"><span class="hs-identifier">LastStmt</span></a></a><span>  </span><span class="hs-comment">-- Always the last Stmt in ListComp, MonadComp, PArrComp,</span><span>
</span><a name="line-1505"></a><span>              </span><span class="hs-comment">-- and (after the renamer) DoExpr, MDoExpr</span><span>
</span><a name="line-1506"></a><span>              </span><span class="hs-comment">-- Not used for GhciStmtCtxt, PatGuard, which scope over other stuff</span><span>
</span><a name="line-1507"></a><span>          </span><a href="#local-1627825035"><span class="hs-identifier hs-type">body</span></a><span>
</span><a name="line-1508"></a><span>          </span><span class="hs-identifier hs-type">Bool</span><span>               </span><span class="hs-comment">-- True &lt;=&gt; return was stripped by ApplicativeDo</span><span>
</span><a name="line-1509"></a><span>          </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- The return operator, used only for</span><span>
</span><a name="line-1510"></a><span>                             </span><span class="hs-comment">-- MonadComp For ListComp, PArrComp, we</span><span>
</span><a name="line-1511"></a><span>                             </span><span class="hs-comment">-- use the baked-in 'return' For DoExpr,</span><span>
</span><a name="line-1512"></a><span>                             </span><span class="hs-comment">-- MDoExpr, we don't apply a 'return' at</span><span>
</span><a name="line-1513"></a><span>                             </span><span class="hs-comment">-- all See Note [Monad Comprehensions] |</span><span>
</span><a name="line-1514"></a><span>                             </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-1515"></a><span>                             </span><span class="hs-comment">-- 'ApiAnnotation.AnnLarrow'</span><span>
</span><a name="line-1516"></a><span>
</span><a name="line-1517"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1518"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="BindStmt"><a href="HsExpr.html#BindStmt"><span class="hs-identifier">BindStmt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825033"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>
</span><a name="line-1519"></a><span>             </span><a href="#local-1627825035"><span class="hs-identifier hs-type">body</span></a><span>
</span><a name="line-1520"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- The (&gt;&gt;=) operator; see Note [The type of bind in Stmts]</span><span>
</span><a name="line-1521"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- The fail operator</span><span>
</span><a name="line-1522"></a><span>             </span><span class="hs-comment">-- The fail operator is noSyntaxExpr</span><span>
</span><a name="line-1523"></a><span>             </span><span class="hs-comment">-- if the pattern match can't fail</span><span>
</span><a name="line-1524"></a><span>
</span><a name="line-1525"></a><span>             </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- result type of the function passed to bind;</span><span>
</span><a name="line-1526"></a><span>                                </span><span class="hs-comment">-- that is, S in (&gt;&gt;=) :: Q -&gt; (R -&gt; S) -&gt; T</span><span>
</span><a name="line-1527"></a><span>
</span><a name="line-1528"></a><span>  </span><span class="hs-comment">-- | 'ApplicativeStmt' represents an applicative expression built with</span><span>
</span><a name="line-1529"></a><span>  </span><span class="hs-comment">-- &lt;$&gt; and &lt;*&gt;.  It is generated by the renamer, and is desugared into the</span><span>
</span><a name="line-1530"></a><span>  </span><span class="hs-comment">-- appropriate applicative expression by the desugarer, but it is intended</span><span>
</span><a name="line-1531"></a><span>  </span><span class="hs-comment">-- to be invisible in error messages.</span><span>
</span><a name="line-1532"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-1533"></a><span>  </span><span class="hs-comment">-- For full details, see Note [ApplicativeDo] in RnExpr</span><span>
</span><a name="line-1534"></a><span>  </span><span class="hs-comment">--</span><span>
</span><a name="line-1535"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ApplicativeStmt"><a href="HsExpr.html#ApplicativeStmt"><span class="hs-identifier">ApplicativeStmt</span></a></a><span>
</span><a name="line-1536"></a><span>             </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span>
</span><a name="line-1537"></a><span>               </span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ApplicativeArg"><span class="hs-identifier hs-type">ApplicativeArg</span></a><span> </span><a href="#local-1627825033"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1538"></a><span>                      </span><span class="hs-comment">-- [(&lt;$&gt;, e1), (&lt;*&gt;, e2), ..., (&lt;*&gt;, en)]</span><span>
</span><a name="line-1539"></a><span>             </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- 'join', if necessary</span><span>
</span><a name="line-1540"></a><span>             </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- Type of the body</span><span>
</span><a name="line-1541"></a><span>
</span><a name="line-1542"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="BodyStmt"><a href="HsExpr.html#BodyStmt"><span class="hs-identifier">BodyStmt</span></a></a><span> </span><a href="#local-1627825035"><span class="hs-identifier hs-type">body</span></a><span>              </span><span class="hs-comment">-- See Note [BodyStmt]</span><span>
</span><a name="line-1543"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- The (&gt;&gt;) operator</span><span>
</span><a name="line-1544"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- The `guard` operator; used only in MonadComp</span><span>
</span><a name="line-1545"></a><span>                               </span><span class="hs-comment">-- See notes [Monad Comprehensions]</span><span>
</span><a name="line-1546"></a><span>             </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Element type of the RHS (used for arrows)</span><span>
</span><a name="line-1547"></a><span>
</span><a name="line-1548"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnLet'</span><span>
</span><a name="line-1549"></a><span>  </span><span class="hs-comment">--          'ApiAnnotation.AnnOpen' @'{'@,'ApiAnnotation.AnnClose' @'}'@,</span><span>
</span><a name="line-1550"></a><span>
</span><a name="line-1551"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1552"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="LetStmt"><a href="HsExpr.html#LetStmt"><span class="hs-identifier">LetStmt</span></a></a><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsBinds.html#HsLocalBindsLR"><span class="hs-identifier hs-type">HsLocalBindsLR</span></a><span> </span><a href="#local-1627825033"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1553"></a><span>
</span><a name="line-1554"></a><span>  </span><span class="hs-comment">-- ParStmts only occur in a list/monad comprehension</span><span>
</span><a name="line-1555"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ParStmt"><a href="HsExpr.html#ParStmt"><span class="hs-identifier">ParStmt</span></a></a><span>  </span><span class="hs-special">[</span><a href="HsExpr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a><span> </span><a href="#local-1627825033"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">]</span><span>
</span><a name="line-1556"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>               </span><span class="hs-comment">-- Polymorphic `mzip` for monad comprehensions</span><span>
</span><a name="line-1557"></a><span>             </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- The `&gt;&gt;=` operator</span><span>
</span><a name="line-1558"></a><span>                                        </span><span class="hs-comment">-- See notes [Monad Comprehensions]</span><span>
</span><a name="line-1559"></a><span>             </span><span class="hs-special">(</span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- S in (&gt;&gt;=) :: Q -&gt; (R -&gt; S) -&gt; T</span><span>
</span><a name="line-1560"></a><span>            </span><span class="hs-comment">-- After renaming, the ids are the binders</span><span>
</span><a name="line-1561"></a><span>            </span><span class="hs-comment">-- bound by the stmts and used after themp</span><span>
</span><a name="line-1562"></a><span>
</span><a name="line-1563"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="TransStmt"><a href="HsExpr.html#TransStmt"><span class="hs-identifier">TransStmt</span></a></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-1564"></a><span>      </span><a name="trS_form"><a href="HsExpr.html#trS_form"><span class="hs-identifier">trS_form</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#TransForm"><span class="hs-identifier hs-type">TransForm</span></a><span class="hs-special">,</span><span>
</span><a name="line-1565"></a><span>      </span><a name="trS_stmts"><a href="HsExpr.html#trS_stmts"><span class="hs-identifier">trS_stmts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a><span> </span><a href="#local-1627825033"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- Stmts to the *left* of the 'group'</span><span>
</span><a name="line-1566"></a><span>                                      </span><span class="hs-comment">-- which generates the tuples to be grouped</span><span>
</span><a name="line-1567"></a><span>
</span><a name="line-1568"></a><span>      </span><a name="trS_bndrs"><a href="HsExpr.html#trS_bndrs"><span class="hs-identifier">trS_bndrs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- See Note [TransStmt binder map]</span><span>
</span><a name="line-1569"></a><span>
</span><a name="line-1570"></a><span>      </span><a name="trS_using"><a href="HsExpr.html#trS_using"><span class="hs-identifier">trS_using</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span>
</span><a name="line-1571"></a><span>      </span><a name="trS_by"><a href="HsExpr.html#trS_by"><span class="hs-identifier">trS_by</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- &quot;by e&quot; (optional)</span><span>
</span><a name="line-1572"></a><span>        </span><span class="hs-comment">-- Invariant: if trS_form = GroupBy, then grp_by = Just e</span><span>
</span><a name="line-1573"></a><span>
</span><a name="line-1574"></a><span>      </span><a name="trS_ret"><a href="HsExpr.html#trS_ret"><span class="hs-identifier">trS_ret</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- The monomorphic 'return' function for</span><span>
</span><a name="line-1575"></a><span>                                      </span><span class="hs-comment">-- the inner monad comprehensions</span><span>
</span><a name="line-1576"></a><span>      </span><a name="trS_bind"><a href="HsExpr.html#trS_bind"><span class="hs-identifier">trS_bind</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span>     </span><span class="hs-comment">-- The '(&gt;&gt;=)' operator</span><span>
</span><a name="line-1577"></a><span>      </span><a name="trS_bind_arg_ty"><a href="HsExpr.html#trS_bind_arg_ty"><span class="hs-identifier">trS_bind_arg_ty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- R in (&gt;&gt;=) :: Q -&gt; (R -&gt; S) -&gt; T</span><span>
</span><a name="line-1578"></a><span>      </span><a name="trS_fmap"><a href="HsExpr.html#trS_fmap"><span class="hs-identifier">trS_fmap</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span>          </span><span class="hs-comment">-- The polymorphic 'fmap' function for desugaring</span><span>
</span><a name="line-1579"></a><span>                                      </span><span class="hs-comment">-- Only for 'group' forms</span><span>
</span><a name="line-1580"></a><span>                                      </span><span class="hs-comment">-- Just a simple HsExpr, because it's</span><span>
</span><a name="line-1581"></a><span>                                      </span><span class="hs-comment">-- too polymorphic for tcSyntaxOp</span><span>
</span><a name="line-1582"></a><span>    </span><span class="hs-special">}</span><span>                                 </span><span class="hs-comment">-- See Note [Monad Comprehensions]</span><span>
</span><a name="line-1583"></a><span>
</span><a name="line-1584"></a><span>  </span><span class="hs-comment">-- Recursive statement (see Note [How RecStmt works] below)</span><span>
</span><a name="line-1585"></a><span>  </span><span class="hs-comment">-- | - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnRec'</span><span>
</span><a name="line-1586"></a><span>
</span><a name="line-1587"></a><span>  </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-1588"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RecStmt"><a href="HsExpr.html#RecStmt"><span class="hs-identifier">RecStmt</span></a></a><span>
</span><a name="line-1589"></a><span>     </span><span class="hs-special">{</span><span> </span><a name="recS_stmts"><a href="HsExpr.html#recS_stmts"><span class="hs-identifier">recS_stmts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LStmtLR"><span class="hs-identifier hs-type">LStmtLR</span></a><span> </span><a href="#local-1627825033"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825035"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span>
</span><a name="line-1590"></a><span>
</span><a name="line-1591"></a><span>        </span><span class="hs-comment">-- The next two fields are only valid after renaming</span><span>
</span><a name="line-1592"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_later_ids"><a href="HsExpr.html#recS_later_ids"><span class="hs-identifier">recS_later_ids</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- The ids are a subset of the variables bound by the</span><span>
</span><a name="line-1593"></a><span>                               </span><span class="hs-comment">-- stmts that are used in stmts that follow the RecStmt</span><span>
</span><a name="line-1594"></a><span>
</span><a name="line-1595"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_rec_ids"><a href="HsExpr.html#recS_rec_ids"><span class="hs-identifier">recS_rec_ids</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- Ditto, but these variables are the &quot;recursive&quot; ones,</span><span>
</span><a name="line-1596"></a><span>                               </span><span class="hs-comment">-- that are used before they are bound in the stmts of</span><span>
</span><a name="line-1597"></a><span>                               </span><span class="hs-comment">-- the RecStmt.</span><span>
</span><a name="line-1598"></a><span>        </span><span class="hs-comment">-- An Id can be in both groups</span><span>
</span><a name="line-1599"></a><span>        </span><span class="hs-comment">-- Both sets of Ids are (now) treated monomorphically</span><span>
</span><a name="line-1600"></a><span>        </span><span class="hs-comment">-- See Note [How RecStmt works] for why they are separate</span><span>
</span><a name="line-1601"></a><span>
</span><a name="line-1602"></a><span>        </span><span class="hs-comment">-- Rebindable syntax</span><span>
</span><a name="line-1603"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_bind_fn"><a href="HsExpr.html#recS_bind_fn"><span class="hs-identifier">recS_bind_fn</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><span class="hs-comment">-- The bind function</span><span>
</span><a name="line-1604"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_ret_fn"><a href="HsExpr.html#recS_ret_fn"><span class="hs-identifier">recS_ret_fn</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><span class="hs-comment">-- The return function</span><span>
</span><a name="line-1605"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_mfix_fn"><a href="HsExpr.html#recS_mfix_fn"><span class="hs-identifier">recS_mfix_fn</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><span class="hs-comment">-- The mfix function</span><span>
</span><a name="line-1606"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_bind_ty"><a href="HsExpr.html#recS_bind_ty"><span class="hs-identifier">recS_bind_ty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span>  </span><span class="hs-comment">-- S in (&gt;&gt;=) :: Q -&gt; (R -&gt; S) -&gt; T</span><span>
</span><a name="line-1607"></a><span>
</span><a name="line-1608"></a><span>        </span><span class="hs-comment">-- These fields are only valid after typechecking</span><span>
</span><a name="line-1609"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_later_rets"><a href="HsExpr.html#recS_later_rets"><span class="hs-identifier">recS_later_rets</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- (only used in the arrow version)</span><span>
</span><a name="line-1610"></a><span>     </span><span class="hs-special">,</span><span> </span><a name="recS_rec_rets"><a href="HsExpr.html#recS_rec_rets"><span class="hs-identifier">recS_rec_rets</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#PostTcExpr"><span class="hs-identifier hs-type">PostTcExpr</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- These expressions correspond 1-to-1</span><span>
</span><a name="line-1611"></a><span>                                     </span><span class="hs-comment">-- with recS_later_ids and recS_rec_ids,</span><span>
</span><a name="line-1612"></a><span>                                     </span><span class="hs-comment">-- and are the expressions that should be</span><span>
</span><a name="line-1613"></a><span>                                     </span><span class="hs-comment">-- returned by the recursion.</span><span>
</span><a name="line-1614"></a><span>                                     </span><span class="hs-comment">-- They may not quite be the Ids themselves,</span><span>
</span><a name="line-1615"></a><span>                                     </span><span class="hs-comment">-- because the Id may be *polymorphic*, but</span><span>
</span><a name="line-1616"></a><span>                                     </span><span class="hs-comment">-- the returned thing has to be *monomorphic*,</span><span>
</span><a name="line-1617"></a><span>                                     </span><span class="hs-comment">-- so they may be type applications</span><span>
</span><a name="line-1618"></a><span>
</span><a name="line-1619"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="recS_ret_ty"><a href="HsExpr.html#recS_ret_ty"><span class="hs-identifier">recS_ret_ty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="PlaceHolder.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-1627825034"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-comment">-- The type of</span><span>
</span><a name="line-1620"></a><span>                                       </span><span class="hs-comment">-- do { stmts; return (a,b,c) }</span><span>
</span><a name="line-1621"></a><span>                                   </span><span class="hs-comment">-- With rebindable syntax the type might not</span><span>
</span><a name="line-1622"></a><span>                                   </span><span class="hs-comment">-- be quite as simple as (m (tya, tyb, tyc)).</span><span>
</span><a name="line-1623"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-1624"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1625"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-1627825540"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">,</span><span> </span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825541"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825542"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>
</span><a name="line-1626"></a><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825541"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825542"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825540"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1627"></a><span>
</span><a name="line-1628"></a><span class="hs-keyword">data</span><span> </span><a name="TransForm"><a href="HsExpr.html#TransForm"><span class="hs-identifier">TransForm</span></a></a><span>   </span><span class="hs-comment">-- The 'f' below is the 'using' function, 'e' is the by function</span><span>
</span><a name="line-1629"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ThenForm"><a href="HsExpr.html#ThenForm"><span class="hs-identifier">ThenForm</span></a></a><span>     </span><span class="hs-comment">-- then f               or    then f by e             (depending on trS_by)</span><span>
</span><a name="line-1630"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="GroupForm"><a href="HsExpr.html#GroupForm"><span class="hs-identifier">GroupForm</span></a></a><span>    </span><span class="hs-comment">-- then group using f   or    then group by e using f (depending on trS_by)</span><span>
</span><a name="line-1631"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1632"></a><span>
</span><a name="line-1633"></a><span class="hs-keyword">data</span><span> </span><a name="ParStmtBlock"><a href="HsExpr.html#ParStmtBlock"><span class="hs-identifier">ParStmtBlock</span></a></a><span> </span><a name="local-1627825031"><a href="#local-1627825031"><span class="hs-identifier">idL</span></a></a><span> </span><a name="local-1627825032"><a href="#local-1627825032"><span class="hs-identifier">idR</span></a></a><span>
</span><a name="line-1634"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ParStmtBlock"><a href="HsExpr.html#ParStmtBlock"><span class="hs-identifier">ParStmtBlock</span></a></a><span>
</span><a name="line-1635"></a><span>        </span><span class="hs-special">[</span><a href="HsExpr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a><span> </span><a href="#local-1627825031"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">]</span><span>
</span><a name="line-1636"></a><span>        </span><span class="hs-special">[</span><a href="#local-1627825032"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">]</span><span>              </span><span class="hs-comment">-- The variables to be returned</span><span>
</span><a name="line-1637"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a><span> </span><a href="#local-1627825032"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- The return operator</span><span>
</span><a name="line-1638"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1639"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825538"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825539"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a><span> </span><a href="#local-1627825538"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825539"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>
</span><a name="line-1640"></a><span>
</span><a name="line-1641"></a><span class="hs-keyword">data</span><span> </span><a name="ApplicativeArg"><a href="HsExpr.html#ApplicativeArg"><span class="hs-identifier">ApplicativeArg</span></a></a><span> </span><a name="local-1627825029"><a href="#local-1627825029"><span class="hs-identifier">idL</span></a></a><span> </span><a name="local-1627825030"><a href="#local-1627825030"><span class="hs-identifier">idR</span></a></a><span>
</span><a name="line-1642"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ApplicativeArgOne"><a href="HsExpr.html#ApplicativeArgOne"><span class="hs-identifier">ApplicativeArgOne</span></a></a><span>            </span><span class="hs-comment">-- pat &lt;- expr (pat must be irrefutable)</span><span>
</span><a name="line-1643"></a><span>      </span><span class="hs-special">(</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825029"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>
</span><a name="line-1644"></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825029"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>
</span><a name="line-1645"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ApplicativeArgMany"><a href="HsExpr.html#ApplicativeArgMany"><span class="hs-identifier">ApplicativeArgMany</span></a></a><span>           </span><span class="hs-comment">-- do { stmts; return vars }</span><span>
</span><a name="line-1646"></a><span>      </span><span class="hs-special">[</span><a href="HsExpr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a><span> </span><a href="#local-1627825029"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">]</span><span>            </span><span class="hs-comment">-- stmts</span><span>
</span><a name="line-1647"></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a><span> </span><a href="#local-1627825029"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>               </span><span class="hs-comment">-- return (v1,..,vn), or just (v1,..,vn)</span><span>
</span><a name="line-1648"></a><span>      </span><span class="hs-special">(</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825029"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>                 </span><span class="hs-comment">-- (v1,...,vn)</span><span>
</span><a name="line-1649"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1650"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825536"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825537"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ApplicativeArg"><span class="hs-identifier hs-type">ApplicativeArg</span></a><span> </span><a href="#local-1627825536"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825537"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span>
</span><a name="line-1651"></a><span>
</span><a name="line-1652"></a><span class="hs-comment">{-
Note [The type of bind in Stmts]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Some Stmts, notably BindStmt, keep the (&gt;&gt;=) bind operator.
We do NOT assume that it has type
    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b
In some cases (see Trac #303, #1537) it might have a more
exotic type, such as
    (&gt;&gt;=) :: m i j a -&gt; (a -&gt; m j k b) -&gt; m i k b
So we must be careful not to make assumptions about the type.
In particular, the monad may not be uniform throughout.

Note [TransStmt binder map]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
The [(idR,idR)] in a TransStmt behaves as follows:

  * Before renaming: []

  * After renaming:
          [ (x27,x27), ..., (z35,z35) ]
    These are the variables
       bound by the stmts to the left of the 'group'
       and used either in the 'by' clause,
                or     in the stmts following the 'group'
    Each item is a pair of identical variables.

  * After typechecking:
          [ (x27:Int, x27:[Int]), ..., (z35:Bool, z35:[Bool]) ]
    Each pair has the same unique, but different *types*.

Note [BodyStmt]
~~~~~~~~~~~~~~~
BodyStmts are a bit tricky, because what they mean
depends on the context.  Consider the following contexts:

        A do expression of type (m res_ty)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        * BodyStmt E any_ty:   do { ....; E; ... }
                E :: m any_ty
          Translation: E &gt;&gt; ...

        A list comprehensions of type [elt_ty]
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        * BodyStmt E Bool:   [ .. | .... E ]
                        [ .. | ..., E, ... ]
                        [ .. | .... | ..., E | ... ]
                E :: Bool
          Translation: if E then fail else ...

        A guard list, guarding a RHS of type rhs_ty
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        * BodyStmt E BooParStmtBlockl:   f x | ..., E, ... = ...rhs...
                E :: Bool
          Translation: if E then fail else ...

        A monad comprehension of type (m res_ty)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        * BodyStmt E Bool:   [ .. | .... E ]
                E :: Bool
          Translation: guard E &gt;&gt; ...

Array comprehensions are handled like list comprehensions.

Note [How RecStmt works]
~~~~~~~~~~~~~~~~~~~~~~~~
Example:
   HsDo [ BindStmt x ex

        , RecStmt { recS_rec_ids   = [a, c]
                  , recS_stmts     = [ BindStmt b (return (a,c))
                                     , LetStmt a = ...b...
                                     , BindStmt c ec ]
                  , recS_later_ids = [a, b]

        , return (a b) ]

Here, the RecStmt binds a,b,c; but
  - Only a,b are used in the stmts *following* the RecStmt,
  - Only a,c are used in the stmts *inside* the RecStmt
        *before* their bindings

Why do we need *both* rec_ids and later_ids?  For monads they could be
combined into a single set of variables, but not for arrows.  That
follows from the types of the respective feedback operators:

        mfix :: MonadFix m =&gt; (a -&gt; m a) -&gt; m a
        loop :: ArrowLoop a =&gt; a (b,d) (c,d) -&gt; a b c

* For mfix, the 'a' covers the union of the later_ids and the rec_ids
* For 'loop', 'c' is the later_ids and 'd' is the rec_ids

Note [Typing a RecStmt]
~~~~~~~~~~~~~~~~~~~~~~~
A (RecStmt stmts) types as if you had written

  (v1,..,vn, _, ..., _) &lt;- mfix (\~(_, ..., _, r1, ..., rm) -&gt;
                                 do { stmts
                                    ; return (v1,..vn, r1, ..., rm) })

where v1..vn are the later_ids
      r1..rm are the rec_ids

Note [Monad Comprehensions]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Monad comprehensions require separate functions like 'return' and
'&gt;&gt;=' for desugaring. These functions are stored in the statements
used in monad comprehensions. For example, the 'return' of the 'LastStmt'
expression is used to lift the body of the monad comprehension:

  [ body | stmts ]
   =&gt;
  stmts &gt;&gt;= \bndrs -&gt; return body

In transform and grouping statements ('then ..' and 'then group ..') the
'return' function is required for nested monad comprehensions, for example:

  [ body | stmts, then f, rest ]
   =&gt;
  f [ env | stmts ] &gt;&gt;= \bndrs -&gt; [ body | rest ]

BodyStmts require the 'Control.Monad.guard' function for boolean
expressions:

  [ body | exp, stmts ]
   =&gt;
  guard exp &gt;&gt; [ body | stmts ]

Parallel statements require the 'Control.Monad.Zip.mzip' function:

  [ body | stmts1 | stmts2 | .. ]
   =&gt;
  mzip stmts1 (mzip stmts2 (..)) &gt;&gt;= \(bndrs1, (bndrs2, ..)) -&gt; return body

In any other context than 'MonadComp', the fields for most of these
'SyntaxExpr's stay bottom.
-}</span><span>
</span><a name="line-1788"></a><span>
</span><a name="line-1789"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825519"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>
</span><a name="line-1790"></a><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a><span> </span><a href="#local-1627825519"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825520"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1791"></a><span>  </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtBlock"><span class="hs-identifier hs-var">ParStmtBlock</span></a><span> </span><a name="local-1627825521"><a href="#local-1627825521"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-1627825521"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1792"></a><span>
</span><a name="line-1793"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825515"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825516"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825517"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1794"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825515"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825516"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825517"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1795"></a><span>    </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-1627825518"><a href="#local-1627825518"><span class="hs-identifier">stmt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprStmt"><span class="hs-identifier hs-var">pprStmt</span></a><span> </span><a href="#local-1627825518"><span class="hs-identifier hs-var">stmt</span></a><span>
</span><a name="line-1796"></a><span>
</span><a name="line-1797"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-1627825109"><a href="#local-1627825109"><span class="hs-identifier">idL</span></a></a><span> </span><a name="local-1627825110"><a href="#local-1627825110"><span class="hs-identifier">idR</span></a></a><span> </span><a name="local-1627825111"><a href="#local-1627825111"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825109"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825110"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825111"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1798"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825109"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825110"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825111"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1799"></a><a name="pprStmt"><a href="HsExpr.html#pprStmt"><span class="hs-identifier">pprStmt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LastStmt"><span class="hs-identifier hs-var">LastStmt</span></a><span> </span><a name="local-1627825390"><a href="#local-1627825390"><span class="hs-identifier">expr</span></a></a><span> </span><a name="local-1627825391"><a href="#local-1627825391"><span class="hs-identifier">ret_stripped</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1800"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ifPprDebug"><span class="hs-identifier hs-var">ifPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[last]&quot;</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1801"></a><span>       </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><a href="#local-1627825391"><span class="hs-identifier hs-var">ret_stripped</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;return&quot;</span><span> </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1802"></a><span>       </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825390"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-1803"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#BindStmt"><span class="hs-identifier hs-var">BindStmt</span></a><span> </span><a name="local-1627825392"><a href="#local-1627825392"><span class="hs-identifier">pat</span></a></a><span> </span><a name="local-1627825393"><a href="#local-1627825393"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825392"><span class="hs-identifier hs-var">pat</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#larrow"><span class="hs-identifier hs-var">larrow</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825393"><span class="hs-identifier hs-var">expr</span></a><span class="hs-special">]</span><span>
</span><a name="line-1804"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LetStmt"><span class="hs-identifier hs-var">LetStmt</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825394"><a href="#local-1627825394"><span class="hs-identifier">binds</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;let&quot;</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprBinds"><span class="hs-identifier hs-var">pprBinds</span></a><span> </span><a href="#local-1627825394"><span class="hs-identifier hs-var">binds</span></a><span class="hs-special">]</span><span>
</span><a name="line-1805"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#BodyStmt"><span class="hs-identifier hs-var">BodyStmt</span></a><span> </span><a name="local-1627825395"><a href="#local-1627825395"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825395"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-1806"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmt"><span class="hs-identifier hs-var">ParStmt</span></a><span> </span><a name="local-1627825396"><a href="#local-1627825396"><span class="hs-identifier">stmtss</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot; | &quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825396"><span class="hs-identifier hs-var">stmtss</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1807"></a><span>
</span><a name="line-1808"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TransStmt"><span class="hs-identifier hs-var">TransStmt</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">trS_stmts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825397"><a href="#local-1627825397"><span class="hs-identifier">stmts</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">trS_by</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825398"><a href="#local-1627825398"><span class="hs-identifier">by</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">trS_using</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825399"><a href="#local-1627825399"><span class="hs-identifier">using</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">trS_form</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825400"><a href="#local-1627825400"><span class="hs-identifier">form</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1809"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825397"><span class="hs-identifier hs-var">stmts</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><span class="hs-special">[</span><a href="HsExpr.html#pprTransStmt"><span class="hs-identifier hs-var">pprTransStmt</span></a><span> </span><a href="#local-1627825398"><span class="hs-identifier hs-var">by</span></a><span> </span><a href="#local-1627825399"><span class="hs-identifier hs-var">using</span></a><span> </span><a href="#local-1627825400"><span class="hs-identifier hs-var">form</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1810"></a><span>
</span><a name="line-1811"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#RecStmt"><span class="hs-identifier hs-var">RecStmt</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">recS_stmts</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825401"><a href="#local-1627825401"><span class="hs-identifier">segment</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">recS_rec_ids</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825402"><a href="#local-1627825402"><span class="hs-identifier">rec_ids</span></a></a><span>
</span><a name="line-1812"></a><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">recS_later_ids</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825403"><a href="#local-1627825403"><span class="hs-identifier">later_ids</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1813"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;rec&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1814"></a><span>    </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="HsExpr.html#ppr_do_stmts"><span class="hs-identifier hs-var">ppr_do_stmts</span></a><span> </span><a href="#local-1627825401"><span class="hs-identifier hs-var">segment</span></a><span>
</span><a name="line-1815"></a><span>         </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#ifPprDebug"><span class="hs-identifier hs-var">ifPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;rec_ids=&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825402"><span class="hs-identifier hs-var">rec_ids</span></a><span>
</span><a name="line-1816"></a><span>                            </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;later_ids=&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825403"><span class="hs-identifier hs-var">later_ids</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1817"></a><span>
</span><a name="line-1818"></a><span class="hs-identifier">pprStmt</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ApplicativeStmt"><span class="hs-identifier hs-var">ApplicativeStmt</span></a><span> </span><a name="local-1627825404"><a href="#local-1627825404"><span class="hs-identifier">args</span></a></a><span> </span><a name="local-1627825405"><a href="#local-1627825405"><span class="hs-identifier">mb_join</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1819"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#getPprStyle"><span class="hs-identifier hs-var">getPprStyle</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-glyph">\</span><a name="local-1627825422"><a href="#local-1627825422"><span class="hs-identifier">style</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1820"></a><span>      </span><span class="hs-keyword">if</span><span> </span><a href="Outputable.html#userStyle"><span class="hs-identifier hs-var">userStyle</span></a><span> </span><a href="#local-1627825422"><span class="hs-identifier hs-var">style</span></a><span>
</span><a name="line-1821"></a><span>         </span><span class="hs-keyword">then</span><span> </span><a href="#local-1627825406"><span class="hs-identifier hs-var">pp_for_user</span></a><span>
</span><a name="line-1822"></a><span>         </span><span class="hs-keyword">else</span><span> </span><a href="#local-1627825409"><span class="hs-identifier hs-var">pp_debug</span></a><span>
</span><a name="line-1823"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1824"></a><span>  </span><span class="hs-comment">-- make all the Applicative stuff invisible in error messages by</span><span>
</span><a name="line-1825"></a><span>  </span><span class="hs-comment">-- flattening the whole ApplicativeStmt nest back to a sequence</span><span>
</span><a name="line-1826"></a><span>  </span><span class="hs-comment">-- of statements.</span><span>
</span><a name="line-1827"></a><span>   </span><a name="local-1627825406"><a href="#local-1627825406"><span class="hs-identifier">pp_for_user</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a><span> </span><a href="#local-1627825408"><span class="hs-identifier hs-var">flattenArg</span></a><span> </span><a href="#local-1627825404"><span class="hs-identifier hs-var">args</span></a><span>
</span><a name="line-1828"></a><span>
</span><a name="line-1829"></a><span>   </span><span class="hs-comment">-- ppr directly rather than transforming here, because we need to</span><span>
</span><a name="line-1830"></a><span>   </span><span class="hs-comment">-- inject a &quot;return&quot; which is hard when we're polymorphic in the id</span><span>
</span><a name="line-1831"></a><span>   </span><span class="hs-comment">-- type.</span><span>
</span><a name="line-1832"></a><span>   </span><span class="hs-identifier">flattenStmt</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a><span> </span><a href="#local-1627825109"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span class="hs-special">]</span><span>
</span><a name="line-1833"></a><span>   </span><a name="local-1627825407"><a href="#local-1627825407"><span class="hs-identifier">flattenStmt</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ApplicativeStmt"><span class="hs-identifier hs-var">ApplicativeStmt</span></a><span> </span><a name="local-1627825411"><a href="#local-1627825411"><span class="hs-identifier">args</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a><span> </span><a href="#local-1627825408"><span class="hs-identifier hs-var">flattenArg</span></a><span> </span><a href="#local-1627825411"><span class="hs-identifier hs-var">args</span></a><span>
</span><a name="line-1834"></a><span>   </span><span class="hs-identifier">flattenStmt</span><span> </span><a name="local-1627825412"><a href="#local-1627825412"><span class="hs-identifier">stmt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825412"><span class="hs-identifier hs-var">stmt</span></a><span class="hs-special">]</span><span>
</span><a name="line-1835"></a><span>
</span><a name="line-1836"></a><span>   </span><a name="local-1627825408"><a href="#local-1627825408"><span class="hs-identifier">flattenArg</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ApplicativeArgOne"><span class="hs-identifier hs-var">ApplicativeArgOne</span></a><span> </span><a name="local-1627825413"><a href="#local-1627825413"><span class="hs-identifier">pat</span></a></a><span> </span><a name="local-1627825414"><a href="#local-1627825414"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1837"></a><span>     </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#BindStmt"><span class="hs-identifier hs-var">BindStmt</span></a><span> </span><a href="#local-1627825413"><span class="hs-identifier hs-var">pat</span></a><span> </span><a href="#local-1627825414"><span class="hs-identifier hs-var">expr</span></a><span> </span><a href="HsExpr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a><span> </span><a href="HsExpr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a><span> </span><span class="hs-special">(</span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;pprStmt&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-1838"></a><span>             </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#ExprStmt"><span class="hs-identifier hs-type">ExprStmt</span></a><span> </span><a href="#local-1627825109"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1839"></a><span>   </span><span class="hs-identifier">flattenArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ApplicativeArgMany"><span class="hs-identifier hs-var">ApplicativeArgMany</span></a><span> </span><a name="local-1627825415"><a href="#local-1627825415"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1840"></a><span>     </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a><span> </span><a href="#local-1627825407"><span class="hs-identifier hs-var">flattenStmt</span></a><span> </span><a href="#local-1627825415"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1841"></a><span>
</span><a name="line-1842"></a><span>   </span><a name="local-1627825409"><a href="#local-1627825409"><span class="hs-identifier">pp_debug</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1843"></a><span>     </span><span class="hs-keyword">let</span><span>
</span><a name="line-1844"></a><span>         </span><a name="local-1627825416"><a href="#local-1627825416"><span class="hs-identifier">ap_expr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot; |&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="#local-1627825410"><span class="hs-identifier hs-var">pp_arg</span></a><span> </span><a href="#local-1627825404"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1845"></a><span>     </span><span class="hs-keyword">in</span><span>
</span><a name="line-1846"></a><span>       </span><span class="hs-keyword">if</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a><span> </span><a href="#local-1627825405"><span class="hs-identifier hs-var">mb_join</span></a><span>
</span><a name="line-1847"></a><span>          </span><span class="hs-keyword">then</span><span> </span><a href="#local-1627825416"><span class="hs-identifier hs-var">ap_expr</span></a><span>
</span><a name="line-1848"></a><span>          </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;join&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="#local-1627825416"><span class="hs-identifier hs-var">ap_expr</span></a><span>
</span><a name="line-1849"></a><span>
</span><a name="line-1850"></a><span>   </span><a name="local-1627825410"><a href="#local-1627825410"><span class="hs-identifier">pp_arg</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ApplicativeArgOne"><span class="hs-identifier hs-var">ApplicativeArgOne</span></a><span> </span><a name="local-1627825417"><a href="#local-1627825417"><span class="hs-identifier">pat</span></a></a><span> </span><a name="local-1627825418"><a href="#local-1627825418"><span class="hs-identifier">expr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1851"></a><span>     </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#BindStmt"><span class="hs-identifier hs-var">BindStmt</span></a><span> </span><a href="#local-1627825417"><span class="hs-identifier hs-var">pat</span></a><span> </span><a href="#local-1627825418"><span class="hs-identifier hs-var">expr</span></a><span> </span><a href="HsExpr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a><span> </span><a href="HsExpr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a><span> </span><span class="hs-special">(</span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;pprStmt&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-1852"></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#ExprStmt"><span class="hs-identifier hs-type">ExprStmt</span></a><span> </span><a href="#local-1627825109"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">)</span><span>
</span><a name="line-1853"></a><span>   </span><span class="hs-identifier">pp_arg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#ApplicativeArgMany"><span class="hs-identifier hs-var">ApplicativeArgMany</span></a><span> </span><a name="local-1627825419"><a href="#local-1627825419"><span class="hs-identifier">stmts</span></a></a><span> </span><a name="local-1627825420"><a href="#local-1627825420"><span class="hs-identifier">return</span></a></a><span> </span><a name="local-1627825421"><a href="#local-1627825421"><span class="hs-identifier">pat</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1854"></a><span>     </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825421"><span class="hs-identifier hs-var">pat</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1855"></a><span>     </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&lt;-&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-1856"></a><span>     </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsDo"><span class="hs-identifier hs-var">HsDo</span></a><span> </span><a href="HsExpr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span>
</span><a name="line-1857"></a><span>                </span><span class="hs-special">(</span><a href="#local-1627825419"><span class="hs-identifier hs-var">stmts</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LastStmt"><span class="hs-identifier hs-var">LastStmt</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span> </span><a href="#local-1627825420"><span class="hs-identifier hs-var">return</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><a href="HsExpr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1858"></a><span>           </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-string">&quot;pprStmt&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1859"></a><span>
</span><a name="line-1860"></a><span class="hs-identifier">pprTransformStmt</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825108"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-1627825108"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825108"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825108"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1861"></a><a name="pprTransformStmt"><a href="HsExpr.html#pprTransformStmt"><span class="hs-identifier">pprTransformStmt</span></a></a><span> </span><a name="local-1627825423"><a href="#local-1627825423"><span class="hs-identifier">bndrs</span></a></a><span> </span><a name="local-1627825424"><a href="#local-1627825424"><span class="hs-identifier">using</span></a></a><span> </span><a name="local-1627825425"><a href="#local-1627825425"><span class="hs-identifier">by</span></a></a><span>
</span><a name="line-1862"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;then&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ifPprDebug"><span class="hs-identifier hs-var">ifPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825423"><span class="hs-identifier hs-var">bndrs</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1863"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825424"><span class="hs-identifier hs-var">using</span></a><span class="hs-special">)</span><span>
</span><a name="line-1864"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprBy"><span class="hs-identifier hs-var">pprBy</span></a><span> </span><a href="#local-1627825425"><span class="hs-identifier hs-var">by</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1865"></a><span>
</span><a name="line-1866"></a><span class="hs-identifier">pprTransStmt</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825107"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="#local-1627825107"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825107"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#TransForm"><span class="hs-identifier hs-type">TransForm</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1867"></a><a name="pprTransStmt"><a href="HsExpr.html#pprTransStmt"><span class="hs-identifier">pprTransStmt</span></a></a><span> </span><a name="local-1627825426"><a href="#local-1627825426"><span class="hs-identifier">by</span></a></a><span> </span><a name="local-1627825427"><a href="#local-1627825427"><span class="hs-identifier">using</span></a></a><span> </span><a href="HsExpr.html#ThenForm"><span class="hs-identifier hs-var">ThenForm</span></a><span>
</span><a name="line-1868"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;then&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825427"><span class="hs-identifier hs-var">using</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprBy"><span class="hs-identifier hs-var">pprBy</span></a><span> </span><a href="#local-1627825426"><span class="hs-identifier hs-var">by</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1869"></a><span class="hs-identifier">pprTransStmt</span><span> </span><a name="local-1627825428"><a href="#local-1627825428"><span class="hs-identifier">by</span></a></a><span> </span><a name="local-1627825429"><a href="#local-1627825429"><span class="hs-identifier">using</span></a></a><span> </span><a href="HsExpr.html#GroupForm"><span class="hs-identifier hs-var">GroupForm</span></a><span>
</span><a name="line-1870"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;then group&quot;</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprBy"><span class="hs-identifier hs-var">pprBy</span></a><span> </span><a href="#local-1627825428"><span class="hs-identifier hs-var">by</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;using&quot;</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825429"><span class="hs-identifier hs-var">using</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-1871"></a><span>
</span><a name="line-1872"></a><span class="hs-identifier">pprBy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825106"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="#local-1627825106"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1873"></a><a name="pprBy"><a href="HsExpr.html#pprBy"><span class="hs-identifier">pprBy</span></a></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1874"></a><span class="hs-identifier">pprBy</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-1627825430"><a href="#local-1627825430"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;by&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825430"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-1875"></a><span>
</span><a name="line-1876"></a><span class="hs-identifier">pprDo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825103"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825104"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1877"></a><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825105"><span class="hs-identifier hs-type">any</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825103"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825104"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1878"></a><a name="pprDo"><a href="HsExpr.html#pprDo"><span class="hs-identifier">pprDo</span></a></a><span> </span><a href="HsExpr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a><span>        </span><a name="local-1627825431"><a href="#local-1627825431"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;do&quot;</span><span>  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#ppr_do_stmts"><span class="hs-identifier hs-var">ppr_do_stmts</span></a><span> </span><a href="#local-1627825431"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1879"></a><span class="hs-identifier">pprDo</span><span> </span><a href="HsExpr.html#GhciStmtCtxt"><span class="hs-identifier hs-var">GhciStmtCtxt</span></a><span>  </span><a name="local-1627825432"><a href="#local-1627825432"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;do&quot;</span><span>  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#ppr_do_stmts"><span class="hs-identifier hs-var">ppr_do_stmts</span></a><span> </span><a href="#local-1627825432"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1880"></a><span class="hs-identifier">pprDo</span><span> </span><a href="HsExpr.html#ArrowExpr"><span class="hs-identifier hs-var">ArrowExpr</span></a><span>     </span><a name="local-1627825433"><a href="#local-1627825433"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;do&quot;</span><span>  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#ppr_do_stmts"><span class="hs-identifier hs-var">ppr_do_stmts</span></a><span> </span><a href="#local-1627825433"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1881"></a><span class="hs-identifier">pprDo</span><span> </span><a href="HsExpr.html#MDoExpr"><span class="hs-identifier hs-var">MDoExpr</span></a><span>       </span><a name="local-1627825434"><a href="#local-1627825434"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;mdo&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#ppr_do_stmts"><span class="hs-identifier hs-var">ppr_do_stmts</span></a><span> </span><a href="#local-1627825434"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1882"></a><span class="hs-identifier">pprDo</span><span> </span><a href="HsExpr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a><span>      </span><a name="local-1627825435"><a href="#local-1627825435"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span>    </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="HsExpr.html#pprComp"><span class="hs-identifier hs-var">pprComp</span></a><span> </span><a href="#local-1627825435"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1883"></a><span class="hs-identifier">pprDo</span><span> </span><a href="HsExpr.html#PArrComp"><span class="hs-identifier hs-var">PArrComp</span></a><span>      </span><a name="local-1627825436"><a href="#local-1627825436"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#paBrackets"><span class="hs-identifier hs-var">paBrackets</span></a><span>  </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="HsExpr.html#pprComp"><span class="hs-identifier hs-var">pprComp</span></a><span> </span><a href="#local-1627825436"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1884"></a><span class="hs-identifier">pprDo</span><span> </span><a href="HsExpr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a><span>     </span><a name="local-1627825437"><a href="#local-1627825437"><span class="hs-identifier">stmts</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span>    </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="HsExpr.html#pprComp"><span class="hs-identifier hs-var">pprComp</span></a><span> </span><a href="#local-1627825437"><span class="hs-identifier hs-var">stmts</span></a><span>
</span><a name="line-1885"></a><span class="hs-identifier">pprDo</span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;pprDo&quot;</span><span> </span><span class="hs-comment">-- PatGuard, ParStmtCxt</span><span>
</span><a name="line-1886"></a><span>
</span><a name="line-1887"></a><span class="hs-identifier">ppr_do_stmts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825100"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825101"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825102"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1888"></a><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LStmtLR"><span class="hs-identifier hs-type">LStmtLR</span></a><span> </span><a href="#local-1627825100"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825101"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825102"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1889"></a><span class="hs-comment">-- Print a bunch of do stmts, with explicit braces and semicolons,</span><span>
</span><a name="line-1890"></a><span class="hs-comment">-- so that we are not vulnerable to layout bugs</span><span>
</span><a name="line-1891"></a><a name="ppr_do_stmts"><a href="HsExpr.html#ppr_do_stmts"><span class="hs-identifier">ppr_do_stmts</span></a></a><span> </span><a name="local-1627825438"><a href="#local-1627825438"><span class="hs-identifier">stmts</span></a></a><span>
</span><a name="line-1892"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#lbrace"><span class="hs-identifier hs-var">lbrace</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#pprDeeperList"><span class="hs-identifier hs-var">pprDeeperList</span></a><span> </span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825438"><span class="hs-identifier hs-var">stmts</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1893"></a><span>           </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#rbrace"><span class="hs-identifier hs-var">rbrace</span></a><span>
</span><a name="line-1894"></a><span>
</span><a name="line-1895"></a><span class="hs-identifier">pprComp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825098"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825099"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1896"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825098"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825099"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1897"></a><a name="pprComp"><a href="HsExpr.html#pprComp"><span class="hs-identifier">pprComp</span></a></a><span> </span><a name="local-1627825439"><a href="#local-1627825439"><span class="hs-identifier">quals</span></a></a><span>     </span><span class="hs-comment">-- Prints:  body | qual1, ..., qualn</span><span>
</span><a name="line-1898"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a><span> </span><a href="#local-1627825439"><span class="hs-identifier hs-var">quals</span></a><span class="hs-special">)</span><span>
</span><a name="line-1899"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LastStmt"><span class="hs-identifier hs-var">LastStmt</span></a><span> </span><a name="local-1627825440"><a href="#local-1627825440"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.List.html#last"><span class="hs-identifier hs-var">last</span></a><span> </span><a href="#local-1627825439"><span class="hs-identifier hs-var">quals</span></a><span>
</span><a name="line-1900"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825440"><span class="hs-identifier hs-var">body</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#vbar"><span class="hs-identifier hs-var">vbar</span></a><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprQuals"><span class="hs-identifier hs-var">pprQuals</span></a><span> </span><span class="hs-special">(</span><a href="Util.html#dropTail"><span class="hs-identifier hs-var">dropTail</span></a><span> </span><span class="hs-number">1</span><span> </span><a href="#local-1627825439"><span class="hs-identifier hs-var">quals</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1901"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>
</span><a name="line-1902"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a><span> </span><span class="hs-string">&quot;pprComp&quot;</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprQuals"><span class="hs-identifier hs-var">pprQuals</span></a><span> </span><a href="#local-1627825439"><span class="hs-identifier hs-var">quals</span></a><span class="hs-special">)</span><span>
</span><a name="line-1903"></a><span>
</span><a name="line-1904"></a><span class="hs-identifier">pprQuals</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825096"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825097"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1905"></a><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsExpr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a><span> </span><a href="#local-1627825096"><span class="hs-identifier hs-type">id</span></a><span> </span><a href="#local-1627825097"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1906"></a><span class="hs-comment">-- Show list comprehension qualifiers separated by commas</span><span>
</span><a name="line-1907"></a><a name="pprQuals"><a href="HsExpr.html#pprQuals"><span class="hs-identifier">pprQuals</span></a></a><span> </span><a name="local-1627825441"><a href="#local-1627825441"><span class="hs-identifier">quals</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-1627825441"><span class="hs-identifier hs-var">quals</span></a><span>
</span><a name="line-1908"></a><span>
</span><a name="line-1909"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Template Haskell quotation brackets
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1916"></a><span>
</span><a name="line-1917"></a><span class="hs-keyword">data</span><span> </span><a name="HsSplice"><a href="HsExpr.html#HsSplice"><span class="hs-identifier">HsSplice</span></a></a><span> </span><a name="local-1627825028"><a href="#local-1627825028"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-1918"></a><span>   </span><span class="hs-glyph">=</span><span> </span><a name="HsTypedSplice"><a href="HsExpr.html#HsTypedSplice"><span class="hs-identifier">HsTypedSplice</span></a></a><span>       </span><span class="hs-comment">--  $$z  or $$(f 4)</span><span>
</span><a name="line-1919"></a><span>        </span><a href="#local-1627825028"><span class="hs-identifier hs-type">id</span></a><span>               </span><span class="hs-comment">-- A unique name to identify this splice point</span><span>
</span><a name="line-1920"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825028"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- See Note [Pending Splices]</span><span>
</span><a name="line-1921"></a><span>
</span><a name="line-1922"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a name="HsUntypedSplice"><a href="HsExpr.html#HsUntypedSplice"><span class="hs-identifier">HsUntypedSplice</span></a></a><span>     </span><span class="hs-comment">--  $z  or $(f 4)</span><span>
</span><a name="line-1923"></a><span>        </span><a href="#local-1627825028"><span class="hs-identifier hs-type">id</span></a><span>               </span><span class="hs-comment">-- A unique name to identify this splice point</span><span>
</span><a name="line-1924"></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825028"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- See Note [Pending Splices]</span><span>
</span><a name="line-1925"></a><span>
</span><a name="line-1926"></a><span>   </span><span class="hs-glyph">|</span><span> </span><a name="HsQuasiQuote"><a href="HsExpr.html#HsQuasiQuote"><span class="hs-identifier">HsQuasiQuote</span></a></a><span>        </span><span class="hs-comment">-- See Note [Quasi-quote overview] in TcSplice</span><span>
</span><a name="line-1927"></a><span>        </span><a href="#local-1627825028"><span class="hs-identifier hs-type">id</span></a><span>               </span><span class="hs-comment">-- Splice point</span><span>
</span><a name="line-1928"></a><span>        </span><a href="#local-1627825028"><span class="hs-identifier hs-type">id</span></a><span>               </span><span class="hs-comment">-- Quoter</span><span>
</span><a name="line-1929"></a><span>        </span><a href="SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a><span>          </span><span class="hs-comment">-- The span of the enclosed string</span><span>
</span><a name="line-1930"></a><span>        </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>       </span><span class="hs-comment">-- The enclosed string</span><span>
</span><a name="line-1931"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1932"></a><span>
</span><a name="line-1933"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825535"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-1627825535"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1934"></a><span>
</span><a name="line-1935"></a><span class="hs-identifier">isTypedSplice</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-1627825095"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1936"></a><a name="isTypedSplice"><a href="HsExpr.html#isTypedSplice"><span class="hs-identifier">isTypedSplice</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTypedSplice"><span class="hs-identifier hs-var">HsTypedSplice</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1937"></a><span class="hs-identifier">isTypedSplice</span><span> </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>   </span><span class="hs-comment">-- Quasi-quotes are untyped splices</span><span>
</span><a name="line-1938"></a><span>
</span><a name="line-1939"></a><span class="hs-comment">-- See Note [Pending Splices]</span><span>
</span><a name="line-1940"></a><span class="hs-keyword">type</span><span> </span><a name="SplicePointName"><a href="HsExpr.html#SplicePointName"><span class="hs-identifier">SplicePointName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-1941"></a><span>
</span><a name="line-1942"></a><span class="hs-keyword">data</span><span> </span><a name="PendingRnSplice"><a href="HsExpr.html#PendingRnSplice"><span class="hs-identifier">PendingRnSplice</span></a></a><span>
</span><a name="line-1943"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="PendingRnSplice"><a href="HsExpr.html#PendingRnSplice"><span class="hs-identifier">PendingRnSplice</span></a></a><span> </span><a href="HsExpr.html#UntypedSpliceFlavour"><span class="hs-identifier hs-type">UntypedSpliceFlavour</span></a><span> </span><a href="HsExpr.html#SplicePointName"><span class="hs-identifier hs-type">SplicePointName</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span>
</span><a name="line-1944"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-1945"></a><span>
</span><a name="line-1946"></a><span class="hs-keyword">data</span><span> </span><a name="UntypedSpliceFlavour"><a href="HsExpr.html#UntypedSpliceFlavour"><span class="hs-identifier">UntypedSpliceFlavour</span></a></a><span>
</span><a name="line-1947"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UntypedExpSplice"><a href="HsExpr.html#UntypedExpSplice"><span class="hs-identifier">UntypedExpSplice</span></a></a><span>
</span><a name="line-1948"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UntypedPatSplice"><a href="HsExpr.html#UntypedPatSplice"><span class="hs-identifier">UntypedPatSplice</span></a></a><span>
</span><a name="line-1949"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UntypedTypeSplice"><a href="HsExpr.html#UntypedTypeSplice"><span class="hs-identifier">UntypedTypeSplice</span></a></a><span>
</span><a name="line-1950"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UntypedDeclSplice"><a href="HsExpr.html#UntypedDeclSplice"><span class="hs-identifier">UntypedDeclSplice</span></a></a><span>
</span><a name="line-1951"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1952"></a><span>
</span><a name="line-1953"></a><span class="hs-keyword">data</span><span> </span><a name="PendingTcSplice"><a href="HsExpr.html#PendingTcSplice"><span class="hs-identifier">PendingTcSplice</span></a></a><span>
</span><a name="line-1954"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="PendingTcSplice"><a href="HsExpr.html#PendingTcSplice"><span class="hs-identifier">PendingTcSplice</span></a></a><span> </span><a href="HsExpr.html#SplicePointName"><span class="hs-identifier hs-type">SplicePointName</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span class="hs-special">)</span><span>
</span><a name="line-1955"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-1956"></a><span>
</span><a name="line-1957"></a><span>
</span><a name="line-1958"></a><span class="hs-comment">{-
Note [Pending Splices]
~~~~~~~~~~~~~~~~~~~~~~
When we rename an untyped bracket, we name and lift out all the nested
splices, so that when the typechecker hits the bracket, it can
typecheck those nested splices without having to walk over the untyped
bracket code.  So for example
    [| f $(g x) |]
looks like

    HsBracket (HsApp (HsVar &quot;f&quot;) (HsSpliceE _ (g x)))

which the renamer rewrites to

    HsRnBracketOut (HsApp (HsVar f) (HsSpliceE sn (g x)))
                   [PendingRnSplice UntypedExpSplice sn (g x)]

* The 'sn' is the Name of the splice point, the SplicePointName

* The PendingRnExpSplice gives the splice that splice-point name maps to;
  and the typechecker can now conveniently find these sub-expressions

* The other copy of the splice, in the second argument of HsSpliceE
                                in the renamed first arg of HsRnBracketOut
  is used only for pretty printing

There are four varieties of pending splices generated by the renamer,
distinguished by their UntypedSpliceFlavour

 * Pending expression splices (UntypedExpSplice), e.g.,
       [|$(f x) + 2|]

   UntypedExpSplice is also used for
     * quasi-quotes, where the pending expression expands to
          $(quoter &quot;...blah...&quot;)
       (see RnSplice.makePending, HsQuasiQuote case)

     * cross-stage lifting, where the pending expression expands to
          $(lift x)
       (see RnSplice.checkCrossStageLifting)

 * Pending pattern splices (UntypedPatSplice), e.g.,
       [| \$(f x) -&gt; x |]

 * Pending type splices (UntypedTypeSplice), e.g.,
       [| f :: $(g x) |]

 * Pending declaration (UntypedDeclSplice), e.g.,
       [| let $(f x) in ... |]

There is a fifth variety of pending splice, which is generated by the type
checker:

  * Pending *typed* expression splices, (PendingTcSplice), e.g.,
        [||1 + $$(f 2)||]

It would be possible to eliminate HsRnBracketOut and use HsBracketOut for the
output of the renamer. However, when pretty printing the output of the renamer,
e.g., in a type error message, we *do not* want to print out the pending
splices. In contrast, when pretty printing the output of the type checker, we
*do* want to print the pending splices. So splitting them up seems to make
sense, although I hate to add another constructor to HsExpr.
-}</span><span>
</span><a name="line-2021"></a><span>
</span><a name="line-2022"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825513"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-1627825513"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2023"></a><span>  </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-1627825514"><a href="#local-1627825514"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprSplice"><span class="hs-identifier hs-var">pprSplice</span></a><span> </span><a href="#local-1627825514"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-2024"></a><span>
</span><a name="line-2025"></a><span class="hs-identifier">pprPendingSplice</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825094"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#SplicePointName"><span class="hs-identifier hs-type">SplicePointName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825094"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2026"></a><a name="pprPendingSplice"><a href="HsExpr.html#pprPendingSplice"><span class="hs-identifier">pprPendingSplice</span></a></a><span> </span><a name="local-1627825442"><a href="#local-1627825442"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825443"><a href="#local-1627825443"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#angleBrackets"><span class="hs-identifier hs-var">angleBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825442"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825443"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-2027"></a><span>
</span><a name="line-2028"></a><span class="hs-identifier">pprSplice</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825093"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-1627825093"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2029"></a><a name="pprSplice"><a href="HsExpr.html#pprSplice"><span class="hs-identifier">pprSplice</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsTypedSplice"><span class="hs-identifier hs-var">HsTypedSplice</span></a><span>   </span><a name="local-1627825444"><a href="#local-1627825444"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825445"><a href="#local-1627825445"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_splice"><span class="hs-identifier hs-var">ppr_splice</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;$$&quot;</span><span class="hs-special">)</span><span> </span><a href="#local-1627825444"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-1627825445"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-2030"></a><span class="hs-identifier">pprSplice</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsUntypedSplice"><span class="hs-identifier hs-var">HsUntypedSplice</span></a><span> </span><a name="local-1627825446"><a href="#local-1627825446"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825447"><a href="#local-1627825447"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_splice"><span class="hs-identifier hs-var">ppr_splice</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;$&quot;</span><span class="hs-special">)</span><span>  </span><a href="#local-1627825446"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-1627825447"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-2031"></a><span class="hs-identifier">pprSplice</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsQuasiQuote"><span class="hs-identifier hs-var">HsQuasiQuote</span></a><span> </span><a name="local-1627825448"><a href="#local-1627825448"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825449"><a href="#local-1627825449"><span class="hs-identifier">q</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825450"><a href="#local-1627825450"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#ppr_quasi"><span class="hs-identifier hs-var">ppr_quasi</span></a><span> </span><a href="#local-1627825448"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-1627825449"><span class="hs-identifier hs-var">q</span></a><span> </span><a href="#local-1627825450"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-2032"></a><span>
</span><a name="line-2033"></a><span class="hs-identifier">ppr_quasi</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825092"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-1627825092"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825092"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2034"></a><a name="ppr_quasi"><a href="HsExpr.html#ppr_quasi"><span class="hs-identifier">ppr_quasi</span></a></a><span> </span><a name="local-1627825451"><a href="#local-1627825451"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825452"><a href="#local-1627825452"><span class="hs-identifier">quoter</span></a></a><span> </span><a name="local-1627825453"><a href="#local-1627825453"><span class="hs-identifier">quote</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ifPprDebug"><span class="hs-identifier hs-var">ifPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825451"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span>
</span><a name="line-2035"></a><span>                           </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'['</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825452"><span class="hs-identifier hs-var">quoter</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#vbar"><span class="hs-identifier hs-var">vbar</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span>
</span><a name="line-2036"></a><span>                           </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825453"><span class="hs-identifier hs-var">quote</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;|]&quot;</span><span>
</span><a name="line-2037"></a><span>
</span><a name="line-2038"></a><span class="hs-identifier">ppr_splice</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825091"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825091"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825091"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2039"></a><a name="ppr_splice"><a href="HsExpr.html#ppr_splice"><span class="hs-identifier">ppr_splice</span></a></a><span> </span><a name="local-1627825454"><a href="#local-1627825454"><span class="hs-identifier">herald</span></a></a><span> </span><a name="local-1627825455"><a href="#local-1627825455"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825456"><a href="#local-1627825456"><span class="hs-identifier">e</span></a></a><span>
</span><a name="line-2040"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825454"><span class="hs-identifier hs-var">herald</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ifPprDebug"><span class="hs-identifier hs-var">ifPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825455"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627825458"><span class="hs-identifier hs-var">eDoc</span></a><span>
</span><a name="line-2041"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-2042"></a><span>          </span><span class="hs-comment">-- We use pprLExpr to match pprParendLExpr:</span><span>
</span><a name="line-2043"></a><span>          </span><span class="hs-comment">--     Using pprLExpr makes sure that we go 'deeper'</span><span>
</span><a name="line-2044"></a><span>          </span><span class="hs-comment">--     I think that is usually (always?) right</span><span>
</span><a name="line-2045"></a><span>          </span><a name="local-1627825457"><a href="#local-1627825457"><span class="hs-identifier">pp_as_was</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprLExpr"><span class="hs-identifier hs-var">pprLExpr</span></a><span> </span><a href="#local-1627825456"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-2046"></a><span>          </span><a name="local-1627825458"><a href="#local-1627825458"><span class="hs-identifier">eDoc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-1627825456"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-2047"></a><span>                 </span><a href="HsExpr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825457"><span class="hs-identifier hs-var">pp_as_was</span></a><span>
</span><a name="line-2048"></a><span>                 </span><a href="HsExpr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825457"><span class="hs-identifier hs-var">pp_as_was</span></a><span>
</span><a name="line-2049"></a><span>                 </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="#local-1627825457"><span class="hs-identifier hs-var">pp_as_was</span></a><span>
</span><a name="line-2050"></a><span>
</span><a name="line-2051"></a><span class="hs-keyword">data</span><span> </span><a name="HsBracket"><a href="HsExpr.html#HsBracket"><span class="hs-identifier">HsBracket</span></a></a><span> </span><a name="local-1627825027"><a href="#local-1627825027"><span class="hs-identifier">id</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="ExpBr"><a href="HsExpr.html#ExpBr"><span class="hs-identifier">ExpBr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- [|  expr  |]</span><span>
</span><a name="line-2052"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a name="PatBr"><a href="HsExpr.html#PatBr"><span class="hs-identifier">PatBr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsPat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- [p| pat   |]</span><span>
</span><a name="line-2053"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a name="DecBrL"><a href="HsExpr.html#DecBrL"><span class="hs-identifier">DecBrL</span></a></a><span> </span><span class="hs-special">[</span><a href="HsDecls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- [d| decls |]; result of parser</span><span>
</span><a name="line-2054"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a name="DecBrG"><a href="HsExpr.html#DecBrG"><span class="hs-identifier">DecBrG</span></a></a><span> </span><span class="hs-special">(</span><a href="HsDecls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- [d| decls |]; result of renamer</span><span>
</span><a name="line-2055"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a name="TypBr"><a href="HsExpr.html#TypBr"><span class="hs-identifier">TypBr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- [t| type  |]</span><span>
</span><a name="line-2056"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a name="VarBr"><a href="HsExpr.html#VarBr"><span class="hs-identifier">VarBr</span></a></a><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span>        </span><span class="hs-comment">-- True: 'x, False: ''T</span><span>
</span><a name="line-2057"></a><span>                                         </span><span class="hs-comment">-- (The Bool flag is used only in pprHsBracket)</span><span>
</span><a name="line-2058"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a name="TExpBr"><a href="HsExpr.html#TExpBr"><span class="hs-identifier">TExpBr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825027"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- [||  expr  ||]</span><span>
</span><a name="line-2059"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-2060"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825534"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="#local-1627825534"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2061"></a><span>
</span><a name="line-2062"></a><span class="hs-identifier">isTypedBracket</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="#local-1627825090"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-2063"></a><a name="isTypedBracket"><a href="HsExpr.html#isTypedBracket"><span class="hs-identifier">isTypedBracket</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TExpBr"><span class="hs-identifier hs-var">TExpBr</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-2064"></a><span class="hs-identifier">isTypedBracket</span><span> </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-2065"></a><span>
</span><a name="line-2066"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825512"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="#local-1627825512"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2067"></a><span>  </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprHsBracket"><span class="hs-identifier hs-var">pprHsBracket</span></a><span>
</span><a name="line-2068"></a><span>
</span><a name="line-2069"></a><span>
</span><a name="line-2070"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825089"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsBracket"><span class="hs-identifier hs-type">HsBracket</span></a><span> </span><a href="#local-1627825089"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2071"></a><a name="pprHsBracket"><a href="HsExpr.html#pprHsBracket"><span class="hs-identifier">pprHsBracket</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ExpBr"><span class="hs-identifier hs-var">ExpBr</span></a><span> </span><a name="local-1627825459"><a href="#local-1627825459"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#thBrackets"><span class="hs-identifier hs-var">thBrackets</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825459"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-2072"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PatBr"><span class="hs-identifier hs-var">PatBr</span></a><span> </span><a name="local-1627825460"><a href="#local-1627825460"><span class="hs-identifier">p</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#thBrackets"><span class="hs-identifier hs-var">thBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'p'</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825460"><span class="hs-identifier hs-var">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-2073"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#DecBrG"><span class="hs-identifier hs-var">DecBrG</span></a><span> </span><a name="local-1627825461"><a href="#local-1627825461"><span class="hs-identifier">gp</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#thBrackets"><span class="hs-identifier hs-var">thBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'d'</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825461"><span class="hs-identifier hs-var">gp</span></a><span class="hs-special">)</span><span>
</span><a name="line-2074"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#DecBrL"><span class="hs-identifier hs-var">DecBrL</span></a><span> </span><a name="local-1627825462"><a href="#local-1627825462"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#thBrackets"><span class="hs-identifier hs-var">thBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'d'</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825462"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-2075"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TypBr"><span class="hs-identifier hs-var">TypBr</span></a><span> </span><a name="local-1627825463"><a href="#local-1627825463"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#thBrackets"><span class="hs-identifier hs-var">thBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'t'</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825463"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span>
</span><a name="line-2076"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#VarBr"><span class="hs-identifier hs-var">VarBr</span></a><span> </span><span class="hs-identifier hs-var">True</span><span> </span><a name="local-1627825464"><a href="#local-1627825464"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'\''</span><span>         </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825464"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-2077"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#VarBr"><span class="hs-identifier hs-var">VarBr</span></a><span> </span><span class="hs-identifier hs-var">False</span><span> </span><a name="local-1627825465"><a href="#local-1627825465"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;''&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825465"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-2078"></a><span class="hs-identifier">pprHsBracket</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TExpBr"><span class="hs-identifier hs-var">TExpBr</span></a><span> </span><a name="local-1627825466"><a href="#local-1627825466"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#thTyBrackets"><span class="hs-identifier hs-var">thTyBrackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825466"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-2079"></a><span>
</span><a name="line-2080"></a><span class="hs-identifier">thBrackets</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2081"></a><a name="thBrackets"><a href="HsExpr.html#thBrackets"><span class="hs-identifier">thBrackets</span></a></a><span> </span><a name="local-1627825467"><a href="#local-1627825467"><span class="hs-identifier">pp_kind</span></a></a><span> </span><a name="local-1627825468"><a href="#local-1627825468"><span class="hs-identifier">pp_body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'['</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627825467"><span class="hs-identifier hs-var">pp_kind</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#vbar"><span class="hs-identifier hs-var">vbar</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-2082"></a><span>                             </span><a href="#local-1627825468"><span class="hs-identifier hs-var">pp_body</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;|]&quot;</span><span>
</span><a name="line-2083"></a><span>
</span><a name="line-2084"></a><span class="hs-identifier">thTyBrackets</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2085"></a><a name="thTyBrackets"><a href="HsExpr.html#thTyBrackets"><span class="hs-identifier">thTyBrackets</span></a></a><span> </span><a name="local-1627825469"><a href="#local-1627825469"><span class="hs-identifier">pp_body</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[||&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-1627825469"><span class="hs-identifier hs-var">pp_body</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;||]&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-2086"></a><span>
</span><a name="line-2087"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsExpr.html#PendingRnSplice"><span class="hs-identifier hs-type">PendingRnSplice</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2088"></a><span>  </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PendingRnSplice"><span class="hs-identifier hs-var">PendingRnSplice</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627825510"><a href="#local-1627825510"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825511"><a href="#local-1627825511"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprPendingSplice"><span class="hs-identifier hs-var">pprPendingSplice</span></a><span> </span><a href="#local-1627825510"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-1627825511"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-2089"></a><span>
</span><a name="line-2090"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsExpr.html#PendingTcSplice"><span class="hs-identifier hs-type">PendingTcSplice</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2091"></a><span>  </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PendingTcSplice"><span class="hs-identifier hs-var">PendingTcSplice</span></a><span> </span><a name="local-1627825508"><a href="#local-1627825508"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-1627825509"><a href="#local-1627825509"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprPendingSplice"><span class="hs-identifier hs-var">pprPendingSplice</span></a><span> </span><a href="#local-1627825508"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-1627825509"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-2092"></a><span>
</span><a name="line-2093"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Enumerations and list comprehensions}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-2100"></a><span>
</span><a name="line-2101"></a><span class="hs-keyword">data</span><span> </span><a name="ArithSeqInfo"><a href="HsExpr.html#ArithSeqInfo"><span class="hs-identifier">ArithSeqInfo</span></a></a><span> </span><a name="local-1627825026"><a href="#local-1627825026"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-2102"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="From"><a href="HsExpr.html#From"><span class="hs-identifier">From</span></a></a><span>            </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2103"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="FromThen"><a href="HsExpr.html#FromThen"><span class="hs-identifier">FromThen</span></a></a><span>        </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2104"></a><span>                    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2105"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="FromTo"><a href="HsExpr.html#FromTo"><span class="hs-identifier">FromTo</span></a></a><span>          </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2106"></a><span>                    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2107"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="FromThenTo"><a href="HsExpr.html#FromThenTo"><span class="hs-identifier">FromThenTo</span></a></a><span>      </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2108"></a><span>                    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2109"></a><span>                    </span><span class="hs-special">(</span><a href="HsExpr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a><span> </span><a href="#local-1627825026"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2110"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-2111"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="PlaceHolder.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-1627825533"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a><span> </span><a href="#local-1627825533"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>
</span><a name="line-2112"></a><span>
</span><a name="line-2113"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825499"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a><span> </span><a href="#local-1627825499"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-2114"></a><span>    </span><a name="local-1912652361"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#From"><span class="hs-identifier hs-var">From</span></a><span> </span><a name="local-1627825500"><a href="#local-1627825500"><span class="hs-identifier">e1</span></a></a><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825500"><span class="hs-identifier hs-var">e1</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pp_dotdot"><span class="hs-identifier hs-var">pp_dotdot</span></a><span class="hs-special">]</span><span>
</span><a name="line-2115"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FromThen"><span class="hs-identifier hs-var">FromThen</span></a><span> </span><a name="local-1627825501"><a href="#local-1627825501"><span class="hs-identifier">e1</span></a></a><span> </span><a name="local-1627825502"><a href="#local-1627825502"><span class="hs-identifier">e2</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825501"><span class="hs-identifier hs-var">e1</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825502"><span class="hs-identifier hs-var">e2</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pp_dotdot"><span class="hs-identifier hs-var">pp_dotdot</span></a><span class="hs-special">]</span><span>
</span><a name="line-2116"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FromTo"><span class="hs-identifier hs-var">FromTo</span></a><span> </span><a name="local-1627825503"><a href="#local-1627825503"><span class="hs-identifier">e1</span></a></a><span> </span><a name="local-1627825504"><a href="#local-1627825504"><span class="hs-identifier">e3</span></a></a><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825503"><span class="hs-identifier hs-var">e1</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pp_dotdot"><span class="hs-identifier hs-var">pp_dotdot</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825504"><span class="hs-identifier hs-var">e3</span></a><span class="hs-special">]</span><span>
</span><a name="line-2117"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FromThenTo"><span class="hs-identifier hs-var">FromThenTo</span></a><span> </span><a name="local-1627825505"><a href="#local-1627825505"><span class="hs-identifier">e1</span></a></a><span> </span><a name="local-1627825506"><a href="#local-1627825506"><span class="hs-identifier">e2</span></a></a><span> </span><a name="local-1627825507"><a href="#local-1627825507"><span class="hs-identifier">e3</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2118"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825505"><span class="hs-identifier hs-var">e1</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825506"><span class="hs-identifier hs-var">e2</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pp_dotdot"><span class="hs-identifier hs-var">pp_dotdot</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825507"><span class="hs-identifier hs-var">e3</span></a><span class="hs-special">]</span><span>
</span><a name="line-2119"></a><span>
</span><a name="line-2120"></a><span class="hs-identifier">pp_dotdot</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2121"></a><a name="pp_dotdot"><a href="HsExpr.html#pp_dotdot"><span class="hs-identifier">pp_dotdot</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot; .. &quot;</span><span>
</span><a name="line-2122"></a><span>
</span><a name="line-2123"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{HsMatchCtxt}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-2130"></a><span>
</span><a name="line-2131"></a><span class="hs-keyword">data</span><span> </span><a name="HsMatchContext"><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier">HsMatchContext</span></a></a><span> </span><a name="local-1627825025"><a href="#local-1627825025"><span class="hs-identifier">id</span></a></a><span>  </span><span class="hs-comment">-- Context of a Match</span><span>
</span><a name="line-2132"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="FunRhs"><a href="HsExpr.html#FunRhs"><span class="hs-identifier">FunRhs</span></a></a><span> </span><a href="#local-1627825025"><span class="hs-identifier hs-type">id</span></a><span>                   </span><span class="hs-comment">-- Function binding for f</span><span>
</span><a name="line-2133"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="LambdaExpr"><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier">LambdaExpr</span></a></a><span>                  </span><span class="hs-comment">-- Patterns of a lambda</span><span>
</span><a name="line-2134"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="CaseAlt"><a href="HsExpr.html#CaseAlt"><span class="hs-identifier">CaseAlt</span></a></a><span>                     </span><span class="hs-comment">-- Patterns and guards on a case alternative</span><span>
</span><a name="line-2135"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="IfAlt"><a href="HsExpr.html#IfAlt"><span class="hs-identifier">IfAlt</span></a></a><span>                       </span><span class="hs-comment">-- Guards of a multi-way if alternative</span><span>
</span><a name="line-2136"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ProcExpr"><a href="HsExpr.html#ProcExpr"><span class="hs-identifier">ProcExpr</span></a></a><span>                    </span><span class="hs-comment">-- Patterns of a proc</span><span>
</span><a name="line-2137"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="PatBindRhs"><a href="HsExpr.html#PatBindRhs"><span class="hs-identifier">PatBindRhs</span></a></a><span>                  </span><span class="hs-comment">-- A pattern binding  eg [y] &lt;- e = e</span><span>
</span><a name="line-2138"></a><span>
</span><a name="line-2139"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RecUpd"><a href="HsExpr.html#RecUpd"><span class="hs-identifier">RecUpd</span></a></a><span>                      </span><span class="hs-comment">-- Record update [used only in DsExpr to</span><span>
</span><a name="line-2140"></a><span>                                </span><span class="hs-comment">--    tell matchWrapper what sort of</span><span>
</span><a name="line-2141"></a><span>                                </span><span class="hs-comment">--    runtime error message to generate]</span><span>
</span><a name="line-2142"></a><span>
</span><a name="line-2143"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="StmtCtxt"><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier">StmtCtxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825025"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Pattern of a do-stmt, list comprehension,</span><span>
</span><a name="line-2144"></a><span>                                </span><span class="hs-comment">-- pattern guard, etc</span><span>
</span><a name="line-2145"></a><span>
</span><a name="line-2146"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ThPatSplice"><a href="HsExpr.html#ThPatSplice"><span class="hs-identifier">ThPatSplice</span></a></a><span>                 </span><span class="hs-comment">-- A Template Haskell pattern splice</span><span>
</span><a name="line-2147"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ThPatQuote"><a href="HsExpr.html#ThPatQuote"><span class="hs-identifier">ThPatQuote</span></a></a><span>                  </span><span class="hs-comment">-- A Template Haskell pattern quotation [p| (a,b) |]</span><span>
</span><a name="line-2148"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="PatSyn"><a href="HsExpr.html#PatSyn"><span class="hs-identifier">PatSyn</span></a></a><span>                      </span><span class="hs-comment">-- A pattern synonym declaration</span><span>
</span><a name="line-2149"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-2150"></a><span>
</span><a name="line-2151"></a><span class="hs-keyword">data</span><span> </span><a name="HsStmtContext"><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier">HsStmtContext</span></a></a><span> </span><a name="local-1627825024"><a href="#local-1627825024"><span class="hs-identifier">id</span></a></a><span>
</span><a name="line-2152"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ListComp"><a href="HsExpr.html#ListComp"><span class="hs-identifier">ListComp</span></a></a><span>
</span><a name="line-2153"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="MonadComp"><a href="HsExpr.html#MonadComp"><span class="hs-identifier">MonadComp</span></a></a><span>
</span><a name="line-2154"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="PArrComp"><a href="HsExpr.html#PArrComp"><span class="hs-identifier">PArrComp</span></a></a><span>                             </span><span class="hs-comment">-- Parallel array comprehension</span><span>
</span><a name="line-2155"></a><span>
</span><a name="line-2156"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="DoExpr"><a href="HsExpr.html#DoExpr"><span class="hs-identifier">DoExpr</span></a></a><span>                               </span><span class="hs-comment">-- do { ... }</span><span>
</span><a name="line-2157"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="MDoExpr"><a href="HsExpr.html#MDoExpr"><span class="hs-identifier">MDoExpr</span></a></a><span>                              </span><span class="hs-comment">-- mdo { ... }  ie recursive do-expression</span><span>
</span><a name="line-2158"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ArrowExpr"><a href="HsExpr.html#ArrowExpr"><span class="hs-identifier">ArrowExpr</span></a></a><span>                            </span><span class="hs-comment">-- do-notation in an arrow-command context</span><span>
</span><a name="line-2159"></a><span>
</span><a name="line-2160"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="GhciStmtCtxt"><a href="HsExpr.html#GhciStmtCtxt"><span class="hs-identifier">GhciStmtCtxt</span></a></a><span>                         </span><span class="hs-comment">-- A command-line Stmt in GHCi pat &lt;- rhs</span><span>
</span><a name="line-2161"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="PatGuard"><a href="HsExpr.html#PatGuard"><span class="hs-identifier">PatGuard</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825024"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- Pattern guard for specified thing</span><span>
</span><a name="line-2162"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ParStmtCtxt"><a href="HsExpr.html#ParStmtCtxt"><span class="hs-identifier">ParStmtCtxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825024"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- A branch of a parallel stmt</span><span>
</span><a name="line-2163"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="TransStmtCtxt"><a href="HsExpr.html#TransStmtCtxt"><span class="hs-identifier">TransStmtCtxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825024"><span class="hs-identifier hs-type">id</span></a><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- A branch of a transform stmt</span><span>
</span><a name="line-2164"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-2165"></a><span>
</span><a name="line-2166"></a><span class="hs-identifier">isListCompExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825088"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-2167"></a><span class="hs-comment">-- Uses syntax [ e | quals ]</span><span>
</span><a name="line-2168"></a><a name="isListCompExpr"><a href="HsExpr.html#isListCompExpr"><span class="hs-identifier">isListCompExpr</span></a></a><span> </span><a href="HsExpr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-2169"></a><span class="hs-identifier">isListCompExpr</span><span> </span><a href="HsExpr.html#PArrComp"><span class="hs-identifier hs-var">PArrComp</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-2170"></a><span class="hs-identifier">isListCompExpr</span><span> </span><a href="HsExpr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-2171"></a><span class="hs-identifier">isListCompExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtCtxt"><span class="hs-identifier hs-var">ParStmtCtxt</span></a><span> </span><a name="local-1627825470"><a href="#local-1627825470"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isListCompExpr"><span class="hs-identifier hs-var">isListCompExpr</span></a><span> </span><a href="#local-1627825470"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-2172"></a><span class="hs-identifier">isListCompExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TransStmtCtxt"><span class="hs-identifier hs-var">TransStmtCtxt</span></a><span> </span><a name="local-1627825471"><a href="#local-1627825471"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isListCompExpr"><span class="hs-identifier hs-var">isListCompExpr</span></a><span> </span><a href="#local-1627825471"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-2173"></a><span class="hs-identifier">isListCompExpr</span><span> </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-2174"></a><span>
</span><a name="line-2175"></a><span class="hs-identifier">isMonadCompExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825087"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-2176"></a><a name="isMonadCompExpr"><a href="HsExpr.html#isMonadCompExpr"><span class="hs-identifier">isMonadCompExpr</span></a></a><span> </span><a href="HsExpr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-2177"></a><span class="hs-identifier">isMonadCompExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtCtxt"><span class="hs-identifier hs-var">ParStmtCtxt</span></a><span> </span><a name="local-1627825472"><a href="#local-1627825472"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isMonadCompExpr"><span class="hs-identifier hs-var">isMonadCompExpr</span></a><span> </span><a href="#local-1627825472"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2178"></a><span class="hs-identifier">isMonadCompExpr</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TransStmtCtxt"><span class="hs-identifier hs-var">TransStmtCtxt</span></a><span> </span><a name="local-1627825473"><a href="#local-1627825473"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#isMonadCompExpr"><span class="hs-identifier hs-var">isMonadCompExpr</span></a><span> </span><a href="#local-1627825473"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2179"></a><span class="hs-identifier">isMonadCompExpr</span><span> </span><span class="hs-identifier">_</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-2180"></a><span>
</span><a name="line-2181"></a><span class="hs-identifier">matchSeparator</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825086"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2182"></a><a name="matchSeparator"><a href="HsExpr.html#matchSeparator"><span class="hs-identifier">matchSeparator</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FunRhs"><span class="hs-identifier hs-var">FunRhs</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;=&quot;</span><span>
</span><a name="line-2183"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span>
</span><a name="line-2184"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#IfAlt"><span class="hs-identifier hs-var">IfAlt</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span>
</span><a name="line-2185"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span>
</span><a name="line-2186"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#ProcExpr"><span class="hs-identifier hs-var">ProcExpr</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span>
</span><a name="line-2187"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#PatBindRhs"><span class="hs-identifier hs-var">PatBindRhs</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;=&quot;</span><span>
</span><a name="line-2188"></a><span class="hs-identifier">matchSeparator</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&lt;-&quot;</span><span>
</span><a name="line-2189"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#RecUpd"><span class="hs-identifier hs-var">RecUpd</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;unused&quot;</span><span>
</span><a name="line-2190"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#ThPatSplice"><span class="hs-identifier hs-var">ThPatSplice</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;unused&quot;</span><span>
</span><a name="line-2191"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#ThPatQuote"><span class="hs-identifier hs-var">ThPatQuote</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;unused&quot;</span><span>
</span><a name="line-2192"></a><span class="hs-identifier">matchSeparator</span><span> </span><a href="HsExpr.html#PatSyn"><span class="hs-identifier hs-var">PatSyn</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;unused&quot;</span><span>
</span><a name="line-2193"></a><span>
</span><a name="line-2194"></a><span class="hs-identifier">pprMatchContext</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825085"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825085"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2195"></a><a name="pprMatchContext"><a href="HsExpr.html#pprMatchContext"><span class="hs-identifier">pprMatchContext</span></a></a><span> </span><a name="local-1627825474"><a href="#local-1627825474"><span class="hs-identifier">ctxt</span></a></a><span>
</span><a name="line-2196"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-1627825475"><span class="hs-identifier hs-var">want_an</span></a><span> </span><a href="#local-1627825474"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;an&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprMatchContextNoun"><span class="hs-identifier hs-var">pprMatchContextNoun</span></a><span> </span><a href="#local-1627825474"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2197"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;a&quot;</span><span>  </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprMatchContextNoun"><span class="hs-identifier hs-var">pprMatchContextNoun</span></a><span> </span><a href="#local-1627825474"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2198"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-2199"></a><span>    </span><a name="local-1627825475"><a href="#local-1627825475"><span class="hs-identifier">want_an</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FunRhs"><span class="hs-identifier hs-var">FunRhs</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>  </span><span class="hs-comment">-- Use &quot;an&quot; in front</span><span>
</span><a name="line-2200"></a><span>    </span><span class="hs-identifier">want_an</span><span> </span><a href="HsExpr.html#ProcExpr"><span class="hs-identifier hs-var">ProcExpr</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-2201"></a><span>    </span><span class="hs-identifier">want_an</span><span> </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-2202"></a><span>
</span><a name="line-2203"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825084"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825084"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2204"></a><a name="pprMatchContextNoun"><a href="HsExpr.html#pprMatchContextNoun"><span class="hs-identifier">pprMatchContextNoun</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FunRhs"><span class="hs-identifier hs-var">FunRhs</span></a><span> </span><a name="local-1627825476"><a href="#local-1627825476"><span class="hs-identifier">fun</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;equation for&quot;</span><span>
</span><a name="line-2205"></a><span>                                      </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825476"><span class="hs-identifier hs-var">fun</span></a><span class="hs-special">)</span><span>
</span><a name="line-2206"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;case alternative&quot;</span><span>
</span><a name="line-2207"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#IfAlt"><span class="hs-identifier hs-var">IfAlt</span></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;multi-way if alternative&quot;</span><span>
</span><a name="line-2208"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#RecUpd"><span class="hs-identifier hs-var">RecUpd</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;record-update construct&quot;</span><span>
</span><a name="line-2209"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#ThPatSplice"><span class="hs-identifier hs-var">ThPatSplice</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Template Haskell pattern splice&quot;</span><span>
</span><a name="line-2210"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#ThPatQuote"><span class="hs-identifier hs-var">ThPatQuote</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Template Haskell pattern quotation&quot;</span><span>
</span><a name="line-2211"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#PatBindRhs"><span class="hs-identifier hs-var">PatBindRhs</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pattern binding&quot;</span><span>
</span><a name="line-2212"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;lambda abstraction&quot;</span><span>
</span><a name="line-2213"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#ProcExpr"><span class="hs-identifier hs-var">ProcExpr</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;arrow abstraction&quot;</span><span>
</span><a name="line-2214"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a name="local-1627825477"><a href="#local-1627825477"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pattern binding in&quot;</span><span>
</span><a name="line-2215"></a><span>                                      </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="HsExpr.html#pprStmtContext"><span class="hs-identifier hs-var">pprStmtContext</span></a><span> </span><a href="#local-1627825477"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2216"></a><span class="hs-identifier">pprMatchContextNoun</span><span> </span><a href="HsExpr.html#PatSyn"><span class="hs-identifier hs-var">PatSyn</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pattern synonym declaration&quot;</span><span>
</span><a name="line-2217"></a><span>
</span><a name="line-2218"></a><span class="hs-comment">-----------------</span><span>
</span><a name="line-2219"></a><span class="hs-identifier">pprAStmtContext</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pprStmtContext</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825083"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825083"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2220"></a><a name="pprAStmtContext"><a href="HsExpr.html#pprAStmtContext"><span class="hs-identifier">pprAStmtContext</span></a></a><span> </span><a name="local-1627825478"><a href="#local-1627825478"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627825481"><span class="hs-identifier hs-var">article</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprStmtContext"><span class="hs-identifier hs-var">pprStmtContext</span></a><span> </span><a href="#local-1627825478"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2221"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-2222"></a><span>    </span><a name="local-1627825479"><a href="#local-1627825479"><span class="hs-identifier">pp_an</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;an&quot;</span><span>
</span><a name="line-2223"></a><span>    </span><a name="local-1627825480"><a href="#local-1627825480"><span class="hs-identifier">pp_a</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;a&quot;</span><span>
</span><a name="line-2224"></a><span>    </span><a name="local-1627825481"><a href="#local-1627825481"><span class="hs-identifier">article</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-1627825478"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-2225"></a><span>                  </span><a href="HsExpr.html#MDoExpr"><span class="hs-identifier hs-var">MDoExpr</span></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825479"><span class="hs-identifier hs-var">pp_an</span></a><span>
</span><a name="line-2226"></a><span>                  </span><a href="HsExpr.html#PArrComp"><span class="hs-identifier hs-var">PArrComp</span></a><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825479"><span class="hs-identifier hs-var">pp_an</span></a><span>
</span><a name="line-2227"></a><span>                  </span><a href="HsExpr.html#GhciStmtCtxt"><span class="hs-identifier hs-var">GhciStmtCtxt</span></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825479"><span class="hs-identifier hs-var">pp_an</span></a><span>
</span><a name="line-2228"></a><span>                  </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627825480"><span class="hs-identifier hs-var">pp_a</span></a><span>
</span><a name="line-2229"></a><span>
</span><a name="line-2230"></a><span>
</span><a name="line-2231"></a><span class="hs-comment">-----------------</span><span>
</span><a name="line-2232"></a><a name="pprStmtContext"><a href="HsExpr.html#pprStmtContext"><span class="hs-identifier">pprStmtContext</span></a></a><span> </span><a href="HsExpr.html#GhciStmtCtxt"><span class="hs-identifier hs-var">GhciStmtCtxt</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;interactive GHCi command&quot;</span><span>
</span><a name="line-2233"></a><span class="hs-identifier">pprStmtContext</span><span> </span><a href="HsExpr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;'do' block&quot;</span><span>
</span><a name="line-2234"></a><span class="hs-identifier">pprStmtContext</span><span> </span><a href="HsExpr.html#MDoExpr"><span class="hs-identifier hs-var">MDoExpr</span></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;'mdo' block&quot;</span><span>
</span><a name="line-2235"></a><span class="hs-identifier">pprStmtContext</span><span> </span><a href="HsExpr.html#ArrowExpr"><span class="hs-identifier hs-var">ArrowExpr</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;'do' block in an arrow command&quot;</span><span>
</span><a name="line-2236"></a><span class="hs-identifier">pprStmtContext</span><span> </span><a href="HsExpr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;list comprehension&quot;</span><span>
</span><a name="line-2237"></a><span class="hs-identifier">pprStmtContext</span><span> </span><a href="HsExpr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;monad comprehension&quot;</span><span>
</span><a name="line-2238"></a><span class="hs-identifier">pprStmtContext</span><span> </span><a href="HsExpr.html#PArrComp"><span class="hs-identifier hs-var">PArrComp</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;array comprehension&quot;</span><span>
</span><a name="line-2239"></a><span class="hs-identifier">pprStmtContext</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PatGuard"><span class="hs-identifier hs-var">PatGuard</span></a><span> </span><a name="local-1627825482"><a href="#local-1627825482"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pattern guard for&quot;</span><span> </span><a href="Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a><span> </span><a href="HsExpr.html#pprMatchContext"><span class="hs-identifier hs-var">pprMatchContext</span></a><span> </span><a href="#local-1627825482"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-2240"></a><span>
</span><a name="line-2241"></a><span class="hs-comment">-- Drop the inner contexts when reporting errors, else we get</span><span>
</span><a name="line-2242"></a><span class="hs-comment">--     Unexpected transform statement</span><span>
</span><a name="line-2243"></a><span class="hs-comment">--     in a transformed branch of</span><span>
</span><a name="line-2244"></a><span class="hs-comment">--          transformed branch of</span><span>
</span><a name="line-2245"></a><span class="hs-comment">--          transformed branch of monad comprehension</span><span>
</span><a name="line-2246"></a><span class="hs-identifier">pprStmtContext</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtCtxt"><span class="hs-identifier hs-var">ParStmtCtxt</span></a><span> </span><a name="local-1627825483"><a href="#local-1627825483"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2247"></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="StaticFlags.html#opt_PprStyle_Debug"><span class="hs-identifier hs-var">opt_PprStyle_Debug</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;parallel branch of&quot;</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprAStmtContext"><span class="hs-identifier hs-var">pprAStmtContext</span></a><span> </span><a href="#local-1627825483"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">]</span><span>
</span><a name="line-2248"></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprStmtContext"><span class="hs-identifier hs-var">pprStmtContext</span></a><span> </span><a href="#local-1627825483"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-2249"></a><span class="hs-identifier">pprStmtContext</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TransStmtCtxt"><span class="hs-identifier hs-var">TransStmtCtxt</span></a><span> </span><a name="local-1627825484"><a href="#local-1627825484"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-2250"></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="StaticFlags.html#opt_PprStyle_Debug"><span class="hs-identifier hs-var">opt_PprStyle_Debug</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;transformed branch of&quot;</span><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprAStmtContext"><span class="hs-identifier hs-var">pprAStmtContext</span></a><span> </span><a href="#local-1627825484"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">]</span><span>
</span><a name="line-2251"></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprStmtContext"><span class="hs-identifier hs-var">pprStmtContext</span></a><span> </span><a href="#local-1627825484"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-2252"></a><span>
</span><a name="line-2253"></a><span>
</span><a name="line-2254"></a><span class="hs-comment">-- Used to generate the string for a *runtime* error message</span><span>
</span><a name="line-2255"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825082"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825082"><span class="hs-identifier hs-type">id</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2256"></a><a name="matchContextErrString"><a href="HsExpr.html#matchContextErrString"><span class="hs-identifier">matchContextErrString</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#FunRhs"><span class="hs-identifier hs-var">FunRhs</span></a><span> </span><a name="local-1627825485"><a href="#local-1627825485"><span class="hs-identifier">fun</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;function&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825485"><span class="hs-identifier hs-var">fun</span></a><span>
</span><a name="line-2257"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#CaseAlt"><span class="hs-identifier hs-var">CaseAlt</span></a><span>              </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;case&quot;</span><span>
</span><a name="line-2258"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#IfAlt"><span class="hs-identifier hs-var">IfAlt</span></a><span>                </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;multi-way if&quot;</span><span>
</span><a name="line-2259"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#PatBindRhs"><span class="hs-identifier hs-var">PatBindRhs</span></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pattern binding&quot;</span><span>
</span><a name="line-2260"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#RecUpd"><span class="hs-identifier hs-var">RecUpd</span></a><span>               </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;record update&quot;</span><span>
</span><a name="line-2261"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#LambdaExpr"><span class="hs-identifier hs-var">LambdaExpr</span></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;lambda&quot;</span><span>
</span><a name="line-2262"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#ProcExpr"><span class="hs-identifier hs-var">ProcExpr</span></a><span>             </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;proc&quot;</span><span>
</span><a name="line-2263"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#ThPatSplice"><span class="hs-identifier hs-var">ThPatSplice</span></a><span>                </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;matchContextErrString&quot;</span><span>  </span><span class="hs-comment">-- Not used at runtime</span><span>
</span><a name="line-2264"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#ThPatQuote"><span class="hs-identifier hs-var">ThPatQuote</span></a><span>                 </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;matchContextErrString&quot;</span><span>  </span><span class="hs-comment">-- Not used at runtime</span><span>
</span><a name="line-2265"></a><span class="hs-identifier">matchContextErrString</span><span> </span><a href="HsExpr.html#PatSyn"><span class="hs-identifier hs-var">PatSyn</span></a><span>                     </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;matchContextErrString&quot;</span><span>  </span><span class="hs-comment">-- Not used at runtime</span><span>
</span><a name="line-2266"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#ParStmtCtxt"><span class="hs-identifier hs-var">ParStmtCtxt</span></a><span> </span><a name="local-1627825486"><a href="#local-1627825486"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#matchContextErrString"><span class="hs-identifier hs-var">matchContextErrString</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="#local-1627825486"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-2267"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TransStmtCtxt"><span class="hs-identifier hs-var">TransStmtCtxt</span></a><span> </span><a name="local-1627825487"><a href="#local-1627825487"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#matchContextErrString"><span class="hs-identifier hs-var">matchContextErrString</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="#local-1627825487"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-2268"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#PatGuard"><span class="hs-identifier hs-var">PatGuard</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;pattern guard&quot;</span><span>
</span><a name="line-2269"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#GhciStmtCtxt"><span class="hs-identifier hs-var">GhciStmtCtxt</span></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;interactive GHCi command&quot;</span><span>
</span><a name="line-2270"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;'do' block&quot;</span><span>
</span><a name="line-2271"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#ArrowExpr"><span class="hs-identifier hs-var">ArrowExpr</span></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;'do' block&quot;</span><span>
</span><a name="line-2272"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#MDoExpr"><span class="hs-identifier hs-var">MDoExpr</span></a><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;'mdo' block&quot;</span><span>
</span><a name="line-2273"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;list comprehension&quot;</span><span>
</span><a name="line-2274"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;monad comprehension&quot;</span><span>
</span><a name="line-2275"></a><span class="hs-identifier">matchContextErrString</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#StmtCtxt"><span class="hs-identifier hs-var">StmtCtxt</span></a><span> </span><a href="HsExpr.html#PArrComp"><span class="hs-identifier hs-var">PArrComp</span></a><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;array comprehension&quot;</span><span>
</span><a name="line-2276"></a><span>
</span><a name="line-2277"></a><span class="hs-identifier">pprMatchInCtxt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825079"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825080"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825081"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-2278"></a><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsMatchContext"><span class="hs-identifier hs-type">HsMatchContext</span></a><span> </span><a href="#local-1627825079"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#Match"><span class="hs-identifier hs-type">Match</span></a><span> </span><a href="#local-1627825080"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825081"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2279"></a><a name="pprMatchInCtxt"><a href="HsExpr.html#pprMatchInCtxt"><span class="hs-identifier">pprMatchInCtxt</span></a></a><span> </span><a name="local-1627825488"><a href="#local-1627825488"><span class="hs-identifier">ctxt</span></a></a><span> </span><a name="local-1627825489"><a href="#local-1627825489"><span class="hs-identifier">match</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;In&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprMatchContext"><span class="hs-identifier hs-var">pprMatchContext</span></a><span> </span><a href="#local-1627825488"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a><span class="hs-special">)</span><span>
</span><a name="line-2280"></a><span>                             </span><span class="hs-number">4</span><span> </span><span class="hs-special">(</span><a href="HsExpr.html#pprMatch"><span class="hs-identifier hs-var">pprMatch</span></a><span> </span><a href="#local-1627825488"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="#local-1627825489"><span class="hs-identifier hs-var">match</span></a><span class="hs-special">)</span><span>
</span><a name="line-2281"></a><span>
</span><a name="line-2282"></a><span class="hs-identifier">pprStmtInCtxt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825076"><span class="hs-identifier hs-type">idL</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="#local-1627825077"><span class="hs-identifier hs-type">idR</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-1627825078"><span class="hs-identifier hs-type">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-2283"></a><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsExpr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a><span> </span><a href="#local-1627825076"><span class="hs-identifier hs-type">idL</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExpr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a><span> </span><a href="#local-1627825076"><span class="hs-identifier hs-type">idL</span></a><span> </span><a href="#local-1627825077"><span class="hs-identifier hs-type">idR</span></a><span> </span><a href="#local-1627825078"><span class="hs-identifier hs-type">body</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-2284"></a><a name="pprStmtInCtxt"><a href="HsExpr.html#pprStmtInCtxt"><span class="hs-identifier">pprStmtInCtxt</span></a></a><span> </span><a name="local-1627825490"><a href="#local-1627825490"><span class="hs-identifier">ctxt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#LastStmt"><span class="hs-identifier hs-var">LastStmt</span></a><span> </span><a name="local-1627825491"><a href="#local-1627825491"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-2285"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsExpr.html#isListCompExpr"><span class="hs-identifier hs-var">isListCompExpr</span></a><span> </span><a href="#local-1627825490"><span class="hs-identifier hs-var">ctxt</span></a><span>      </span><span class="hs-comment">-- For [ e | .. ], do not mutter about &quot;stmts&quot;</span><span>
</span><a name="line-2286"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;In the expression:&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627825491"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-2287"></a><span>
</span><a name="line-2288"></a><span class="hs-identifier">pprStmtInCtxt</span><span> </span><a name="local-1627825492"><a href="#local-1627825492"><span class="hs-identifier">ctxt</span></a></a><span> </span><a name="local-1627825493"><a href="#local-1627825493"><span class="hs-identifier">stmt</span></a></a><span>
</span><a name="line-2289"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;In a stmt of&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsExpr.html#pprAStmtContext"><span class="hs-identifier hs-var">pprAStmtContext</span></a><span> </span><a href="#local-1627825492"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a><span class="hs-special">)</span><span>
</span><a name="line-2290"></a><span>       </span><span class="hs-number">2</span><span> </span><span class="hs-special">(</span><a href="#local-1627825494"><span class="hs-identifier hs-var">ppr_stmt</span></a><span> </span><a href="#local-1627825493"><span class="hs-identifier hs-var">stmt</span></a><span class="hs-special">)</span><span>
</span><a name="line-2291"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-2292"></a><span>    </span><span class="hs-comment">-- For Group and Transform Stmts, don't print the nested stmts!</span><span>
</span><a name="line-2293"></a><span>    </span><a name="local-1627825494"><a href="#local-1627825494"><span class="hs-identifier">ppr_stmt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExpr.html#TransStmt"><span class="hs-identifier hs-var">TransStmt</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">trS_by</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825495"><a href="#local-1627825495"><span class="hs-identifier">by</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">trS_using</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825496"><a href="#local-1627825496"><span class="hs-identifier">using</span></a></a><span>
</span><a name="line-2294"></a><span>                        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">trS_form</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627825497"><a href="#local-1627825497"><span class="hs-identifier">form</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprTransStmt"><span class="hs-identifier hs-var">pprTransStmt</span></a><span> </span><a href="#local-1627825495"><span class="hs-identifier hs-var">by</span></a><span> </span><a href="#local-1627825496"><span class="hs-identifier hs-var">using</span></a><span> </span><a href="#local-1627825497"><span class="hs-identifier hs-var">form</span></a><span>
</span><a name="line-2295"></a><span>    </span><span class="hs-identifier">ppr_stmt</span><span> </span><a name="local-1627825498"><a href="#local-1627825498"><span class="hs-identifier">stmt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprStmt"><span class="hs-identifier hs-var">pprStmt</span></a><span> </span><a href="#local-1627825498"><span class="hs-identifier hs-var">stmt</span></a><span>
</span><a name="line-2296"></a></pre></body></html>