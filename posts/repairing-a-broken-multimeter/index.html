<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Repairing a Broken Multimeter - Bartosz Nitka</title>
  <meta property="og:title" content="Repairing a Broken Multimeter - Bartosz Nitka" />
  <meta name="twitter:title" content="Repairing a Broken Multimeter - Bartosz Nitka" />
  <meta name="description" content="In December 2017 my multimeter broke.
It no longer measured resistance correctly.
For low resistances, the numbers looked alright, but with bigger resistances, the value didn&rsquo;t go higher than about 40kΩ.
I only had one multimeter, so I didn&rsquo;t have anything to compare against, so how did I determine that it&rsquo;s broken for sure?

It seemed to measure 1kΩ accurately, so I used Ohm&rsquo;s Law and connected 10 of the 1kΩ resistors in series.
It read about 7kΩ. Uh, oh.

I ordered a new one, same model.
I complained to my friends on Facebook and got some pity likes.
I didn&rsquo;t know much about electronics, so I accepted that the old one is broken and only trusted the new one.
Until it broke as well. In a similar way.

How did I break it?
To be honest, I don&rsquo;t know.
I assume it was a user error.
If I had to guess I either tried to measure the resistance on a powered circuit or tried to measure current with the red lead still in the Voltage/Resistance socket.

Last year I asked Santa for a different multimeter as I was tired of buying them myself.
After learning some more electronics theory I decided to take a look and try to fix it.">
  <meta property="og:description" content="In December 2017 my multimeter broke.
It no longer measured resistance correctly.
For low resistances, the numbers looked alright, but with bigger resistances, the value didn&rsquo;t go higher than about 40kΩ.
I only had one multimeter, so I didn&rsquo;t have anything to compare against, so how did I determine that it&rsquo;s broken for sure?

It seemed to measure 1kΩ accurately, so I used Ohm&rsquo;s Law and connected 10 of the 1kΩ resistors in series.
It read about 7kΩ. Uh, oh.

I ordered a new one, same model.
I complained to my friends on Facebook and got some pity likes.
I didn&rsquo;t know much about electronics, so I accepted that the old one is broken and only trusted the new one.
Until it broke as well. In a similar way.

How did I break it?
To be honest, I don&rsquo;t know.
I assume it was a user error.
If I had to guess I either tried to measure the resistance on a powered circuit or tried to measure current with the red lead still in the Voltage/Resistance socket.

Last year I asked Santa for a different multimeter as I was tired of buying them myself.
After learning some more electronics theory I decided to take a look and try to fix it.">
  <meta name="twitter:description" content="In December 2017 my multimeter broke.
It no longer measured resistance correctly.
For low resistances, the numbers looked alright, but with bigger resistances, the value didn&rsquo;t go higher than …">
  <meta name="author" content="Bartosz Nitka"/>
  <meta property="og:site_name" content="Bartosz Nitka" />
  <meta property="og:url" content="http://niteria.github.io/posts/repairing-a-broken-multimeter/" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.55.2" />

  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />

  <script src="/js/script.js"></script>
  <script src="/js/custom.js"></script>
  <script defer src="/js/fontawesome.js"></script>
</head>

<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">Bartosz Nitka</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-archives"><a href="/archives/" title="Archives">Archives</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <article class="article">
      
      
      <h1 class="article-title">Repairing a Broken Multimeter</h1>
      
      <hr class="article-title-bottom">
      <ul class="article-meta">
        <li class="article-meta-date"><time>March 12, 2020</time></li>
        <li class="article-meta-tags">
          <a href="/tags/electronics/">
            <i class="fas fa-tag"></i>
            electronics
          </a>&nbsp;
        </li>
        <li class="article-meta-tags">
          <a href="/tags/fighting-entropy/">
            <i class="fas fa-tag"></i>
            fighting-entropy
          </a>&nbsp;
        </li>
      </ul>
      
<aside class="toc">
  <nav id="TableOfContents">
<ul>
<li><a href="#the-patient">The patient</a></li>
<li><a href="#sanity-checks">Sanity checks</a></li>
<li><a href="#deep-dive">Deep dive</a></li>
</ul>
</nav>
</aside>
      <p>In December 2017 my multimeter broke.
It no longer measured resistance correctly.
For low resistances, the numbers looked alright, but with bigger resistances, the value didn&rsquo;t go higher than about <code>40kΩ</code>.
I only had one multimeter, so I didn&rsquo;t have anything to compare against, so how did I determine that it&rsquo;s broken for sure?</p>

<p>It seemed to measure <code>1kΩ</code> accurately, so I used Ohm&rsquo;s Law and connected 10 of the <code>1kΩ</code> resistors in series.
It read about <code>7kΩ</code>. Uh, oh.</p>

<p>I ordered a new one, same model.
I complained to my friends on Facebook and got some pity likes.
I didn&rsquo;t know much about electronics, so I accepted that the old one is broken and only trusted the new one.
Until it broke as well. In a similar way.</p>

<p>How did I break it?
To be honest, I don&rsquo;t know.
I assume it was a user error.
If I had to guess I either tried to measure the resistance on a powered circuit or tried to measure current with the red lead still in the Voltage/Resistance socket.</p>

<p>Last year I asked Santa for a different multimeter as I was tired of buying them myself.
After learning some more electronics theory I decided to take a look and try to fix it.</p>

<h1 id="the-patient">The patient</h1>

<p>I had two patients with similar, but not the same symptoms.
One of them topped up resistance measurements at <code>40kΩ</code> and another at <code>5kΩ</code>.
They are the same <a href="https://www.amazon.co.uk/Proster-Multimeter-VC97-Capacitance-Resistance/dp/B00EYYJQOO">Proster VC97 Digital Multimeter</a>.</p>

<figure><a href="/static/VC97/proster-vc97.jpg">
    <img src="/static/VC97/proster-vc97.jpg" width="30%"/> </a><figcaption>
            <h4>Proster VC97 Multimeter</h4>
        </figcaption>
</figure>


<h1 id="sanity-checks">Sanity checks</h1>

<p>I wanted to try some easy things before diving deep and trying to understand the root cause.</p>

<p>Here&rsquo;s what I tried:</p>

<ul>
<li>replaced the batteries with fresh ones</li>
<li>checked the fuses with a continuity check</li>
<li>inspected the board visually, for signs of fried components or shorts</li>
<li>cleaned the board with isopropyl alcohol in case some residue was creating shorts</li>
<li>checked the resistors if they match the values on the package</li>
</ul>

<p>None of it helped.</p>

<h1 id="deep-dive">Deep dive</h1>

<p>It was time to understand how the device is supposed to work and figure out why it doesn&rsquo;t.</p>

<p><figure><a href="/static/VC97/board-back.jpg">
    <img src="/static/VC97/board-back.jpg" width="60%"/> </a><figcaption>
            <h4>Back board</h4>
        </figcaption>
</figure>

<figure><a href="/static/VC97/board-front-with-dial-and-lcd.jpg">
    <img src="/static/VC97/board-front-with-dial-and-lcd.jpg" width="60%"/> </a><figcaption>
            <h4>Front board with the dial and LCD</h4>
        </figcaption>
</figure>

<figure><a href="/static/VC97/board-front-with-dial.jpg">
    <img src="/static/VC97/board-front-with-dial.jpg" width="60%"/> </a><figcaption>
            <h4>Front board with the dial</h4>
        </figcaption>
</figure>

<figure><a href="/static/VC97/board-front.jpg">
    <img src="/static/VC97/board-front.jpg" width="60%"/> </a><figcaption>
            <h4>Front board</h4>
        </figcaption>
</figure>
</p>

<p>I looked at the board and recognized most of the elements: smd resistors, smd capacitors, through-hole resistors, fuses, smd potentiometers.
There were some I didn&rsquo;t immediately recognize.
It took me some googling to figure out that <code>MZ5</code> is a PTC (Positive Temperature Coefficient) thermistor.
<figure><a href="/static/VC97/mz5.jpg">
    <img src="/static/VC97/mz5.jpg" width="60%"/> </a><figcaption>
            <h4>MZ5</h4>
        </figcaption>
</figure>
</p>

<p>What didn&rsquo;t look good was that at the top of the board there was 100-pin IC hidden under a thick layer of opaque epoxy.
The board had 2 layers of copper and multiple vias, so it was feasible, but a bit tedious to try to trace the connections.</p>

<figure><a href="/static/VC97/ic-closeup.jpg">
    <img src="/static/VC97/ic-closeup.jpg" width="60%"/> </a><figcaption>
            <h4>Mysterious IC</h4>
        </figcaption>
</figure>


<p>After some googling, I found a schematic for a VC97.</p>

<figure><a href="/static/VC97/Victor-VC97-multimeter-schema-vc97-circuit-fs97aa-lp1.gif">
    <img src="/static/VC97/Victor-VC97-multimeter-schema-vc97-circuit-fs97aa-lp1.gif"/> </a><figcaption>
            <h4>VC97 Schematic</h4>
        </figcaption>
</figure>


<p>I&rsquo;m aware that there are multiple VC97 multimeters:</p>

<ul>
<li><a href="https://www.amazon.com/Victor-Digital-Multimeter-Digits-Counts/dp/B00PA8I3A6">Victor Digital Multimeter VC97</a></li>
<li><a href="https://www.amazon.com/AideTek-VC97-Multimeter-Capacitor-Frequency/dp/B008GTEZPI">AideTek VC97+ Digital Auto Range Multimeter</a></li>
<li><a href="https://www.amazon.com/Sinometer-VC97-Multimeter-Thermometer-Resolution/dp/B01M0RA7QM">Sinometer VC97 Auto Ranging True RMS Digital Multimeter</a></li>
<li><a href="https://www.amazon.com/Proster-Multimeter-Capacitance-Resistance-Transistor/dp/B00EYYJQOO">Proster Digital Multimeter</a> - mine</li>
<li><a href="https://www.amazon.co.uk/NKTECH-Temperature-Capacitance-Thermometer-Screwdriver/dp/B0759V4VL4">NKTECH VICI VC97 LCD Digital Multimeter</a></li>
</ul>

<p>I figured out that the schematic isn&rsquo;t exactly for my model, as mine has 2 <code>MZ5</code> PTC thermistors and is powered from <code>3V</code> instead of <code>9V</code>, but it looked close enough.
I had a 100-pin IC, a similar set of measurements, <code>4MHz</code> clock, the same number of pins for the LCD and a lot of the pins agreed with connected resistors.
Based on the file name of the schematic I assume it&rsquo;s for the Victor Digital Multimeter VC97 model.</p>

<p>I tried to figure out how it works on my own and a lot of it made sense, but I needed to know what the IC does.
The IC on the schematic is <code>FS9711.LP1</code>.</p>

<p>I googled for the IC datasheet, but I didn&rsquo;t get an exact match. <a href="https://www.alldatasheet.com/view.jsp?Searchword=FS9711">There&rsquo;s a few IC&rsquo;s matching the prefix.</a>
My multimeter has 4,000 counts, so that narrows it down to 4 of them on the list.
It turns out that the <code>-PCE</code> suffix demarks a “Pb free package”, so that&rsquo;s only 2 ICs: <code>FS9721-LP1</code> and <code>FS9721-LP3</code>.</p>

<p>I started reading the <code>FS9721-LP3</code> <a href="/static/VC97/FS9721-LP3.pdf">datasheet</a>.
I understood that <code>MEA1</code>, <code>MEA2</code>, <code>MEA3</code>, <code>MEA4</code> pins select the function.
I familiarised myself with all the pin functions and started marking out pins related to resistance measurements.
<code>Section 10</code> describes how the function is selected and what the bit patterns are.
I wanted to confirm that I have at least a compatible IC, so I set my multimeter to Ohm meter and read out the pin values with another multimeter using a continuity check.
<code>0011</code> is what I read. <code>1101</code> is what the IC wanted for resistance measurement.
Not my chip then.
<figure><a href="/static/VC97/lp3-measurement-mode.png">
    <img src="/static/VC97/lp3-measurement-mode.png"/> </a><figcaption>
            <h4>FS9721-LP3 measurement modes</h4>
        </figcaption>
</figure>
</p>

<p>Okay, next I try <a href="/static/VC97/FS9721-LP1.pdf"><code>FS9721-LP1</code></a>.
A quick look at the table in <code>Section 10</code> confirmed that <code>0011</code> is resistance mode.
I checked the other modes and became more confident that I have the right chip.
<figure><a href="/static/VC97/lp1-measurement-mode.png">
    <img src="/static/VC97/lp1-measurement-mode.png"/> </a><figcaption>
            <h4>FS9721-LP1 measurement modes</h4>
        </figcaption>
</figure>
</p>

<p>In <code>Section 14.1</code> there&rsquo;s a <code>Common Use Circuit Diagram</code>, basically an example multimeter built with this chip.</p>

<figure><a href="/static/VC97/lp1-common-use-circuit.png">
    <img src="/static/VC97/lp1-common-use-circuit.png"/> </a><figcaption>
            <h4>FS9721-LP1 Common Use Circuit</h4>
        </figcaption>
</figure>


<p>It&rsquo;s different from the schematic that I found for <code>VC97</code>, but the reference resistances match and it&rsquo;s more readable than the previous schematic.
It&rsquo;s also easier to separate parts of the circuit for different measurements.
<code>Sections 14.4</code> onwards focus on parts of the circuit and their purpose.
The power circuit has a diagram for voltage levels, so I confirmed that my multimeter matches them.</p>

<figure><a href="/static/VC97/lp1-voltage-levels.png">
    <img src="/static/VC97/lp1-voltage-levels.png"/> </a><figcaption>
            <h4>FS9721-LP1 Voltage Levels</h4>
        </figcaption>
</figure>


<p>There is a slight deviation in the <code>REFI-AGND</code> voltage, mine had <code>4.4V</code>.
It turns out it&rsquo;s adjustable with the <code>VR1</code> potentiometer on my board, but I couldn&rsquo;t get it below <code>4.2V</code>.</p>

<p><code>Section 14.14 Resistance Measurement</code> presents only parts relevant to the resistance measurement.</p>

<figure><a href="/static/VC97/lp1-resistance-measurement.png">
    <img src="/static/VC97/lp1-resistance-measurement.png"/> </a><figcaption>
            <h4>FS9721-LP1 Section 14.14 Resistance Measurement</h4>
        </figcaption>
</figure>


<p>It&rsquo;s a simple circuit with <code>Rx</code> being the resistance being measured.
One easy thing to tell is that the <code>COM</code> and <code>Ohm</code> terminals don&rsquo;t connect before they go into the IC, so the resistance between them should be high if not infinite.
I set my unpowered multimeter to Ohm mode and measured the resistance between <code>COM</code> and <code>Ohm</code> with a working multimeter.
<code>38kΩ</code>. Huh. That&rsquo;s pretty low, it seems that I have a short.</p>

<p>A little digression on how the multimeter dial works.
On the board, there&rsquo;s a set of concentric circles with partly exposed copper.
On the bottom of the dial, there are small V-shaped metallic springs that connect the adjacent traces of copper when in the right position.
I wanted to isolate the part of the circuit that causes the short, so I removed the springs until the short was gone.
The last spring to remove pointed me to the two copper traces that when connected cause a short.
This allowed me to focus on smaller parts of the circuit until I narrowed it down to a capacitor that measured <code>38kΩ</code> across it - <code>C18</code>.</p>

<p><figure><a href="/static/VC97/dial-back.jpg">
    <img src="/static/VC97/dial-back.jpg" width="60%"/> </a><figcaption>
            <h4>Back of the dial</h4>
        </figcaption>
</figure>

<figure><a href="/static/VC97/exposed-copper.jpg">
    <img src="/static/VC97/exposed-copper.jpg" width="60%"/> </a><figcaption>
            <h4>Exposed copper</h4>
        </figcaption>
</figure>

<figure><a href="/static/VC97/dial-back-closeup.jpg">
    <img src="/static/VC97/dial-back-closeup.jpg" width="60%"/> </a><figcaption>
            <h4>The V-shaped springs</h4>
        </figcaption>
</figure>
</p>

<p>Now notice that at the beginning of the troubleshooting I didn&rsquo;t check the capacitors.
I didn&rsquo;t know how I was supposed to check them.
As I understood measuring capacitance in-circuit doesn&rsquo;t work and the capacitors are unmarked, so even if I determined their capacitance I had nothing to compare against.
Maybe one of the schematics, but none of them were for my exact multimeter, so I didn&rsquo;t want to do that.
After I finally found the “<code>38kΩ</code> capacitor”, it didn&rsquo;t seem right to me, but I wasn&rsquo;t sure what I should expect, so <a href="https://www.ifixit.com/Wiki/Troubleshhoting_logic_board_components">I googled</a>.
It turns out when you try to measure the resistance across a capacitor it&rsquo;s supposed to start at some resistance and the resistance should “grow” as the capacitor gets charged.
Other capacitors in the circuit did that and <code>C18</code> didn&rsquo;t. I concluded it was faulty.
I checked <code>C18</code> on the other broken multimeter, the same thing, only different “resistance” - <code>5kΩ</code>.</p>

<figure><a href="/static/VC97/c18-closeup.jpg">
    <img src="/static/VC97/c18-closeup.jpg" width="60%"/> </a><figcaption>
            <h4>C18 - the culprit</h4>
        </figcaption>
</figure>


<p>I have an assortment of smd capacitors, so I would happily replace it, but what capacitance is it supposed to be?
None of the schematics I looked at even use a capacitor there and I don&rsquo;t have a same-model working multimeter, so I didn&rsquo;t know what to replace it with.
So I took a leap of faith and desoldered it.</p>

<p>I reassembled the multimeter and it worked! It measured correct resistances again! But what did I break?</p>

<p><strong>[UPDATE: 02.06.2022]</strong></p>

<p>The mystery of <code>C18</code> is solved in <a href="http://niteria.github.io/posts/repairing-a-broken-multimeter-part-2/" title="Repairing a Broken Multimeter Part 2">Repairing a Broken Multimeter Part 2</a>.</p>
    </article>

    


    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/posts/fixing-yakuake-shift-tab/" data-toggle="tooltip" data-placement="top" title="Fixing Yakuake Shift&#43;Tab">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/posts/why-did-no-one-tell-me-about-gdb-add-index/" data-toggle="tooltip" data-placement="top" title="Why did no one tell me about gdb-add-index?">Older &gt;</a>
      </li>
    </ul>
  </div>


<div class="site-footer">
  <div class="copyright">&copy; Copyright 2019 Bartosz Nitka</div>
  <ul class="site-footer-items">
    <li class="site-footer-item-about"><a href="/about/" title="About">About</a></li>
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-138681047-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>
</html>
